(()=>{"use strict";class e{constructor(){this.hasInsertedAccess=!1,this.active_filter=!1,this.colorBlindnessClasses=["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"],this.visionClasses=["vision-loss-moderate","vision-loss-severe","vision-blindness"],this.cssFilter="\n  <style>.protanopia{-webkit-filter:url(#protanopia) grayscale(0)!important;filter:url(#protanopia) grayscale(0)!important}.protanomaly{-webkit-filter:url(#protanomaly) grayscale(0)!important;filter:url(#protanomaly) grayscale(0)!important}.deuteranopia{-webkit-filter:url(#deuteranopia) grayscale(0)!important;filter:url(#deuteranopia) grayscale(0)!important}.deuteranomaly{-webkit-filter:url(#deuteranomaly) grayscale(0)!important;filter:url(#deuteranomaly) grayscale(0)!important}.tritanopia{-webkit-filter:url(#tritanopia) grayscale(0)!important;filter:url(#tritanopia) grayscale(0)!important}.tritanomaly{-webkit-filter:url(#tritanomaly) grayscale(0)!important;filter:url(#tritanomaly) grayscale(0)!important}.achromatopsia{-webkit-filter:url(#achromatopsia) grayscale(0)!important;filter:url(#achromatopsia) grayscale(0)!important}.achromatomaly{-webkit-filter:url(#achromatomaly) grayscale(0)!important;filter:url(#achromatomaly) grayscale(0)!important}.grayscale{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}.vision-loss-moderate body>*{-webkit-filter:blur(1px)!important;filter:blur(1px)!important}.vision-loss-severe body>*{-webkit-filter:blur(10px)!important;filter:blur(10px)!important}.vision-blindness body>*{background-color:#fff!important;-webkit-filter:brightness(0)!important;filter:brightness(0)!important}#access-filter{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;width:1px;overflow:hidden;position:absolute!important;word-wrap:normal!important}</style>",this.svgFilterTemplate='<svg \n  id="access-filter"\n  aria-hidden="true"\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1">\n  <defs>\n    <filter id="protanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.567, 0.433, 0,     0, 0\n                0.558, 0.442, 0,     0, 0\n                0,     0.242, 0.758, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="protanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.817, 0.183, 0,     0, 0\n                0.333, 0.667, 0,     0, 0\n                0,     0.125, 0.875, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="deuteranopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.625, 0.375, 0,   0, 0\n                0.7,   0.3,   0,   0, 0\n                0,     0.3,   0.7, 0, 0\n                0,     0,     0,   1, 0"/>\n    </filter>\n    <filter id="deuteranomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.8,   0.2,   0,     0, 0\n                0.258, 0.742, 0,     0, 0\n                0,     0.142, 0.858, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.95, 0.05,  0,     0, 0\n                0,    0.433, 0.567, 0, 0\n                0,    0.475, 0.525, 0, 0\n                0,    0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.967, 0.033, 0,     0, 0\n                0,     0.733, 0.267, 0, 0\n                0,     0.183, 0.817, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatopsia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.618, 0.320, 0.062, 0, 0\n                0.163, 0.775, 0.062, 0, 0\n                0.163, 0.320, 0.516, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n  </defs>\n</svg>'}aplicarFiltro(e){null!=e?(this.active_filter?this.removeTests("colorBlindness"):this.toggleTest("colorBlindness",e),this.active_filter=!this.active_filter):console.error("Error al aplicar los filtros, la opcion no se pintada correctamente")}toggleTest(e,t){this.hasInsertedAccess||(this.insertFiles(this.svgFilterTemplate,this.cssFilter),this.hasInsertedAccess=!0),this.removeTests(e),document.documentElement.classList.add(t)}insertFiles(e,t){document.body.insertAdjacentHTML("beforeend",e),document.body.insertAdjacentHTML("beforeend",t)}removeTests(e){if("vision"==e)for(let e=0;e<this.visionClasses.length;e++)document.documentElement.classList.remove(this.visionClasses[e]);else if("colorBlindness"==e)for(let e=0;e<this.colorBlindnessClasses.length;e++)document.documentElement.classList.remove(this.colorBlindnessClasses[e])}}class t{static addFilterBufferStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter-list-buffer {\n            position: fixed;\n            top: 50%;\n            right: 20px;\n            transform: translateY(-50%);\n            z-index: 9999;\n            background-color: #FFFF00;\n            color: #000000;\n        }\n    ",e.cssRules.length)}static addFilterOptionsStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter-option {\n          padding: 0.5rem;\n        }\n    ",e.cssRules.length)}static addFilterStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter_button {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",e.cssRules.length)}}class i{static addZoomMessageTextBoxClass(){const e=document.styleSheets[0];e.insertRule(".zoom-message-txtbox {  \n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 9999;\n          background-color: #FFFF00;\n          color: #000000;\n          font-size: 20rem;\n          text-align: center;\n          width: 80%;\n          height: 80%;\n          font-family: Arial, sans-serif;\n      }",e.cssRules.length)}}class s{constructor(){this.TRANSITION_DURATION=800,this.level=1,this.mouseX=0,this.mouseY=0,this.panEngageTimeout=-1,this.panUpdateInterval=-1,this.callbackTimeout=-1,this.supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,this.keyupEvent=e=>{1!==this.level&&27===e.keyCode&&this.out(void 0)},this.mouseMoveEvent=e=>{1!==this.level&&(this.mouseX=e.clientX,this.mouseY=e.clientY)},this.supportsTransforms&&(document.body.style.transition="transform "+this.TRANSITION_DURATION+"ms ease"),document.addEventListener("keyup",this.keyupEvent),document.addEventListener("mousemove",this.mouseMoveEvent)}magnify(e,t){var i=this.getScrollOffset();if(e.width=e.width||1,e.height=e.height||1,e.x-=(window.innerWidth-e.width*t)/2,e.y-=(window.innerHeight-e.height*t)/2,this.supportsTransforms)if(1===t)document.body.style.transform="";else{var s=i.x+"px "+i.y+"px",n="translate("+-e.x+"px,"+-e.y+"px) scale("+t+")";document.body.style.transformOrigin=s,document.body.style.transform=n}else 1===t?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height=""):(document.body.style.position="relative",document.body.style.left=-(i.x+e.x)/t+"px",document.body.style.top=-(i.y+e.y)/t+"px",document.body.style.width=100*t+"%",document.body.style.height=100*t+"%");this.level=t}pan(){var e=.12*window.innerWidth,t=.12*window.innerHeight,i=this.getScrollOffset();this.mouseY<t?window.scroll(i.x,i.y-(1-this.mouseY/t)*(14/this.level)):this.mouseY>window.innerHeight-t&&window.scroll(i.x,i.y+(1-(window.innerHeight-this.mouseY)/t)*(14/this.level)),this.mouseX<e?window.scroll(i.x-(1-this.mouseX/e)*(14/this.level),i.y):this.mouseX>window.innerWidth-e&&window.scroll(i.x+(1-(window.innerWidth-this.mouseX)/e)*(14/this.level),i.y)}getScrollOffset(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}to(e){if(1!==this.level)this.out(void 0);else{if(e.x=e.x||0,e.y=e.y||0,e.element){var t="number"==typeof e.padding?e.padding:20,i=e.element.getBoundingClientRect();e.x=i.left-t,e.y=i.top-t,e.width=i.width+2*t,e.height=i.height+2*t}void 0!==e.width&&void 0!==e.height&&(e.scale=Math.max(Math.min(window.innerWidth/e.width,window.innerHeight/e.height),1)),e.scale>1&&(e.x*=e.scale,e.y*=e.scale,e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),this.magnify(e,e.scale),!1!==e.pan&&(this.panEngageTimeout=setTimeout(this.calculatePanUpdateInterval,this.TRANSITION_DURATION)),"function"==typeof e.callback&&(this.callbackTimeout=setTimeout(e.callback,this.TRANSITION_DURATION)))}}calculatePanUpdateInterval(){this.panUpdateInterval=setInterval(this.pan,1e3/60)}out(e){clearTimeout(this.panEngageTimeout),clearInterval(this.panUpdateInterval),clearTimeout(this.callbackTimeout),this.magnify(new n(0,0,1),1),e&&"function"==typeof e.callback&&setTimeout(e.callback,this.TRANSITION_DURATION),this.level=1}}class n{constructor(e,t,i){this.x=0,this.y=0,this.scale=0,this.x=e,this.y=t,this.scale=i}}const o=new class{constructor(e=!1){this.enableZoomOptions=e,this.zoomStatus=!1,this.active_message='<div id="zoom-status" class="zoom-message-txtbox">On</div>',this.deactive_message='<div id="zoom-status" class="zoom-message-txtbox">Off</div>',this.toogleZoom=e=>{this.zoomService.to(new n(e.x,e.y,10))},this.zoomService=new s}activeZoom(e,t){this.enableZoomOptions&&(e||!0!==t.ctrlKey||"backspace"!==t.key.toLowerCase()||(i.addZoomMessageTextBoxClass(),this.initialClickEvent(document.body)))}initialClickEvent(e){this.zoomStatus?this.showBoxMessage(e,this.deactive_message,!this.zoomStatus):this.showBoxMessage(e,this.active_message,!this.zoomStatus),this.zoomStatus=!this.zoomStatus}showBoxMessage(e,t,i){e.insertAdjacentHTML("beforebegin",t),setTimeout((()=>{const e=document.getElementById("zoom-status");null==e||e.remove()}),2e3),i?e.addEventListener("click",this.toogleZoom):e.removeEventListener("click",this.toogleZoom)}}(!0),a=(new class{constructor(i=!1){this.enableFilter=i,this.filterViewOn=!1,this.startFilter=e=>{const t=e.target;this.filterService.aplicarFiltro(t.textContent)},this.showFilterOptionsList=()=>{if(this.filterViewOn){var e=document.getElementById("filter_buffer");return null==e?void console.error("No hay instancia del buffer de opciones."):(e.remove(),void(this.filterViewOn=!this.filterViewOn))}var i=document.createElement("div");i.className="filter-list-buffer",i.id="filter_buffer";var s=document.getElementById("filter_button");null!=s?(s.appendChild(i),t.addFilterBufferStyleClass(),["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"].forEach((e=>{var t=document.getElementById("filter_buffer");null!=t?t.appendChild(this.buildFilterOption(e)):console.error("No hay instancia del buffer de opciones.")})),t.addFilterOptionsStyleClass(),this.filterViewOn=!this.filterViewOn):console.error("No se creo el boton correctamente.")},this.filterService=new e,this.showFilterOptions()}showFilterOptions(){const e=document.createElement("img");e.src="https://github.com/EyeeAssist/docs/blob/develop/src/assets/logo.png?raw=true",e.style.width="50px",e.style.borderRadius="50%";const i=document.createElement("div");i.className="filter_button",i.id="filter_button",i.appendChild(e),i.addEventListener("click",this.showFilterOptionsList),t.addFilterStyleClass(),document.body.appendChild(i)}buildFilterOption(e){var t=document.createElement("div");return t.className="filter-option",t.addEventListener("click",this.startFilter),t.textContent=e,t}}(!0),new class{constructor(e=!1){this.useScreenReader=e,this.synth=window.speechSynthesis,this.screenReaderStatus=!1,this.selectedArticle=null,this.selectedLink=null,this.articleIndex=-1,this.linkIndex=0,this.talk=(e,t=!0)=>{console.log("Hablando",e),!t||this.synth.cancel(),this.synth.speak(new SpeechSynthesisUtterance(e))},this.cancelTalk=()=>{this.synth.cancel()},this.useScreenReader}status(){return this.screenReaderStatus}sayWelcome(){this.talk("Hola bienvenido a la pagina X, si desea leer las acciones de la pagina presione control y enter")}sayGoodbay(){this.talk("Gracias por utilizar eyeeassist")}keybindsScreenReader(e){this.cancelReader(e),this.reRead(e),this.activeScreenReader(e),this.moveBetweenContent(e),this.moveBetweenLinks(e)}readChilds(e){var t;if("IMG"==e.nodeName){let t=e;this.talk("Imagen de "+t.alt,!1)}e.nodeType==Node.TEXT_NODE&&(null===(t=e.textContent)||void 0===t?void 0:t.trim())&&this.talk(e.textContent,!1),e.childNodes.forEach((e=>{this.readChilds(e)}))}moveBetweenContent(e){let t=document.getElementsByTagName("article");0!=t.length&&(this.screenReaderStatus&&!0===e.ctrlKey&&"arrowright"===e.key.toLowerCase()&&(this.articleIndex+=1,this.selectedArticle=t[this.articleIndex],console.log("Los hijos de el articulo son"),this.cancelTalk(),this.readChilds(this.selectedArticle),console.log("Hasta aqui llegan los hijos"),this.articleIndex===t.length-1&&(this.articleIndex=0)),this.screenReaderStatus&&!0===e.ctrlKey&&"arrowleft"===e.key.toLowerCase()&&(-1===this.articleIndex?this.articleIndex+=1:0==this.articleIndex?this.articleIndex=t.length-1:this.articleIndex-=1,this.selectedArticle=t[this.articleIndex],null!=this.selectedArticle.textContent&&(this.selectedArticle.focus(),this.talk(this.selectedArticle.textContent))))}activeScreenReader(e){!0===e.ctrlKey&&" "===e.key.toLowerCase()&&(this.screenReaderStatus?this.sayGoodbay():this.sayWelcome(),this.screenReaderStatus=!this.screenReaderStatus)}moveBetweenLinks(e){if(this.screenReaderStatus&&!1===e.ctrlKey&&"enter"===e.key.toLowerCase()&&null!=this.selectedLink&&(console.log(this.selectedLink),this.selectedLink.click()),this.screenReaderStatus&&!0===e.ctrlKey&&"enter"===e.key.toLowerCase()){let e=document.getElementsByClassName("text_reader_link");console.log(e[this.linkIndex].tagName),this.selectedLink=e[this.linkIndex],this.selectedLink.focus(),"TEXTAREA"==e[this.linkIndex].tagName?(this.selectedLink.addEventListener("input",(()=>{console.log(this.selectedLink)})),this.talk("Seleccionado un text area",!0)):null!==this.selectedLink.textContent&&this.talk(this.selectedLink.textContent,!0),this.linkIndex===e.length-1?this.linkIndex=0:this.linkIndex+=1}}cancelReader(e){"escape"===e.key.toLowerCase()&&this.talk("")}reRead(e){!0===e.ctrlKey&&"backspace"===e.key.toLowerCase()&&null!=this.selectedArticle&&null!=this.selectedArticle.textContent&&this.talk(this.selectedArticle.textContent)}}(!0));document.addEventListener("keydown",(e=>{console.log(e.key),o.activeZoom(a.status(),e),a.keybindsScreenReader(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q21CLFlBQWpDRSxFQUFNdkwsS0FBS3VKLFdBQVdrQyxTQUN0QnpMLEtBQUtxSixhQUFhN0YsaUJBQWlCLFNBQVMsS0FDeEM3QyxRQUFRZ0osSUFBSTNKLEtBQUtxSixhQUFhLElBRWxDckosS0FBS3dKLEtBQUssNkJBQTZCLElBR0QsT0FBbEN4SixLQUFLcUosYUFBYXhCLGFBQ2xCN0gsS0FBS3dKLEtBQUt4SixLQUFLcUosYUFBYXhCLGFBQWEsR0FHN0M3SCxLQUFLdUosWUFBY2dDLEVBQU05SixPQUFTLEVBQ2xDekIsS0FBS3VKLFVBQVksRUFHakJ2SixLQUFLdUosV0FBYSxDQUUxQixDQUNKLENBQ0EsWUFBQVcsQ0FBYWxILEdBQ3VCLFdBQTVCQSxFQUFNNkQsSUFBSUMsZUFDVjlHLEtBQUt3SixLQUFLLEdBRWxCLENBQ0EsTUFBQVcsQ0FBT25ILElBQ21CLElBQWxCQSxFQUFNNEQsU0FBZ0QsY0FBNUI1RCxFQUFNNkQsSUFBSUMsZUFDUixNQUF4QjlHLEtBQUtvSixpQkFDbUMsTUFBcENwSixLQUFLb0osZ0JBQWdCdkIsYUFDckI3SCxLQUFLd0osS0FBS3hKLEtBQUtvSixnQkFBZ0J2QixZQUkvQyxJSG5Kd0MsSUFDNUM3RyxTQUFTd0MsaUJBQWlCLFdBQVlSLElBQ2xDckMsUUFBUWdKLElBQUkzRyxFQUFNNkQsS0FDbEJWLEVBQVdPLFdBQVdZLEVBQW1CSixTQUFVbEUsR0FDbkRzRSxFQUFtQjJDLHFCQUFxQmpILEVBQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2ZpbHRlci9maWx0ZXItbW9kdWxlL2ZpbHRlcl9zZXJ2aWNlLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2ZpbHRlci9zdHlsZXMvY3NzLWZpbHRlci1jbGFzc2VzLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3pvb20vc3R5bGVzL2Nzcy16b29tLWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS96b29tLW1vZHVsZS96b29tX3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvYXBwLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3pvb20vem9vbS50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9maWx0ZXIvZmlsdGVyLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3NjcmVlbl9yZWFkZXIvc2NyZWVuX3JlYWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRmlsdGVyU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGFzSW5zZXJ0ZWRBY2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVfZmlsdGVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sb3JCbGluZG5lc3NDbGFzc2VzID0gW1xuICAgICAgICAgICAgXCJwcm90YW5vcGlhXCIsXG4gICAgICAgICAgICBcInByb3Rhbm9tYWx5XCIsXG4gICAgICAgICAgICBcImRldXRlcmFub3BpYVwiLFxuICAgICAgICAgICAgXCJkZXV0ZXJhbm9tYWx5XCIsXG4gICAgICAgICAgICBcInRyaXRhbm9waWFcIixcbiAgICAgICAgICAgIFwidHJpdGFub21hbHlcIixcbiAgICAgICAgICAgIFwiYWNocm9tYXRvcHNpYVwiLFxuICAgICAgICAgICAgXCJhY2hyb21hdG9tYWx5XCIsXG4gICAgICAgICAgICBcImdyYXlzY2FsZVwiXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMudmlzaW9uQ2xhc3NlcyA9IFtcbiAgICAgICAgICAgIFwidmlzaW9uLWxvc3MtbW9kZXJhdGVcIixcbiAgICAgICAgICAgIFwidmlzaW9uLWxvc3Mtc2V2ZXJlXCIsXG4gICAgICAgICAgICBcInZpc2lvbi1ibGluZG5lc3NcIlxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmNzc0ZpbHRlciA9IGBcclxuICA8c3R5bGU+LnByb3Rhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNwcm90YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3Byb3Rhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnByb3Rhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjcHJvdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjcHJvdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmRldXRlcmFub3BpYXstd2Via2l0LWZpbHRlcjp1cmwoI2RldXRlcmFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNkZXV0ZXJhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmRldXRlcmFub21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNkZXV0ZXJhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2RldXRlcmFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRyaXRhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCN0cml0YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3RyaXRhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRyaXRhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjdHJpdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjdHJpdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmFjaHJvbWF0b3BzaWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNhY2hyb21hdG9wc2lhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2FjaHJvbWF0b3BzaWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmFjaHJvbWF0b21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNhY2hyb21hdG9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2FjaHJvbWF0b21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmdyYXlzY2FsZXstd2Via2l0LWZpbHRlcjpncmF5c2NhbGUoMTAwJSkhaW1wb3J0YW50O2ZpbHRlcjpncmF5c2NhbGUoMTAwJSkhaW1wb3J0YW50fS52aXNpb24tbG9zcy1tb2RlcmF0ZSBib2R5Pip7LXdlYmtpdC1maWx0ZXI6Ymx1cigxcHgpIWltcG9ydGFudDtmaWx0ZXI6Ymx1cigxcHgpIWltcG9ydGFudH0udmlzaW9uLWxvc3Mtc2V2ZXJlIGJvZHk+Knstd2Via2l0LWZpbHRlcjpibHVyKDEwcHgpIWltcG9ydGFudDtmaWx0ZXI6Ymx1cigxMHB4KSFpbXBvcnRhbnR9LnZpc2lvbi1ibGluZG5lc3MgYm9keT4qe2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7LXdlYmtpdC1maWx0ZXI6YnJpZ2h0bmVzcygwKSFpbXBvcnRhbnQ7ZmlsdGVyOmJyaWdodG5lc3MoMCkhaW1wb3J0YW50fSNhY2Nlc3MtZmlsdGVye2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7aGVpZ2h0OjFweDttYXJnaW46LTFweDt3aWR0aDoxcHg7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt3b3JkLXdyYXA6bm9ybWFsIWltcG9ydGFudH08L3N0eWxlPmA7XG4gICAgICAgIHRoaXMuc3ZnRmlsdGVyVGVtcGxhdGUgPSBgPHN2ZyBcclxuICBpZD1cImFjY2Vzcy1maWx0ZXJcIlxyXG4gIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXHJcbiAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgdmVyc2lvbj1cIjEuMVwiPlxyXG4gIDxkZWZzPlxyXG4gICAgPGZpbHRlciBpZD1cInByb3Rhbm9waWFcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuNTY3LCAwLjQzMywgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuNTU4LCAwLjQ0MiwgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjI0MiwgMC43NTgsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJwcm90YW5vbWFseVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC44MTcsIDAuMTgzLCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4zMzMsIDAuNjY3LCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMTI1LCAwLjg3NSwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cImRldXRlcmFub3BpYVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC42MjUsIDAuMzc1LCAwLCAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuNywgICAwLjMsICAgMCwgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4zLCAgIDAuNywgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJkZXV0ZXJhbm9tYWx5XCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjgsICAgMC4yLCAgIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjI1OCwgMC43NDIsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4xNDIsIDAuODU4LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwidHJpdGFub3BpYVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC45NSwgMC4wNSwgIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAwLjQzMywgMC41NjcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgIDAuNDc1LCAwLjUyNSwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwidHJpdGFub21hbHlcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuOTY3LCAwLjAzMywgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjczMywgMC4yNjcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjE4MywgMC44MTcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJhY2hyb21hdG9wc2lhXCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwiYWNocm9tYXRvbWFseVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC42MTgsIDAuMzIwLCAwLjA2MiwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4xNjMsIDAuNzc1LCAwLjA2MiwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4xNjMsIDAuMzIwLCAwLjUxNiwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gIDwvZGVmcz5cclxuPC9zdmc+YDtcbiAgICB9XG4gICAgYXBsaWNhckZpbHRybyhmaWx0cm8pIHtcbiAgICAgICAgaWYgKGZpbHRybyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhcGxpY2FyIGxvcyBmaWx0cm9zLCBsYSBvcGNpb24gbm8gc2UgcGludGFkYSBjb3JyZWN0YW1lbnRlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVGVzdChcImNvbG9yQmxpbmRuZXNzXCIsIGZpbHRybyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRlc3RzKFwiY29sb3JCbGluZG5lc3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVfZmlsdGVyID0gIXRoaXMuYWN0aXZlX2ZpbHRlcjtcbiAgICB9XG4gICAgdG9nZ2xlVGVzdCh0ZXN0VHlwZSwgdGVzdENsYXNzKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNJbnNlcnRlZEFjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRGaWxlcyh0aGlzLnN2Z0ZpbHRlclRlbXBsYXRlLCB0aGlzLmNzc0ZpbHRlcik7XG4gICAgICAgICAgICB0aGlzLmhhc0luc2VydGVkQWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZVRlc3RzKHRlc3RUeXBlKTtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGVzdENsYXNzKTtcbiAgICB9XG4gICAgaW5zZXJ0RmlsZXMoc3ZnLCBjc3MpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgc3ZnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgY3NzKTtcbiAgICB9XG4gICAgcmVtb3ZlVGVzdHModGVzdFR5cGUpIHtcbiAgICAgICAgaWYgKHRlc3RUeXBlID09IFwidmlzaW9uXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aXNpb25DbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy52aXNpb25DbGFzc2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXN0VHlwZSA9PSBcImNvbG9yQmxpbmRuZXNzXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbG9yQmxpbmRuZXNzQ2xhc3Nlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ3NzRmlsdGVyQ2xhc3NlcyB7XG4gICAgc3RhdGljIGFkZEZpbHRlckJ1ZmZlclN0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9idWZmZXIgPSBgXHJcbiAgICAgICAgLmZpbHRlci1saXN0LWJ1ZmZlciB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGMDA7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShmaWx0ZXJfYnVmZmVyLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBhZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX29wdGlvbiA9IGBcclxuICAgICAgICAuZmlsdGVyLW9wdGlvbiB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZpbHRlcl9vcHRpb24sIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZpbHRlclN0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9idXR0b24gPSBgXHJcbiAgICAgICAgLmZpbHRlcl9idXR0b24ge1xyXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgdG9wOiAyMHB4O1xyXG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNDNjNWE7XHJcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICB9XHJcbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX2J1dHRvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc3NDbGFzc2VzIHtcbiAgICBzdGF0aWMgYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTtcbiAgICAgICAgdmFyIGNzc1J1bGUgPSBgLnpvb20tbWVzc2FnZS10eHRib3ggeyAgXHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRjAwO1xyXG4gICAgICAgICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICAgICAgICBmb250LXNpemU6IDIwcmVtO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgd2lkdGg6IDgwJTtcclxuICAgICAgICAgIGhlaWdodDogODAlO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGNzc1J1bGUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgWm9vbVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gPSA4MDA7XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgICAgICB0aGlzLm1vdXNlWCA9IDA7XG4gICAgICAgIHRoaXMubW91c2VZID0gMDtcbiAgICAgICAgdGhpcy5wYW5FbmdhZ2VUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucGFuVXBkYXRlSW50ZXJ2YWwgPSAtMTtcbiAgICAgICAgdGhpcy5jYWxsYmFja1RpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMgPSAnV2Via2l0VHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAnTW96VHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAnbXNUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdPVHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAndHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICB0aGlzLmtleXVwRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsICE9PSAxICYmIGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIC8vIFRoZSBlYXNpbmcgdGhhdCB3aWxsIGJlIGFwcGxpZWQgd2hlbiB3ZSB6b29tIGluL291dFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAnICsgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsgJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk9UcmFuc2l0aW9uID0gJy1vLXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zaXRpb24gPSAnLW1zLXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2l0aW9uID0gJy1tb3otdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSAnLXdlYmtpdC10cmFuc2Zvcm0gJysgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsnbXMgZWFzZSc7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleXVwRXZlbnQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUV2ZW50KTtcbiAgICB9XG4gICAgbWFnbmlmeShyZWN0LCBzY2FsZSkge1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgLy8gRW5zdXJlIGEgd2lkdGgvaGVpZ2h0IGlzIHNldFxuICAgICAgICByZWN0LndpZHRoID0gcmVjdC53aWR0aCB8fCAxO1xuICAgICAgICByZWN0LmhlaWdodCA9IHJlY3QuaGVpZ2h0IHx8IDE7XG4gICAgICAgIC8vIENlbnRlciB0aGUgcmVjdCB3aXRoaW4gdGhlIHpvb21lZCB2aWV3cG9ydFxuICAgICAgICByZWN0LnggLT0gKHdpbmRvdy5pbm5lcldpZHRoIC0gKHJlY3Qud2lkdGggKiBzY2FsZSkpIC8gMjtcbiAgICAgICAgcmVjdC55IC09ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAocmVjdC5oZWlnaHQgKiBzY2FsZSkpIC8gMjtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICAvLyBSZXNldFxuICAgICAgICAgICAgaWYgKHNjYWxlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTY2FsZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHNjcm9sbE9mZnNldC54ICsgJ3B4ICcgKyBzY3JvbGxPZmZzZXQueSArICdweCcsIHRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIC1yZWN0LnggKyAncHgsJyArIC1yZWN0LnkgKyAncHgpIHNjYWxlKCcgKyBzY2FsZSArICcpJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUubXNUcmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuTW96VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXNldFxuICAgICAgICAgICAgaWYgKHNjYWxlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjYWxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSAoLShzY3JvbGxPZmZzZXQueCArIHJlY3QueCkgLyBzY2FsZSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gKC0oc2Nyb2xsT2Zmc2V0LnkgKyByZWN0LnkpIC8gc2NhbGUpICsgJ3B4JztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gKHNjYWxlICogMTAwKSArICclJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IChzY2FsZSAqIDEwMCkgKyAnJSc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxldmVsID0gc2NhbGU7XG4gICAgfVxuICAgIHBhbigpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gMC4xMiwgcmFuZ2VYID0gd2luZG93LmlubmVyV2lkdGggKiByYW5nZSwgcmFuZ2VZID0gd2luZG93LmlubmVySGVpZ2h0ICogcmFuZ2UsIHNjcm9sbE9mZnNldCA9IHRoaXMuZ2V0U2Nyb2xsT2Zmc2V0KCk7XG4gICAgICAgIC8vIFVwXG4gICAgICAgIGlmICh0aGlzLm1vdXNlWSA8IHJhbmdlWSkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCwgc2Nyb2xsT2Zmc2V0LnkgLSAoMSAtICh0aGlzLm1vdXNlWSAvIHJhbmdlWSkpICogKDE0IC8gdGhpcy5sZXZlbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvd25cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZVkgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSByYW5nZVkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoc2Nyb2xsT2Zmc2V0LngsIHNjcm9sbE9mZnNldC55ICsgKDEgLSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5tb3VzZVkpIC8gcmFuZ2VZKSAqICgxNCAvIHRoaXMubGV2ZWwpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZWZ0XG4gICAgICAgIGlmICh0aGlzLm1vdXNlWCA8IHJhbmdlWCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCAtICgxIC0gKHRoaXMubW91c2VYIC8gcmFuZ2VYKSkgKiAoMTQgLyB0aGlzLmxldmVsKSwgc2Nyb2xsT2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJpZ2h0XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubW91c2VYID4gd2luZG93LmlubmVyV2lkdGggLSByYW5nZVgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoc2Nyb2xsT2Zmc2V0LnggKyAoMSAtICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMubW91c2VYKSAvIHJhbmdlWCkgKiAoMTQgLyB0aGlzLmxldmVsKSwgc2Nyb2xsT2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNjcm9sbE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHdpbmRvdy5zY3JvbGxYICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2Nyb2xsWCA6IHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgIHk6IHdpbmRvdy5zY3JvbGxZICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2Nyb2xsWSA6IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0byhvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLm91dCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy54ID0gb3B0aW9ucy54IHx8IDA7XG4gICAgICAgICAgICBvcHRpb25zLnkgPSBvcHRpb25zLnkgfHwgMDtcbiAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgaXMgc2V0LCB0aGF0IHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgICAgIGlmICghIW9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFNwYWNlIGFyb3VuZCB0aGUgem9vbWVkIGluIGVsZW1lbnQgdG8gbGVhdmUgb24gc2NyZWVuXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0eXBlb2Ygb3B0aW9ucy5wYWRkaW5nID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucGFkZGluZyA6IDIwO1xuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBvcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ID0gYm91bmRzLmxlZnQgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueSA9IGJvdW5kcy50b3AgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkdGggPSBib3VuZHMud2lkdGggKyAocGFkZGluZyAqIDIpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCArIChwYWRkaW5nICogMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3aWR0aC9oZWlnaHQgdmFsdWVzIGFyZSBzZXQsIGNhbGN1bGF0ZSBzY2FsZSBmcm9tIHRob3NlIHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMud2lkdGggIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY2FsZSA9IE1hdGgubWF4KE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gb3B0aW9ucy53aWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC8gb3B0aW9ucy5oZWlnaHQpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNjYWxlID4gMSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueCAqPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueSAqPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueCA9IE1hdGgubWF4KG9wdGlvbnMueCwgMCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ID0gTWF0aC5tYXgob3B0aW9ucy55LCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hZ25pZnkob3B0aW9ucywgb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFuICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbkVuZ2FnZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwsIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrVGltZW91dCA9IHNldFRpbWVvdXQob3B0aW9ucy5jYWxsYmFjaywgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMucGFuVXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnBhbiwgMTAwMCAvIDYwKTtcbiAgICB9XG4gICAgb3V0KG9wdGlvbnMpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGFuRW5nYWdlVGltZW91dCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wYW5VcGRhdGVJbnRlcnZhbCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNhbGxiYWNrVGltZW91dCk7XG4gICAgICAgIHRoaXMubWFnbmlmeShuZXcgT3B0aW9uc1pvb20oMCwgMCwgMSksIDEpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChvcHRpb25zLmNhbGxiYWNrLCB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcHRpb25zWm9vbSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy54ID0gMDtcbiAgICAgICAgdGhpcy55ID0gMDtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDA7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlci9maWx0ZXInO1xuaW1wb3J0IHsgU2NyZWVuUmVhZGVyIH0gZnJvbSAnLi9zY3JlZW5fcmVhZGVyL3NjcmVlbl9yZWFkZXInO1xuaW1wb3J0IHsgWm9vbSB9IGZyb20gJy4vem9vbS96b29tJztcbmNvbnN0IFpvb21PYmplY3QgPSBuZXcgWm9vbSh0cnVlKTtcbmNvbnN0IEZpbHRlck9iamVjdCA9IG5ldyBGaWx0ZXIodHJ1ZSk7XG5jb25zdCBTY3JlZW5SZWFkZXJPYmplY3QgPSBuZXcgU2NyZWVuUmVhZGVyKHRydWUpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcbiAgICBab29tT2JqZWN0LmFjdGl2ZVpvb20oU2NyZWVuUmVhZGVyT2JqZWN0LnN0YXR1cygpLCBldmVudCk7XG4gICAgU2NyZWVuUmVhZGVyT2JqZWN0LmtleWJpbmRzU2NyZWVuUmVhZGVyKGV2ZW50KTtcbn0pO1xuIiwiaW1wb3J0IHsgQ3NzQ2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3Mtem9vbS1jbGFzc2VzXCI7XG5pbXBvcnQgeyBab29tU2VydmljZSwgT3B0aW9uc1pvb20gfSBmcm9tIFwiLi96b29tLW1vZHVsZS96b29tX3NlcnZpY2VcIjtcbmV4cG9ydCBjbGFzcyBab29tIHtcbiAgICBjb25zdHJ1Y3RvcihlbmFibGVab29tT3B0aW9ucyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlWm9vbU9wdGlvbnMgPSBlbmFibGVab29tT3B0aW9ucztcbiAgICAgICAgdGhpcy56b29tU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWN0aXZlX21lc3NhZ2UgPSBgPGRpdiBpZD1cInpvb20tc3RhdHVzXCIgY2xhc3M9XCJ6b29tLW1lc3NhZ2UtdHh0Ym94XCI+T248L2Rpdj5gO1xuICAgICAgICB0aGlzLmRlYWN0aXZlX21lc3NhZ2UgPSBgPGRpdiBpZD1cInpvb20tc3RhdHVzXCIgY2xhc3M9XCJ6b29tLW1lc3NhZ2UtdHh0Ym94XCI+T2ZmPC9kaXY+YDtcbiAgICAgICAgdGhpcy50b29nbGVab29tID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLnpvb21TZXJ2aWNlLnRvKG5ldyBPcHRpb25zWm9vbShldmVudC54LCBldmVudC55LCAxMCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnpvb21TZXJ2aWNlID0gbmV3IFpvb21TZXJ2aWNlKCk7XG4gICAgfVxuICAgIGFjdGl2ZVpvb20oc2NyZWVuUmVhZGVyQWN0aXZlLCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlWm9vbU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNjcmVlblJlYWRlckFjdGl2ZSAmJiBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICBDc3NDbGFzc2VzLmFkZFpvb21NZXNzYWdlVGV4dEJveENsYXNzKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxDbGlja0V2ZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRpYWxDbGlja0V2ZW50KGJvZHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnpvb21TdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JveE1lc3NhZ2UoYm9keSwgdGhpcy5hY3RpdmVfbWVzc2FnZSwgIXRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dCb3hNZXNzYWdlKGJvZHksIHRoaXMuZGVhY3RpdmVfbWVzc2FnZSwgIXRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy56b29tU3RhdHVzID0gIXRoaXMuem9vbVN0YXR1cztcbiAgICB9XG4gICAgc2hvd0JveE1lc3NhZ2UoYm9keSwgbWVzc2FnZSwgc3RhdHVzKSB7XG4gICAgICAgIGJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgbWVzc2FnZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgem9vbV9tZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ6b29tLXN0YXR1c1wiKTtcbiAgICAgICAgICAgIHpvb21fbWVzc2FnZSA9PT0gbnVsbCB8fCB6b29tX21lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21fbWVzc2FnZS5yZW1vdmUoKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHN0YXR1cyA/IGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvb2dsZVpvb20pIDogYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy50b29nbGVab29tKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJTZXJ2aWNlIH0gZnJvbSBcIi4vZmlsdGVyLW1vZHVsZS9maWx0ZXJfc2VydmljZVwiO1xuaW1wb3J0IHsgQ3NzRmlsdGVyQ2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZmlsdGVyLWNsYXNzZXNcIjtcbmV4cG9ydCBjbGFzcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZUZpbHRlciA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlRmlsdGVyID0gZW5hYmxlRmlsdGVyO1xuICAgICAgICB0aGlzLmZpbHRlclZpZXdPbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0RmlsdGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UuYXBsaWNhckZpbHRybyhjb21wb25lbnQudGV4dENvbnRlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3dGaWx0ZXJPcHRpb25zTGlzdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlclZpZXdPbikge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJfYnVmZmVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gaGF5IGluc3RhbmNpYSBkZWwgYnVmZmVyIGRlIG9wY2lvbmVzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbHRlcl9idWZmZXJfaW5zdGFuY2UucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJWaWV3T24gPSAhdGhpcy5maWx0ZXJWaWV3T247XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmlsdGVyTGlzdCA9IFtcbiAgICAgICAgICAgICAgICBcInByb3Rhbm9waWFcIixcbiAgICAgICAgICAgICAgICBcInByb3Rhbm9tYWx5XCIsXG4gICAgICAgICAgICAgICAgXCJkZXV0ZXJhbm9waWFcIixcbiAgICAgICAgICAgICAgICBcImRldXRlcmFub21hbHlcIixcbiAgICAgICAgICAgICAgICBcInRyaXRhbm9waWFcIixcbiAgICAgICAgICAgICAgICBcInRyaXRhbm9tYWx5XCIsXG4gICAgICAgICAgICAgICAgXCJhY2hyb21hdG9wc2lhXCIsXG4gICAgICAgICAgICAgICAgXCJhY2hyb21hdG9tYWx5XCIsXG4gICAgICAgICAgICAgICAgXCJncmF5c2NhbGVcIixcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBjb2xvck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgXCJjb2xvcnNcIixcbiAgICAgICAgICAgICAgICBcImZpbHRlclwiXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlckxpc3REaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBidWZmZXJMaXN0RGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmlsdGVyLWxpc3QtYnVmZmVyJztcbiAgICAgICAgICAgIGJ1ZmZlckxpc3REaXZFbGVtZW50LmlkID0gJ2ZpbHRlcl9idWZmZXInO1xuICAgICAgICAgICAgdmFyIGZpbHRlcl9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbHRlcl9idXR0b25cIik7XG4gICAgICAgICAgICBpZiAoZmlsdGVyX2J1dHRvbiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gc2UgY3JlbyBlbCBib3RvbiBjb3JyZWN0YW1lbnRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbHRlcl9idXR0b24uYXBwZW5kQ2hpbGQoYnVmZmVyTGlzdERpdkVsZW1lbnQpO1xuICAgICAgICAgICAgQ3NzRmlsdGVyQ2xhc3Nlcy5hZGRGaWx0ZXJCdWZmZXJTdHlsZUNsYXNzKCk7XG4gICAgICAgICAgICAvKmNvbG9yT3B0aW9ucy5mb3JFYWNoKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZmlsdGVyX2J1ZmZlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsdGVyX2J1ZmZlclwiKTtcbiAgICAgICAgICAgICAgZmlsdGVyX2J1ZmZlci5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgYnVpbGRDb2xvck9wdGlvbnMob3B0aW9uKSk7XG4gICAgICAgICAgICB9KSovXG4gICAgICAgICAgICBmaWx0ZXJMaXN0LmZvckVhY2goKGZpbHRlcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJfYnVmZmVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gaGF5IGluc3RhbmNpYSBkZWwgYnVmZmVyIGRlIG9wY2lvbmVzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbHRlcl9idWZmZXJfaW5zdGFuY2UuYXBwZW5kQ2hpbGQodGhpcy5idWlsZEZpbHRlck9wdGlvbihmaWx0ZXIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgQ3NzRmlsdGVyQ2xhc3Nlcy5hZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcygpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJWaWV3T24gPSAhdGhpcy5maWx0ZXJWaWV3T247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmlsdGVyU2VydmljZSA9IG5ldyBGaWx0ZXJTZXJ2aWNlKCk7XG4gICAgICAgIHRoaXMuc2hvd0ZpbHRlck9wdGlvbnMoKTtcbiAgICB9XG4gICAgc2hvd0ZpbHRlck9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltYWdlLnNyYyA9IFwiaHR0cHM6Ly9naXRodWIuY29tL0V5ZWVBc3Npc3QvZG9jcy9ibG9iL2RldmVsb3Avc3JjL2Fzc2V0cy9sb2dvLnBuZz9yYXc9dHJ1ZVwiO1xuICAgICAgICBpbWFnZS5zdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICAgICAgaW1hZ2Uuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwJSc7XG4gICAgICAgIGNvbnN0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmlsdGVyX2J1dHRvbic7XG4gICAgICAgIGRpdkVsZW1lbnQuaWQgPSAnZmlsdGVyX2J1dHRvbic7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgICBkaXZFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaG93RmlsdGVyT3B0aW9uc0xpc3QpO1xuICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlclN0eWxlQ2xhc3MoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTtcbiAgICB9XG4gICAgYnVpbGRGaWx0ZXJPcHRpb24oZmlsdGVyT3B0aW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25EaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZpbHRlci1vcHRpb24nO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFydEZpbHRlcik7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQudGV4dENvbnRlbnQgPSBmaWx0ZXJPcHRpb247XG4gICAgICAgIHJldHVybiBvcHRpb25EaXZFbGVtZW50O1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTY3JlZW5SZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHVzZVNjcmVlblJlYWRlciA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMudXNlU2NyZWVuUmVhZGVyID0gdXNlU2NyZWVuUmVhZGVyO1xuICAgICAgICB0aGlzLnN5bnRoID0gd2luZG93LnNwZWVjaFN5bnRoZXNpcztcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFydGljbGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkTGluayA9IG51bGw7XG4gICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubGlua0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy50YWxrID0gKHRleHQsIGNhbmNlbCA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYWJsYW5kbycsIHRleHQpO1xuICAgICAgICAgICAgY2FuY2VsID8gdGhpcy5zeW50aC5jYW5jZWwoKSA6IFwiIFwiO1xuICAgICAgICAgICAgdGhpcy5zeW50aC5zcGVhayhuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW5jZWxUYWxrID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zeW50aC5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLnVzZVNjcmVlblJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzO1xuICAgIH1cbiAgICBzYXlXZWxjb21lKCkge1xuICAgICAgICB0aGlzLnRhbGsoXCJIb2xhIGJpZW52ZW5pZG8gYSBsYSBwYWdpbmEgWCwgc2kgZGVzZWEgbGVlciBsYXMgYWNjaW9uZXMgZGUgbGEgcGFnaW5hIHByZXNpb25lIGNvbnRyb2wgeSBlbnRlclwiKTtcbiAgICB9XG4gICAgc2F5R29vZGJheSgpIHtcbiAgICAgICAgdGhpcy50YWxrKFwiR3JhY2lhcyBwb3IgdXRpbGl6YXIgZXllZWFzc2lzdFwiKTtcbiAgICB9XG4gICAga2V5YmluZHNTY3JlZW5SZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZWFkZXIoZXZlbnQpO1xuICAgICAgICB0aGlzLnJlUmVhZChldmVudCk7XG4gICAgICAgIHRoaXMuYWN0aXZlU2NyZWVuUmVhZGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy5tb3ZlQmV0d2VlbkNvbnRlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLm1vdmVCZXR3ZWVuTGlua3MoZXZlbnQpO1xuICAgIH1cbiAgICByZWFkQ2hpbGRzKGFydGljbGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlTmFtZSA9PSAnSU1HJykge1xuICAgICAgICAgICAgbGV0IGltZyA9IGFydGljbGU7XG4gICAgICAgICAgICB0aGlzLnRhbGsoJ0ltYWdlbiBkZSAnICsgaW1nLmFsdCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcnRpY2xlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFICYmICgoX2EgPSBhcnRpY2xlLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpKSkge1xuICAgICAgICAgICAgdGhpcy50YWxrKGFydGljbGUudGV4dENvbnRlbnQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBhcnRpY2xlLmNoaWxkTm9kZXMuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZENoaWxkcyhjaGlsZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtb3ZlQmV0d2VlbkNvbnRlbnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFydGljbGVcIik7XG4gICAgICAgIGlmICh0YWdzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJhcnJvd3JpZ2h0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ICs9IDE7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZSA9IHRhZ3NbdGhpcy5hcnRpY2xlSW5kZXhdO1xuICAgICAgICAgICAgLy9NZXRvZG8gcGFyYSByZWNvcnJlciBsb3MgaGlqb3NcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMb3MgaGlqb3MgZGUgZWwgYXJ0aWN1bG8gc29uJyk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFRhbGsoKTtcbiAgICAgICAgICAgIHRoaXMucmVhZENoaWxkcyh0aGlzLnNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGFzdGEgYXF1aSBsbGVnYW4gbG9zIGhpam9zJyk7XG4gICAgICAgICAgICAvKmlmKHRoaXMuc2VsZWN0ZWRBcnRpY2xlLnRleHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFydGljbGUuZm9jdXMoKVxuICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgfSovXG4gICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlSW5kZXggPT09IHRhZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgJiZcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImFycm93bGVmdFwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGVJbmRleCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ID0gdGFncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZSA9IHRhZ3NbdGhpcy5hcnRpY2xlSW5kZXhdO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBcnRpY2xlLnRleHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnNlbGVjdGVkQXJ0aWNsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWN0aXZlU2NyZWVuUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcIiBcIikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNjcmVlblJlYWRlclN0YXR1cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2F5V2VsY29tZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXlHb29kYmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjcmVlblJlYWRlclN0YXR1cyA9ICF0aGlzLnNjcmVlblJlYWRlclN0YXR1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlQmV0d2VlbkxpbmtzKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnNjcmVlblJlYWRlclN0YXR1cyAmJlxuICAgICAgICAgICAgZXZlbnQuY3RybEtleSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVudGVyXCIgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJlbnRlclwiKSB7XG4gICAgICAgICAgICBsZXQgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGV4dF9yZWFkZXJfbGlua1wiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmtzW3RoaXMubGlua0luZGV4XS50YWdOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbGlua3NbdGhpcy5saW5rSW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuZm9jdXMoKTtcbiAgICAgICAgICAgIGlmIChsaW5rc1t0aGlzLmxpbmtJbmRleF0udGFnTmFtZSA9PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluay5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkTGluayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50YWxrKFwiU2VsZWNjaW9uYWRvIHVuIHRleHQgYXJlYVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGluay50ZXh0Q29udGVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZExpbmsudGV4dENvbnRlbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmtJbmRleCA9PT0gbGlua3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlua0luZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGlua0luZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJlc2NhcGVcIikge1xuICAgICAgICAgICAgdGhpcy50YWxrKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlUmVhZChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJiYWNrc3BhY2VcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJGaWx0ZXJTZXJ2aWNlIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiaGFzSW5zZXJ0ZWRBY2Nlc3MiLCJhY3RpdmVfZmlsdGVyIiwiY29sb3JCbGluZG5lc3NDbGFzc2VzIiwidmlzaW9uQ2xhc3NlcyIsImNzc0ZpbHRlciIsInN2Z0ZpbHRlclRlbXBsYXRlIiwiYXBsaWNhckZpbHRybyIsImZpbHRybyIsInJlbW92ZVRlc3RzIiwidG9nZ2xlVGVzdCIsImNvbnNvbGUiLCJlcnJvciIsInRlc3RUeXBlIiwidGVzdENsYXNzIiwiaW5zZXJ0RmlsZXMiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInN2ZyIsImNzcyIsImJvZHkiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJpIiwibGVuZ3RoIiwicmVtb3ZlIiwiQ3NzRmlsdGVyQ2xhc3NlcyIsImFkZEZpbHRlckJ1ZmZlclN0eWxlQ2xhc3MiLCJzdHlsZVNoZWV0Iiwic3R5bGVTaGVldHMiLCJpbnNlcnRSdWxlIiwiY3NzUnVsZXMiLCJhZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcyIsImFkZEZpbHRlclN0eWxlQ2xhc3MiLCJDc3NDbGFzc2VzIiwiYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MiLCJab29tU2VydmljZSIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJsZXZlbCIsIm1vdXNlWCIsIm1vdXNlWSIsInBhbkVuZ2FnZVRpbWVvdXQiLCJwYW5VcGRhdGVJbnRlcnZhbCIsImNhbGxiYWNrVGltZW91dCIsInN1cHBvcnRzVHJhbnNmb3JtcyIsInN0eWxlIiwia2V5dXBFdmVudCIsImV2ZW50Iiwia2V5Q29kZSIsIm91dCIsInVuZGVmaW5lZCIsIm1vdXNlTW92ZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJ0cmFuc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1hZ25pZnkiLCJyZWN0Iiwic2NhbGUiLCJzY3JvbGxPZmZzZXQiLCJnZXRTY3JvbGxPZmZzZXQiLCJ3aWR0aCIsImhlaWdodCIsIngiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwieSIsImlubmVySGVpZ2h0IiwidHJhbnNmb3JtIiwib3JpZ2luIiwidHJhbnNmb3JtT3JpZ2luIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwicGFuIiwicmFuZ2VYIiwicmFuZ2VZIiwic2Nyb2xsIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwidG8iLCJvcHRpb25zIiwiZWxlbWVudCIsInBhZGRpbmciLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJNYXRoIiwibWF4IiwibWluIiwic2V0VGltZW91dCIsImNhbGN1bGF0ZVBhblVwZGF0ZUludGVydmFsIiwiY2FsbGJhY2siLCJzZXRJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJPcHRpb25zWm9vbSIsIlpvb21PYmplY3QiLCJlbmFibGVab29tT3B0aW9ucyIsInpvb21TdGF0dXMiLCJhY3RpdmVfbWVzc2FnZSIsImRlYWN0aXZlX21lc3NhZ2UiLCJ0b29nbGVab29tIiwiem9vbVNlcnZpY2UiLCJhY3RpdmVab29tIiwic2NyZWVuUmVhZGVyQWN0aXZlIiwiY3RybEtleSIsImtleSIsInRvTG93ZXJDYXNlIiwiaW5pdGlhbENsaWNrRXZlbnQiLCJzaG93Qm94TWVzc2FnZSIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJ6b29tX21lc3NhZ2UiLCJnZXRFbGVtZW50QnlJZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJTY3JlZW5SZWFkZXJPYmplY3QiLCJlbmFibGVGaWx0ZXIiLCJmaWx0ZXJWaWV3T24iLCJzdGFydEZpbHRlciIsImNvbXBvbmVudCIsInRhcmdldCIsImZpbHRlclNlcnZpY2UiLCJ0ZXh0Q29udGVudCIsInNob3dGaWx0ZXJPcHRpb25zTGlzdCIsImZpbHRlcl9idWZmZXJfaW5zdGFuY2UiLCJidWZmZXJMaXN0RGl2RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpZCIsImZpbHRlcl9idXR0b24iLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJmaWx0ZXIiLCJidWlsZEZpbHRlck9wdGlvbiIsInNob3dGaWx0ZXJPcHRpb25zIiwiaW1hZ2UiLCJzcmMiLCJib3JkZXJSYWRpdXMiLCJkaXZFbGVtZW50IiwiZmlsdGVyT3B0aW9uIiwib3B0aW9uRGl2RWxlbWVudCIsInVzZVNjcmVlblJlYWRlciIsInN5bnRoIiwic3BlZWNoU3ludGhlc2lzIiwic2NyZWVuUmVhZGVyU3RhdHVzIiwic2VsZWN0ZWRBcnRpY2xlIiwic2VsZWN0ZWRMaW5rIiwiYXJ0aWNsZUluZGV4IiwibGlua0luZGV4IiwidGFsayIsInRleHQiLCJjYW5jZWwiLCJsb2ciLCJzcGVhayIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsImNhbmNlbFRhbGsiLCJzYXlXZWxjb21lIiwic2F5R29vZGJheSIsImtleWJpbmRzU2NyZWVuUmVhZGVyIiwiY2FuY2VsUmVhZGVyIiwicmVSZWFkIiwiYWN0aXZlU2NyZWVuUmVhZGVyIiwibW92ZUJldHdlZW5Db250ZW50IiwibW92ZUJldHdlZW5MaW5rcyIsInJlYWRDaGlsZHMiLCJhcnRpY2xlIiwiX2EiLCJub2RlTmFtZSIsImltZyIsImFsdCIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsInRyaW0iLCJjaGlsZE5vZGVzIiwiY2hpbGQiLCJ0YWdzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJmb2N1cyIsImNsaWNrIiwibGlua3MiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidGFnTmFtZSJdLCJzb3VyY2VSb290IjoiIn0=