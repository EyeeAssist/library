(()=>{"use strict";class t{static getBackgroundColor(){return"#243C5A"}static getForegroundColor(){return"#FFFFFF"}}class e{constructor(){this.hasInsertedAccess=!1,this.active_filter=!1,this.filtro_aplicado="",this.colorBlindnessClasses=["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"],this.visionClasses=["vision-loss-moderate","vision-loss-severe","vision-blindness"],this.cssFilter="\n  <style>.protanopia{-webkit-filter:url(#protanopia) grayscale(0)!important;filter:url(#protanopia) grayscale(0)!important}.protanomaly{-webkit-filter:url(#protanomaly) grayscale(0)!important;filter:url(#protanomaly) grayscale(0)!important}.deuteranopia{-webkit-filter:url(#deuteranopia) grayscale(0)!important;filter:url(#deuteranopia) grayscale(0)!important}.deuteranomaly{-webkit-filter:url(#deuteranomaly) grayscale(0)!important;filter:url(#deuteranomaly) grayscale(0)!important}.tritanopia{-webkit-filter:url(#tritanopia) grayscale(0)!important;filter:url(#tritanopia) grayscale(0)!important}.tritanomaly{-webkit-filter:url(#tritanomaly) grayscale(0)!important;filter:url(#tritanomaly) grayscale(0)!important}.achromatopsia{-webkit-filter:url(#achromatopsia) grayscale(0)!important;filter:url(#achromatopsia) grayscale(0)!important}.achromatomaly{-webkit-filter:url(#achromatomaly) grayscale(0)!important;filter:url(#achromatomaly) grayscale(0)!important}.grayscale{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}.vision-loss-moderate body>*{-webkit-filter:blur(1px)!important;filter:blur(1px)!important}.vision-loss-severe body>*{-webkit-filter:blur(10px)!important;filter:blur(10px)!important}.vision-blindness body>*{background-color:#fff!important;-webkit-filter:brightness(0)!important;filter:brightness(0)!important}#access-filter{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;width:1px;overflow:hidden;position:absolute!important;word-wrap:normal!important}</style>",this.svgFilterTemplate='<svg \n  id="access-filter"\n  aria-hidden="true"\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1">\n  <defs>\n    <filter id="protanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.567, 0.433, 0,     0, 0\n                0.558, 0.442, 0,     0, 0\n                0,     0.242, 0.758, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="protanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.817, 0.183, 0,     0, 0\n                0.333, 0.667, 0,     0, 0\n                0,     0.125, 0.875, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="deuteranopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.625, 0.375, 0,   0, 0\n                0.7,   0.3,   0,   0, 0\n                0,     0.3,   0.7, 0, 0\n                0,     0,     0,   1, 0"/>\n    </filter>\n    <filter id="deuteranomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.8,   0.2,   0,     0, 0\n                0.258, 0.742, 0,     0, 0\n                0,     0.142, 0.858, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.95, 0.05,  0,     0, 0\n                0,    0.433, 0.567, 0, 0\n                0,    0.475, 0.525, 0, 0\n                0,    0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.967, 0.033, 0,     0, 0\n                0,     0.733, 0.267, 0, 0\n                0,     0.183, 0.817, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatopsia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.618, 0.320, 0.062, 0, 0\n                0.163, 0.775, 0.062, 0, 0\n                0.163, 0.320, 0.516, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n  </defs>\n</svg>'}getActiveFilter(){return this.active_filter}aplicarFiltro(t){null!=t?(this.active_filter?(this.removeTests("colorBlindness"),this.filtro_aplicado=""):(this.toggleTest("colorBlindness",t),this.filtro_aplicado=t),this.active_filter=!this.active_filter):console.error("Error al aplicar los filtros, la opcion no se pintada correctamente")}toggleTest(t,e){this.hasInsertedAccess||(this.insertFiles(this.svgFilterTemplate,this.cssFilter),this.hasInsertedAccess=!0),this.removeTests(t),document.documentElement.classList.add(e)}insertFiles(t,e){document.body.insertAdjacentHTML("beforeend",t),document.body.insertAdjacentHTML("beforeend",e)}removeTests(t){if("vision"==t)for(let t=0;t<this.visionClasses.length;t++)document.documentElement.classList.remove(this.visionClasses[t]);else if("colorBlindness"==t)for(let t=0;t<this.colorBlindnessClasses.length;t++)document.documentElement.classList.remove(this.colorBlindnessClasses[t])}}class s{static addFilterBufferStyleClass(){const e=document.styleSheets[0],s=`\n        .filter-list-buffer {\n          background-color: ${t.getBackgroundColor()};\n          display: flex;\n          flex-wrap: wrap;\n          flex-direction: column;\n          border-radius: 22px;\n          color: ${t.getForegroundColor()};\n          width: 100%;\n          font-size: 22px;\n          margin-top: 2rem;\n        }\n    `;e.insertRule(s,e.cssRules.length)}static addFilterOptionsStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter-option {\n          padding: 0.5rem;\n        }\n    ",t.cssRules.length)}static radioButtomCss(){const t=document.styleSheets[0];t.insertRule('\n        .radio_button_eyeassist::after {\n          content:"";\n          position: absolute;\n          height: 20px;\n          width: 22px;\n          border-radius: 50%;\n          background: #FFFFFF;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          opacity: 0;\n        }\n    ',t.cssRules.length),t.insertRule("\n        .radio_button_eyeassist:checked::after {\n          opacity: 1;\n        }\n    ",t.cssRules.length)}static addFilterStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter_button {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",t.cssRules.length)}}class i{constructor(i=!1){this.enableFilter=i,this.filterViewOn=!1,this.filterOptionsMap=new Map,this.startFilter=t=>{const e=t.target.id.replace("_option","");this.changeActiveInputs(e)},this.showFilterOptionsList=()=>{if(!this.enableFilter){var e=document.getElementById("filter_buffer");return null==e?void console.error("No hay instancia del buffer de opciones."):(e.remove(),this.filterOptionsMap.clear(),"")}var s=document.createElement("div");s.className="filter-list-buffer",s.id="filter_buffer";var i=document.createElement("div");i.style.padding="7% 7% 3% 7%";var n=document.createElement("span");n.textContent="Seleccione un filtro para distinguir mejor los siguientes colores:",n.style.marginBottom="5px",i.appendChild(n),[{id:"protanopia",name:"Rojo (Protanopia)"},{id:"deuteranopia",name:"Verde (Deuteranopia)"},{id:"tritanopia",name:"Azul (Tritanopia)"},{id:"grayscale",name:"Grises (Grayscale)"}].forEach((t=>{i.appendChild(this.buildFilterOption(t));const e=document.createElement("div");e.style.border="1px solid #65768b",e.style.margin="5px 0",i.appendChild(e)})),s.appendChild(i);var o=document.createElement("div");return o.style.display="flex",o.style.flexDirection="row",o.style.alignContent="center",o.style.alignItems="center",o.style.justifyItems="center",o.style.justifyContent="center",o.style.background=t.getForegroundColor(),o.style.padding="5% 0",o.style.borderBottomRightRadius="22px",o.style.borderBottomLeftRadius="22px",["#3B3F4A","#726401","#FFFF00","#FF0000","#FFA500","#FFFF00","#008000","#0000FF","#4B0082","#9400D3","#FFFF00","#0018A9"].forEach((t=>{var e=document.createElement("div");e.style.display="block",e.style.width="43px",e.style.height="50px",e.style.backgroundColor=t,o.appendChild(e)})),s.appendChild(o),s},this.filterService=new e,s.addFilterBufferStyleClass(),s.addFilterOptionsStyleClass(),s.radioButtomCss()}status(){return this.enableFilter}toggleStatus(){this.enableFilter=!this.enableFilter}showFilterOptions(){const t=document.createElement("img");t.src="https://github.com/EyeeAssist/docs/blob/develop/src/assets/logo.png?raw=true",t.style.width="50px",t.style.borderRadius="50%";const e=document.createElement("div");e.className="filter_button",e.id="filter_button",e.appendChild(t),e.addEventListener("click",this.showFilterOptionsList),s.addFilterStyleClass(),document.body.appendChild(e)}buildFilterOption(t){var e=document.createElement("div");e.className="filter-option",e.style.display="flex",e.id=t.id+"_option";const s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center";const i=document.createElement("input");i.type="radio",i.id=t.id+"_option",i.className="radio_button_eyeassist",i.style.appearance="none",i.style.margin="0",i.style.height="25px",i.style.width="25px",i.style.border="0.15em solid #FFFFFF",i.style.borderRadius="50%",i.style.display="grid",i.style.position="relative",i.style.placeContent="center",i.addEventListener("click",this.startFilter),this.filterOptionsMap.set(t.id,i);const n=document.createElement("span");return n.textContent=t.name,n.style.marginLeft="12px",s.append(i),e.append(s),e.append(n),e}changeActiveInputs(t){console.log("Input seleccionado",t);const e=this.filterOptionsMap.get(t);if(this.filterService.getActiveFilter()&&this.filterService.filtro_aplicado==t)return this.filterService.aplicarFiltro(t),void(e&&(e.checked=!1));for(const[e,s]of this.filterOptionsMap)e!=t&&(s.checked=!1);this.filterService.getActiveFilter()?(this.filterService.aplicarFiltro(t),this.filterService.aplicarFiltro(t)):this.filterService.aplicarFiltro(t)}}class n{constructor(t=!1,e){this.foundVideo=t,this.talk=e,this.onPlayerStateChange=t=>{t.data===YT.PlayerState.PAUSED&&clearInterval(this.interval),t.data==YT.PlayerState.ENDED&&clearInterval(this.interval),t.data===YT.PlayerState.PLAYING&&(this.interval=setInterval((()=>{var t,e,s;const i=null===(t=this.player)||void 0===t?void 0:t.getCurrentTime(),n=null==i?void 0:i.toFixed(1);(null===(e=this.script)||void 0===e?void 0:e.get(n))&&this.talk(null===(s=this.script)||void 0===s?void 0:s.get(n))}),100))}}toggleStatus(){this.foundVideo=!this.foundVideo}turnOff(){this.foundVideo=!1}startAudioDescription(t){var e,s,i;this.foundVideo&&!0===t.shiftKey&&"k"===t.key.toLowerCase()&&((null===(e=this.player)||void 0===e?void 0:e.getPlayerState())==YT.PlayerState.PLAYING?null===(s=this.player)||void 0===s||s.pauseVideo():null===(i=this.player)||void 0===i||i.playVideo())}createPlayer(t){let e=t;e.id="single-video-eyeeassit",this.script=this.getScript(e.src);const s=e.src.indexOf("?");e.src=e.src.substring(0,s+1)+"enablejsapi=1&"+e.src.substring(s+1),this.player=new YT.Player(e.id,{events:{onStateChange:this.onPlayerStateChange}})}getScript(t){const e=new Map;return e.set("1.0","Paisaje de una playa"),e.set("13.0","Paisaje de unas motañas y una bandera ondeando"),e.set("28.0","Paisaje con una costa y olas rompiendo"),e.set("40.0","Una laguna artificial"),e.set("56.0","Un rio largo"),e}}var o,l=function(t,e,s,i){return new(s||(s=Promise))((function(n,o){function l(t){try{a(i.next(t))}catch(t){o(t)}}function r(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(l,r)}a((i=i.apply(t,e||[])).next())}))};class r{constructor(t=!1,e=""){var s;if(this.useScreenReader=t,this.token=e,this.synth=window.speechSynthesis,this.screenReaderStatus=!1,this.selectedArticle=null,this.selectedLink=null,this.articleIndex=-1,this.linkIndex=0,this.controller=new AbortController,this.videoProcesor=null,this.tags=[],this.talk=(t,e=!0)=>{!e||this.synth.cancel(),this.synth.speak(new SpeechSynthesisUtterance(t))},this.cancelTalk=()=>{this.controller&&this.controller.abort(),this.talk("")},!this.useScreenReader)return;let i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";let o=document.getElementsByTagName("script")[0];null===(s=o.parentNode)||void 0===s||s.insertBefore(i,o),this.videoProcesor=new n(!1,this.talk)}status(){return this.useScreenReader}toggleStatus(){this.useScreenReader=!this.useScreenReader}enable(){return this.screenReaderStatus}sayWelcome(){this.talk("Hola bienvenido a la pagina X, si desea leer el contenido precione control + flecha derecha o precione control + enter para navegar por los links")}sayGoodbay(){this.talk("Gracias por utilizar eyeeassist")}keybindsScreenReader(t){var e;this.cancelReader(t),this.reRead(t),this.activeScreenReader(t),this.moveBetweenContent(t),this.moveBetweenLinks(t),null===(e=this.videoProcesor)||void 0===e||e.startAudioDescription(t)}getImage(t){return l(this,void 0,void 0,(function*(){return yield fetch(t)}))}getDescription(t){return l(this,void 0,void 0,(function*(){this.controller=new AbortController;const e=new FormData;e.append("file",t,"imagen.jpg"),console.log(this.token);const s={method:"POST",body:e,headers:{Authorization:"Bearer "+this.token},signal:this.controller.signal},i=yield fetch("http://localhost:8000/caption",s).catch((t=>{"AbortError"===t.name&&console.error(t)}));return null!=i?(yield i.json()).message[0]:""}))}readChilds(t){var e,s,i;return l(this,void 0,void 0,(function*(){if("IFRAME"==t.nodeName&&(this.talk("Video encontrado, precione shift mas k para iniciar el video con audio descripcion"),null===(e=this.videoProcesor)||void 0===e||e.toggleStatus(),null===(s=this.videoProcesor)||void 0===s||s.createPlayer(t)),"IMG"==t.nodeName){this.talk("Imagen encontrada",!1);let e=t;if(""!=e.alt)this.talk(""),this.talk("Imagen de "+e.alt,!1);else{const t=yield this.getImage(e.src),s=yield t.blob();this.talk("describiendo imagen",!1);const i=yield this.getDescription(s);""!=i?this.talk("Imagen de "+i,!1):this.talk("No se pudo generar una descripcion para la imagen encontrada.",!1)}}t.nodeType==Node.TEXT_NODE&&(null===(i=t.textContent)||void 0===i?void 0:i.trim())&&this.talk(t.textContent,!1);for(const e of Array.from(t.childNodes))yield this.readChilds(e)}))}moveBetweenContent(t){if(0!=this.tags.length){if(this.screenReaderStatus&&!0===t.ctrlKey&&"arrowright"===t.key.toLowerCase()){let t=this.tags.shift();this.tags.push(t),this.cancelTalk(),this.readChilds(t)}if(this.screenReaderStatus&&!0===t.ctrlKey&&"arrowleft"===t.key.toLowerCase()){let t=this.tags.pop();this.tags.unshift(t),this.cancelTalk(),this.readChilds(t)}}}activeScreenReader(t){this.useScreenReader&&!0===t.ctrlKey&&" "===t.key.toLowerCase()&&(this.screenReaderStatus?(this.tags=[],this.sayGoodbay()):(this.tags=this.convertToHtmlElementsArray(document.getElementsByTagName("article")),this.sayWelcome()),this.screenReaderStatus=!this.screenReaderStatus)}moveBetweenLinks(t){if(this.screenReaderStatus&&!1===t.ctrlKey&&"enter"===t.key.toLowerCase()&&null!=this.selectedLink&&(console.log(this.selectedLink),this.selectedLink.click()),this.screenReaderStatus&&!0===t.ctrlKey&&"enter"===t.key.toLowerCase()){let t=document.getElementsByClassName("text_reader_link");console.log(t[this.linkIndex].tagName),this.selectedLink=t[this.linkIndex],this.selectedLink.focus(),"TEXTAREA"==t[this.linkIndex].tagName?(this.selectedLink.addEventListener("input",(()=>{console.log(this.selectedLink)})),this.talk("Seleccionado un text area",!0)):(console.log(this.selectedLink.textContent),null!==this.selectedLink.textContent&&this.talk(this.selectedLink.textContent,!0)),this.linkIndex===t.length-1?this.linkIndex=0:this.linkIndex+=1}}cancelReader(t){this.useScreenReader&&"escape"===t.key.toLowerCase()&&this.talk("")}reRead(t){this.useScreenReader&&!0===t.ctrlKey&&"backspace"===t.key.toLowerCase()&&null!=this.selectedArticle&&null!=this.selectedArticle.textContent&&this.talk(this.selectedArticle.textContent)}convertToHtmlElementsArray(t){let e=[];for(const s of t)e.push(s);return e}}class a{static addZoomMessageTextBoxClass(){const t=document.styleSheets[0];t.insertRule(".zoom-message-txtbox {  \n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 9999;\n          background-color: #F5F5DC;\n          color: #004D00;\n          font-size: 20rem;\n          text-align: center;\n          width: 80%;\n          height: 80%;\n          font-family: Arial, sans-serif;\n      }",t.cssRules.length)}}class c{constructor(){this.TRANSITION_DURATION=800,this.level=1,this.mouseX=0,this.mouseY=0,this.panEngageTimeout=-1,this.panUpdateInterval=-1,this.callbackTimeout=-1,this.supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,this.keyupEvent=t=>{1!==this.level&&27===t.keyCode&&this.out(void 0)},this.mouseMoveEvent=t=>{1!==this.level&&(this.mouseX=t.clientX,this.mouseY=t.clientY)},this.supportsTransforms&&(document.body.style.transition="transform "+this.TRANSITION_DURATION+"ms ease"),document.addEventListener("keyup",this.keyupEvent),document.addEventListener("mousemove",this.mouseMoveEvent)}magnify(t,e){var s=this.getScrollOffset();if(t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*e)/2,t.y-=(window.innerHeight-t.height*e)/2,this.supportsTransforms)if(1===e)document.body.style.transform="";else{var i=s.x+"px "+s.y+"px",n="translate("+-t.x+"px,"+-t.y+"px) scale("+e+")";document.body.style.transformOrigin=i,document.body.style.transform=n}else 1===e?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height=""):(document.body.style.position="relative",document.body.style.left=-(s.x+t.x)/e+"px",document.body.style.top=-(s.y+t.y)/e+"px",document.body.style.width=100*e+"%",document.body.style.height=100*e+"%");this.level=e}pan(){var t=.12*window.innerWidth,e=.12*window.innerHeight,s=this.getScrollOffset();this.mouseY<e?window.scroll(s.x,s.y-(1-this.mouseY/e)*(14/this.level)):this.mouseY>window.innerHeight-e&&window.scroll(s.x,s.y+(1-(window.innerHeight-this.mouseY)/e)*(14/this.level)),this.mouseX<t?window.scroll(s.x-(1-this.mouseX/t)*(14/this.level),s.y):this.mouseX>window.innerWidth-t&&window.scroll(s.x+(1-(window.innerWidth-this.mouseX)/t)*(14/this.level),s.y)}getScrollOffset(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}to(t){if(1!==this.level)this.out(void 0);else{if(t.x=t.x||0,t.y=t.y||0,t.element){var e="number"==typeof t.padding?t.padding:20,s=t.element.getBoundingClientRect();t.x=s.left-e,t.y=s.top-e,t.width=s.width+2*e,t.height=s.height+2*e}void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),t.scale>1&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),this.magnify(t,t.scale),!1!==t.pan&&(this.panEngageTimeout=setTimeout(this.calculatePanUpdateInterval,this.TRANSITION_DURATION)),"function"==typeof t.callback&&(this.callbackTimeout=setTimeout(t.callback,this.TRANSITION_DURATION)))}}calculatePanUpdateInterval(){this.panUpdateInterval=setInterval(this.pan,1e3/60)}out(t){clearTimeout(this.panEngageTimeout),clearInterval(this.panUpdateInterval),clearTimeout(this.callbackTimeout),this.magnify(new d(0,0,1),1),t&&"function"==typeof t.callback&&setTimeout(t.callback,this.TRANSITION_DURATION),this.level=1}}class d{constructor(t,e,s){this.x=0,this.y=0,this.scale=0,this.x=t,this.y=e,this.scale=s}}class h{constructor(t=!1){this.enableZoomOptions=t,this.zoomStatus=!1,this.active_message='<div id="zoom-status" class="zoom-message-txtbox">On</div>',this.deactive_message='<div id="zoom-status" class="zoom-message-txtbox">Off</div>',this.toogleZoom=t=>{this.zoomService.to(new d(t.x,t.y,10))},this.zoomService=new c}status(){return this.enableZoomOptions}toogleStatus(){this.enableZoomOptions=!this.enableZoomOptions}activeZoom(t,e){this.enableZoomOptions&&(t||!0!==e.ctrlKey||"backspace"!==e.key.toLowerCase()||(a.addZoomMessageTextBoxClass(),this.initialClickEvent(document.body)))}initialClickEvent(t){this.zoomStatus?this.showBoxMessage(t,this.deactive_message,!this.zoomStatus):this.showBoxMessage(t,this.active_message,!this.zoomStatus),this.zoomStatus=!this.zoomStatus}showBoxMessage(t,e,s){t.insertAdjacentHTML("beforebegin",e),setTimeout((()=>{const t=document.getElementById("zoom-status");null==t||t.remove()}),2e3),s?t.addEventListener("click",this.toogleZoom):t.removeEventListener("click",this.toogleZoom)}}class u{static mainMessage(e){return e.style.display="flex",e.style.alignItems="center",e.style.alignContent="center",e.style.justifyItems="center",e.style.justifyContent="center",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.backgroundColor=t.getBackgroundColor(),e.style.zIndex="999",e.style.color=t.getForegroundColor(),e}static messageContent(t){return t.style.textAlign="center",t.style.flex="1",t.style.display="flex",t.style.flexDirection="row",t.style.alignContent="center",t.style.justifyContent="center",t.style.justifyItems="center",t.style.alignItems="center",t}static closeButtom(e){return e.style.background="none",e.style.border="none",e.style.padding="0",e.style.margin="0",e.style.cursor="pointer",e.style.width="50px",e.style.height="50px",e.style.color=t.getForegroundColor(),e}static addFlyMenuStyle(){const e=document.styleSheets[0],s=`\n        .fly_menu {\n          position: fixed;\n          right: 70px;\n          width: 72px;\n          height: 72px;\n          border-radius: 50%;\n          background-color: ${t.getBackgroundColor()};\n          color: ${t.getForegroundColor()};\n          text-align: center;\n          line-height: 50px;\n          flex-wrap: wrap;\n          cursor: pointer;\n          display: flex;\n          align-content: center;\n          align-items: center;\n          justify-content: center;\n          font-size: 22px;\n          z-index: 9999;\n        }\n    `;e.insertRule(s,e.cssRules.length)}static svgCloseButtomMenu(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","17"),e.setAttribute("height","17"),e.setAttribute("viewBox","0 0 17 17");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M3.0535 0L0 3.0535L1.55924 4.61274L5.41401 8.53248L1.55924 12.3873L0 13.8815L3.0535 17L4.61274 15.4408L8.53248 11.521L12.3873 15.4408L13.8815 17L17 13.8815L15.4408 12.3873L11.521 8.53248L15.4408 4.61274L17 3.0535L13.8815 0L12.3873 1.55924L8.53248 5.41401L4.61274 1.55924L3.0535 0Z"),s.setAttribute("fill",t),e.appendChild(s),e}static svgEyee(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","34"),t.setAttribute("height","26"),t.setAttribute("viewBox","0 0 34 26"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d","M17.3208 0.00330279C21.1597 0.109866 24.644 1.38863 27.7511 3.91482C30.543 6.184 32.5919 9.11763 33.9316 12.6656C34.016 12.8912 34.0273 13.0856 33.9372 13.3175C32.1304 18.0627 29.1639 21.6107 25.0323 23.9237C23.1523 24.9768 21.1484 25.6099 19.0488 25.8669C15.5589 26.2995 12.2323 25.6789 9.07448 23.9864C6.18687 22.4381 3.82837 20.1814 1.98772 17.2541C1.19968 16.0004 0.541103 14.6715 0.0401335 13.2485C-0.0105264 13.1044 -0.0161553 12.8975 0.0401335 12.7533C2.20162 7.06785 5.88854 3.16887 11.1009 1.09401C12.9471 0.354336 14.9454 -0.0405764 17.3208 0.00330279Z"),e.setAttribute("fill","white");const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx","17.5"),s.setAttribute("cy","13.5"),s.setAttribute("r","7.5"),s.setAttribute("fill","#28405D");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill-rule","evenodd"),i.setAttribute("clip-rule","evenodd"),i.setAttribute("d","M17.0377 6.02181C17.2247 6.00736 17.4137 6 17.6044 6C21.6117 6 24.8603 9.24854 24.8603 13.2558C24.8603 13.5069 24.8475 13.755 24.8226 13.9996C24.6356 14.014 24.4466 14.0214 24.2558 14.0214C20.2485 14.0214 17 10.7729 17 6.76558C17 6.51447 17.0128 6.26635 17.0377 6.02181Z"),i.setAttribute("fill","#506F95"),t.appendChild(e),t.appendChild(s),t.appendChild(i),t}static svgHuman(t,e="34",s="38"){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",e),i.setAttribute("height",s),i.setAttribute("viewBox","0 0 34 38"),i.setAttribute("xmlns","http://www.w3.org/2000/svg");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M33.5 13.5H22.5V37.3333H18.8333V26.3333H15.1667V37.3333H11.5V13.5H0.5V9.83332H33.5M17 0.666656C17.9725 0.666656 18.9051 1.05296 19.5927 1.7406C20.2804 2.42823 20.6667 3.36086 20.6667 4.33332C20.6667 5.30578 20.2804 6.23841 19.5927 6.92605C18.9051 7.61368 17.9725 7.99999 17 7.99999C16.0275 7.99999 15.0949 7.61368 14.4073 6.92605C13.7196 6.23841 13.3333 5.30578 13.3333 4.33332C13.3333 2.29832 14.965 0.666656 17 0.666656Z"),n.setAttribute("fill",t),i.appendChild(n),i}static svgCloseButtom(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("fill",t),e.setAttribute("viewBox","0 0 32 32");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7.004 23.087l7.08-7.081-7.07-7.071L8.929 7.02l7.067 7.069L23.084 7l1.912 1.913-7.089 7.093 7.075 7.077-1.912 1.913-7.074-7.073L8.917 25z"),e.appendChild(s),e}static addBufferOptionsClass(){const e=document.styleSheets[0],s=`\n        .buffer_options {\n            position: fixed;\n            top: 130px;\n            right: 70px;\n            border-radius: 10px;\n            height: auto; \n            max-height: 100%;\n            overflow-y: auto; \n            z-index: 9999;\n            background-color: ${t.getBackgroundColor()};\n            color: ${t.getForegroundColor()};\n        }\n    `;e.insertRule(s,e.cssRules.length)}static toggleSwitchClasses(){this.toogleSwitchClass(),this.toggleSwitchCircle(),this.toggleSwitchActive(),this.toggleSwitchAnimation()}static toogleSwitchClass(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch {\n            width: 60px;\n            height: 30px;\n            background-color: #ccc;\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            cursor: pointer;\n            transition: background-color 0.3s, transform 0.3s;\n        }\n    ",t.cssRules.length)}static toggleSwitchCircle(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch-circle {\n            width: 30px;\n            height: 30px;\n            background-color: white;\n            border-radius: 50%;\n            transition: transform 0.3s;\n        }",t.cssRules.length)}static toggleSwitchActive(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch.active {\n            background-color: #2ecc71;\n        }",t.cssRules.length)}static toggleSwitchAnimation(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch.active .toggle-switch-circle {\n            transform: translateX(30px);\n        }",t.cssRules.length)}static addOptionFunctionsClass(){const t=document.styleSheets[0];t.insertRule("\n        .option_menu_eyeeassist {\n          display: flex;\n          padding: 10px;\n          justify-content: space-between;\n        }",t.cssRules.length)}static overlayStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .overlay-menu-view {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            flex-direction: column;\n            background-color: rgba(0, 0, 0, 0.5);\n        }",t.cssRules.length)}static overlayOptionsStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .options-menu-view {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n        }",t.cssRules.length)}}class p{constructor(e,s,i,n=!1,l){this.functionalityId=e,this.text=s,this.position=i,this.active=n,this.toggleToolStatus=l,this.toggleOposiveButton=null,this.toggleState=()=>{this.active=!this.active},this.changeButtonState=()=>{const e=document.getElementById(this.functionalityId+"-button-eyeassist-"+this.text);if(!1===this.active){if(null!=e&&(e.style.backgroundColor=t.getForegroundColor(),e.style.color=t.getBackgroundColor()),this.position==o.LEFT){const e=document.getElementById(this.functionalityId+"-button-eyeassist-No");null!=e&&(e.style.backgroundColor=t.getBackgroundColor(),e.style.color=t.getForegroundColor())}else{const e=document.getElementById(this.functionalityId+"-button-eyeassist-Si");null!=e&&(e.style.backgroundColor=t.getBackgroundColor(),e.style.color=t.getForegroundColor())}this.toggleToolStatus(this.functionalityId+"-card-option-eyeassist"),this.active=!this.active,this.toggleOposiveButton&&this.toggleOposiveButton()}},this.element=this.createButtom()}createButtom(){const e=document.createElement("div");e.id=this.functionalityId+"-button-eyeassist-"+this.text,e.addEventListener("click",this.changeButtonState),e.style.marginTop="20px",e.style.width="104px",e.style.height="48px",e.style.cursor="pointer",this.position==o.LEFT?e.style.borderRadius="50px 0 0 50px":e.style.borderRadius="0 50px 50px 0",e.style.border=`1px solid ${t.getForegroundColor()}`,e.style.padding="10px",e.style.display="flex",e.style.alignContent="center",e.style.alignItems="center",e.style.justifyContent="center",e.style.justifyItems="center",this.active?(e.style.backgroundColor=t.getForegroundColor(),e.style.color=t.getBackgroundColor()):(e.style.backgroundColor=t.getBackgroundColor(),e.style.color=t.getForegroundColor());const s=document.createElement("span");return s.textContent=this.text,s.style.cursor="pointer",e.appendChild(s),e}assignChangeOposiveStateButton(t){this.toggleOposiveButton=t}getElement(){return this.element}}class g{static zoomIconSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","44"),t.setAttribute("height","44"),t.setAttribute("viewBox","0 0 44 44"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M34.4723 31.5047C37.5191 34.5183 40.4996 37.532 43.4471 40.4795C42.4867 41.4399 41.4932 42.4003 40.4003 43.5263C40.334 43.3938 40.2347 43.162 40.1022 43.0295C37.3866 40.3139 34.671 37.5983 31.9554 34.8495C31.6242 34.5183 31.4255 34.4521 31.0281 34.7502C21.4903 41.8704 7.9784 38.7243 2.54715 28.1267C-2.1224 18.9863 1.45428 7.62706 10.4953 2.75881C22.1526 -3.50037 36.4262 3.58674 38.4132 16.6681C39.2081 21.8675 37.9827 26.6033 34.9028 30.8754C34.7703 31.041 34.6379 31.2397 34.4392 31.5047H34.4723ZM17.45 21.7019C17.45 22.0331 17.45 22.2649 17.45 22.4967C17.45 24.1526 17.45 25.8085 17.45 27.4975C17.45 27.8949 17.5824 28.0605 17.9798 28.0273C18.7084 28.0273 19.4039 28.0273 20.1325 28.0273C20.6623 28.0273 21.1922 28.0273 21.7883 28.0273V21.7019C22.0864 21.7019 22.2851 21.7019 22.5169 21.7019C24.1728 21.7019 25.8618 21.7019 27.5176 21.7019C28.0475 21.7019 28.18 21.5363 28.18 21.0065C28.1469 20.0129 28.18 18.9863 28.18 17.9597C28.18 17.496 28.0806 17.3304 27.5839 17.3636C25.8949 17.3636 24.1728 17.3636 22.4838 17.3636C22.2851 17.3636 22.0533 17.3636 21.7883 17.3636V11.005C20.4968 11.005 19.2714 11.005 18.0461 11.005C17.6487 11.005 17.4831 11.1375 17.4831 11.5349C17.4831 13.0252 17.4831 14.5155 17.4831 16.0057C17.4831 16.4363 17.4831 16.8668 17.4831 17.3636H11.1908V21.6688H17.4831L17.45 21.7019Z"),e.setAttribute("fill","#243C5A"),t.appendChild(e),t}static filterIconSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","47"),t.setAttribute("height","44"),t.setAttribute("viewBox","0 0 47 44"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M26.4442 42.0029C29.6566 38.7905 31.3787 34.982 31.743 30.5443C31.743 30.2131 32.0079 29.7495 32.306 29.5839C36.545 26.9345 39.2938 23.1922 40.4529 18.324C40.4529 18.2577 40.5522 18.2246 40.6185 18.1584C45.1887 20.6753 48.8316 28.6897 45.0231 35.9093C40.9165 43.6919 31.8755 45.0165 26.4442 41.9698V42.0029ZM1.87116 36.0749C5.97771 43.725 15.0519 45.0497 20.2844 42.036C20.1851 41.9035 20.1188 41.771 20.0195 41.6386C17.0389 38.5255 15.383 34.8164 15.085 30.5112C15.085 30.18 14.7869 29.7495 14.4889 29.5507C10.1174 26.8682 7.43487 23.0266 6.24265 18.0921C1.60622 20.5759 -2.10293 28.7228 1.83804 36.0417L1.87116 36.0749ZM21.9403 0.539948C15.7473 1.06983 9.32256 7.26277 9.68685 12.4622C9.75309 12.4622 9.85244 12.5284 9.91867 12.5284C10.1505 12.5284 10.4154 12.4622 10.6473 12.4291C14.257 11.6343 17.8337 11.8992 21.1455 13.522C22.8013 14.3168 24.0598 14.3168 25.7157 13.522C29.3586 11.7667 33.2333 11.6343 37.2736 12.694C36.8762 7.16342 31.3456 -0.188633 21.9734 0.606184L21.9403 0.539948ZM37.373 16.2376C33.5976 14.9791 30.0209 15.1116 26.378 16.8337C29.0274 19.45 30.617 22.4305 31.4781 26.0403C34.8892 23.4903 36.81 20.311 37.373 16.2045V16.2376ZM20.0857 16.6681C19.887 16.5356 19.6552 16.4363 19.4234 16.37C16.509 15.2441 13.5947 15.1447 10.581 15.8733C9.5875 16.1051 9.48815 16.635 9.68685 17.4629C10.283 19.9798 11.3758 22.1987 13.1642 24.0533C13.8265 24.7156 14.5551 25.3117 15.4162 26.1065C16.2772 22.4305 17.8668 19.4831 20.3506 16.9662C20.2513 16.8337 20.2182 16.7012 20.1188 16.6681H20.0857ZM18.7279 27.0007C18.6617 27.2656 19.1253 27.8618 19.4234 27.9611C22.0396 28.789 24.7221 28.7559 27.3715 28.0274C27.9676 27.8618 28.2657 27.5968 28.1332 26.9014C27.504 23.689 25.9806 20.9734 23.4637 18.7876C20.8143 20.9734 19.3571 23.7552 18.7279 27.0007ZM28.1663 31.3391C24.9208 32.2001 21.8409 32.167 18.5954 31.3391C19.1915 34.9489 20.7149 37.797 23.4306 40.1483C26.0468 37.7307 27.7027 34.982 28.1663 31.3391Z"),e.setAttribute("fill","#243C5A"),t.appendChild(e),t}static voiceIconSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","51"),t.setAttribute("height","44"),t.setAttribute("viewBox","0 0 51 44"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M0.354146 43.8639C-0.970548 35.8495 4.59317 29.0936 11.614 28.3319C14.5946 28.0007 17.6414 28.067 20.6551 28.3319C26.55 28.8287 31.6832 34.2599 32.0475 40.1879C32.1137 41.3801 32.0475 42.5724 32.0475 43.8639H0.354146ZM25.4571 16.2109C25.4571 11.0115 21.4499 6.93808 16.2505 6.90496C10.9517 6.83873 6.87826 10.8459 6.84515 16.1116C6.81203 21.4104 10.7861 25.4838 16.0849 25.4838C21.3505 25.4838 25.4571 21.4435 25.4571 16.2109ZM43.9697 0.811371C42.7444 2.0036 41.5521 3.19582 40.3268 4.38804C43.7048 8.03095 45.5593 12.3693 45.5593 17.4694C45.5593 22.5695 43.6716 26.8747 40.2606 30.5176C41.4859 31.743 42.645 32.9021 43.8703 34.1274C53.1101 25.4176 53.1432 9.48812 44.0028 0.811371H43.9697ZM32.7429 11.9057C35.6904 15.8135 35.6904 18.8603 32.9085 23.0331C34.0345 24.2916 35.1605 25.55 36.2534 26.7754C41.3865 22.4701 41.3866 12.9323 36.4852 8.4946C35.1605 9.68682 33.9351 10.8128 32.7429 11.9057Z"),e.setAttribute("fill","#243C5A"),t.appendChild(e),t}static optionCardStyle(){const e=document.styleSheets[0],s=`\n        .option-card-eyeeassist {\n          position: relative;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          justify-items: center;\n          background-color: ${t.getBackgroundColor()};\n          width: 30%;\n          padding: 50px;\n          border-radius: 16px;\n          color: ${t.getForegroundColor()};\n          font-size: 22px;\n        }\n    `;e.insertRule(s,e.cssRules.length)}}class m{constructor(t,e="",s="",i,n=!1,o){this.functionalityId=t,this.title=e,this.subtitle=s,this.icon=i,this.option=n,this.toggleOptionCard=o,g.optionCardStyle(),this.element=this.createOptionCard()}createOptionCard(){const e=document.createElement("div");e.className="option-card-eyeeassist",e.id=this.functionalityId+"-card-option-eyeassist";const s=document.createElement("span");s.textContent=this.title,s.style.fontWeight="bold";const i=document.createElement("span");if(i.textContent=this.subtitle,e.appendChild(s),e.appendChild(i),this.icon){const s=document.createElement("div");s.style.position="absolute",s.style.top="-20px",s.style.right="-20px",s.style.width="90px",s.style.height="90px",s.style.display="flex",s.style.justifyItems="center",s.style.alignContent="center",s.style.justifyContent="center",s.style.alignItems="center",s.style.borderRadius="50%",s.style.background=t.getForegroundColor(),s.append(this.icon),e.appendChild(s)}const n=document.createElement("div");n.style.display="flex",n.style.flexDirection="row";const l=new p(this.functionalityId,"Si",o.LEFT,!!this.option,this.toggleOptionCard),r=new p(this.functionalityId,"No",o.RIGHT,!this.option,this.toggleOptionCard);return l.assignChangeOposiveStateButton(r.toggleState),r.assignChangeOposiveStateButton(l.toggleState),n.appendChild(l.getElement()),n.appendChild(r.getElement()),e.appendChild(n),e}getElement(){return this.element}}!function(t){t[t.RIGHT=0]="RIGHT",t[t.LEFT=1]="LEFT"}(o||(o={})),new class{constructor(t=!1,e=!1,s=!1,n=""){this.token=n,this.animacionEnProgreso=!1,this.initMessageClose=!1,this.viewOptionsOn=!1,this.showOptionsView=()=>{const t=document.getElementById("fly_menu");if(this.viewOptionsOn){const e=document.getElementById("overlay-menu-view");return null==e||e.remove(),t&&(t.style.width="72px",t.style.borderRadius="50%",t.style.justifyContent="center",this.appName.remove()),void(this.viewOptionsOn=!this.viewOptionsOn)}t&&(t.style.width="200px",t.style.borderRadius="50px",t.style.justifyContent="space-evenly",this.appName=this.createAppName(),t.append(this.appName));const e=document.createElement("div");e.id="overlay-menu-view",e.className="overlay-menu-view";const s=document.createElement("div");s.className="options-menu-view",s.id="option-menu-display",s.append(this.createCloseButtom());const i=document.createElement("div");i.id="option-filter-display",i.style.width="30%",e.append(s),e.append(i);const n=[{id:"zoom",title:"Activar zoom",subtitle:"Atajo de teclado [Ctrl + Backspace]",status:this.ZoomObject.status(),toggle:()=>{this.ZoomObject.toogleStatus(),localStorage.setItem("zoomStatus",JSON.stringify(this.ZoomObject.status()))},icon:g.zoomIconSvg()},{id:"filter",title:"Aplicar filtros de color",subtitle:"Aplique un filtro",status:this.FilterObject.status(),toggle:(t="")=>{this.FilterObject.toggleStatus();var e=this.FilterObject.showFilterOptionsList();const s=document.getElementById("option-filter-display"),i=document.getElementById("option-menu-display");""!=e?(null==s||s.appendChild(e),i&&s&&(i.style.alignItems="end",s.style.height="100%",i.style.height="70%")):i&&s&&(i.style.alignItems="center",s.style.height="0",i.style.height="100%"),localStorage.setItem("filterStatus",JSON.stringify(this.FilterObject.status()))},icon:g.filterIconSvg()},{id:"voice",title:"Leer en voz alta",subtitle:"Atajo de teclado [Ctrl + Space]",status:this.ScreenReaderObject.status(),toggle:()=>{this.ScreenReaderObject.toggleStatus(),localStorage.setItem("readerStatus",JSON.stringify(this.ScreenReaderObject.status()))},icon:g.voiceIconSvg()}];if(n.forEach((t=>{const e=new m(t.id,t.title,t.subtitle,t.icon,t.status,t.toggle).getElement();s.appendChild(e),console.log("Creado",t.id,t.status)})),document.body.appendChild(e),this.FilterObject.status()){var o=this.FilterObject.showFilterOptionsList();const t=document.getElementById("option-filter-display"),e=document.getElementById("option-menu-display");""!=o&&t?(null==t||t.appendChild(o),e&&(e.style.alignItems="end",t.style.height="100%",e.style.height="70%")):e&&t&&(e.style.alignItems="center",t.style.height="0",e.style.height="100%")}this.viewOptionsOn=!this.viewOptionsOn},this.cerrarModal=()=>{if(!this.animacionEnProgreso){const t=document.getElementById("eyeeasist-initial-message");this.animacionEnProgreso=!0;const e=null==t?void 0:t.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-100%)"}],{duration:300,easing:"ease-out"});e&&(e.onfinish=()=>{t&&(t.style.display="none"),this.animacionEnProgreso=!1,localStorage.setItem("initMessageClose","true")})}},"true"==localStorage.getItem("initMessageClose")&&(this.initMessageClose=!0),u.toggleSwitchClasses(),u.addBufferOptionsClass(),u.addFlyMenuStyle(),u.addOptionFunctionsClass(),u.overlayStyleClass(),u.overlayOptionsStyleClass(),this.zoomStatus=t,this.filterStatus=e,this.readerStatus=s,this.appName=this.createAppName();const o=localStorage.getItem("zoomStatus");o&&(console.log("Hay zoom status guardado",JSON.parse(o)),this.zoomStatus=JSON.parse(o));const l=localStorage.getItem("filterStatus");l&&(console.log("Hay filter status guardado",JSON.parse(l)),this.filterStatus=JSON.parse(l));const a=localStorage.getItem("readerStatus");a&&(console.log("Hay reader status guardado",JSON.parse(a)),this.readerStatus=JSON.parse(a)),this.ZoomObject=new h(this.zoomStatus),this.FilterObject=new i(this.filterStatus),this.ScreenReaderObject=new r(this.readerStatus,this.token)}createAppName(){const t=document.createElement("span");return t.textContent="EyeAssist",t}start(){this.showInitMessage(),this.showFlyMenu(),document.addEventListener("keydown",(t=>{console.log(t.key),t.preventDefault(),this.ZoomObject.activeZoom(this.ScreenReaderObject.enable(),t),this.ScreenReaderObject.keybindsScreenReader(t)}))}createCloseButtom(){const e=document.createElement("div"),s=document.createElement("span"),i=u.svgCloseButtomMenu(t.getForegroundColor());return i.style.width="25px",i.style.marginTop="3px",i.style.height="17px",s.textContent="Cerrar ",s.style.color=t.getForegroundColor(),e.append(s),e.append(i),e.style.position="absolute",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.flexDirection="row",e.style.top="20px",e.style.right="100px",e.style.padding="10px",e.style.fontSize="22px",e.style.fontWeight="bold",e.style.cursor="pointer",e.addEventListener("click",this.showOptionsView),e}showFlyMenu(){const t=document.createElement("div");t.id="fly_menu",t.className="fly_menu",t.style.bottom="120px",t.appendChild(u.svgEyee()),t.addEventListener("click",this.showOptionsView),document.body.appendChild(t)}showInitMessage(){let e=document.createElement("div");e=u.mainMessage(e),e.id="eyeeasist-initial-message",this.initMessageClose&&(e.style.display="none");let s=document.createElement("div");s=u.messageContent(s);let i=document.createElement("span");i.textContent="Esta página cuenta con herramientas de accesibilidad. Para activar y/o desactivar estas herramientas, presiona Ctrl + Space o haz clic en el botón con el icono de una persona posicionado en la parte superior derecha de la pantalla.",i.style.padding="15px";let n=document.createElement("button");n=u.closeButtom(n),n.addEventListener("click",this.cerrarModal),n.appendChild(u.svgCloseButtom(t.getForegroundColor())),s.appendChild(i),e.appendChild(s),e.appendChild(n),document.body.insertBefore(e,document.body.firstChild)}}(!0,!0,!0,"akljnv13bvi2vfo0b0bw").start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eVgsRUFBZ0JuYSxTQUFTc0MsY0FBYyxVQUMzQzZYLEVBQWdCMUgsRUFBcUJPLFlBQVltSCxHQUNqREEsRUFBY3RWLGlCQUFpQixRQUFTL0YsS0FBSzhaLGFBQzdDdUIsRUFBY3JYLFlBQVkyUCxFQUFxQnVCLGVBQWV2VixFQUFZRSx1QkFDMUVzYixFQUFvQm5YLFlBQVlvWCxHQUVoQ3RWLEVBQVc5QixZQUFZbVgsR0FDdkJyVixFQUFXOUIsWUFBWXFYLEdBQ3ZCbmEsU0FBU00sS0FBS2dMLGFBQWExRyxFQUFZNUUsU0FBU00sS0FBSzhaLFdBQ3pELElEelA4QixHQUFNLEdBQU0sRUFBTSx3QkFDekNYLE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9zdHlsZS9nbG9iYWwtc3R5bGUudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL2ZpbHRlci1tb2R1bGUvZmlsdGVyX3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL3N0eWxlcy9jc3MtZmlsdGVyLWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL2ZpbHRlci50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9zY3JlZW5fcmVhZGVyL3ZpZGVvLXByb2Nlc29yLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3NjcmVlbl9yZWFkZXIvc2NyZWVuX3JlYWRlci50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9tYWluL29wdGlvbi1jYXJkL29wdGlvbi1jYXJkLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3pvb20vc3R5bGVzL2Nzcy16b29tLWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS96b29tLW1vZHVsZS96b29tX3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS96b29tLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL21haW4vc3R5bGVzL2Nzcy1leWVlYXNzaXN0LWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvbWFpbi9vcHRpb24tY2FyZC9jYXJkLWJ1dHRvbi50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9tYWluL29wdGlvbi1jYXJkL29wdGlvbi1jYXJkLXN0eWxlcy50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvbWFpbi9leWVlYXNzaXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBHbG9iYWxTdHlsZSB7XG4gICAgc3RhdGljIGdldEJhY2tncm91bmRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuICcjMjQzQzVBJztcbiAgICB9XG4gICAgc3RhdGljIGdldEZvcmVncm91bmRDb2xvcigpIHtcbiAgICAgICAgcmV0dXJuICcjRkZGRkZGJztcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRmlsdGVyU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGFzSW5zZXJ0ZWRBY2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVfZmlsdGVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmlsdHJvX2FwbGljYWRvID0gJyc7XG4gICAgICAgIHRoaXMuY29sb3JCbGluZG5lc3NDbGFzc2VzID0gW1xuICAgICAgICAgICAgXCJwcm90YW5vcGlhXCIsXG4gICAgICAgICAgICBcInByb3Rhbm9tYWx5XCIsXG4gICAgICAgICAgICBcImRldXRlcmFub3BpYVwiLFxuICAgICAgICAgICAgXCJkZXV0ZXJhbm9tYWx5XCIsXG4gICAgICAgICAgICBcInRyaXRhbm9waWFcIixcbiAgICAgICAgICAgIFwidHJpdGFub21hbHlcIixcbiAgICAgICAgICAgIFwiYWNocm9tYXRvcHNpYVwiLFxuICAgICAgICAgICAgXCJhY2hyb21hdG9tYWx5XCIsXG4gICAgICAgICAgICBcImdyYXlzY2FsZVwiXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMudmlzaW9uQ2xhc3NlcyA9IFtcbiAgICAgICAgICAgIFwidmlzaW9uLWxvc3MtbW9kZXJhdGVcIixcbiAgICAgICAgICAgIFwidmlzaW9uLWxvc3Mtc2V2ZXJlXCIsXG4gICAgICAgICAgICBcInZpc2lvbi1ibGluZG5lc3NcIlxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmNzc0ZpbHRlciA9IGBcbiAgPHN0eWxlPi5wcm90YW5vcGlhey13ZWJraXQtZmlsdGVyOnVybCgjcHJvdGFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNwcm90YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5wcm90YW5vbWFseXstd2Via2l0LWZpbHRlcjp1cmwoI3Byb3Rhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3Byb3Rhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5kZXV0ZXJhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNkZXV0ZXJhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjZGV1dGVyYW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5kZXV0ZXJhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjZGV1dGVyYW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNkZXV0ZXJhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS50cml0YW5vcGlhey13ZWJraXQtZmlsdGVyOnVybCgjdHJpdGFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCN0cml0YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS50cml0YW5vbWFseXstd2Via2l0LWZpbHRlcjp1cmwoI3RyaXRhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3RyaXRhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5hY2hyb21hdG9wc2lhey13ZWJraXQtZmlsdGVyOnVybCgjYWNocm9tYXRvcHNpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNhY2hyb21hdG9wc2lhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5hY2hyb21hdG9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjYWNocm9tYXRvbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNhY2hyb21hdG9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5ncmF5c2NhbGV7LXdlYmtpdC1maWx0ZXI6Z3JheXNjYWxlKDEwMCUpIWltcG9ydGFudDtmaWx0ZXI6Z3JheXNjYWxlKDEwMCUpIWltcG9ydGFudH0udmlzaW9uLWxvc3MtbW9kZXJhdGUgYm9keT4qey13ZWJraXQtZmlsdGVyOmJsdXIoMXB4KSFpbXBvcnRhbnQ7ZmlsdGVyOmJsdXIoMXB4KSFpbXBvcnRhbnR9LnZpc2lvbi1sb3NzLXNldmVyZSBib2R5Pip7LXdlYmtpdC1maWx0ZXI6Ymx1cigxMHB4KSFpbXBvcnRhbnQ7ZmlsdGVyOmJsdXIoMTBweCkhaW1wb3J0YW50fS52aXNpb24tYmxpbmRuZXNzIGJvZHk+KntiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50Oy13ZWJraXQtZmlsdGVyOmJyaWdodG5lc3MoMCkhaW1wb3J0YW50O2ZpbHRlcjpicmlnaHRuZXNzKDApIWltcG9ydGFudH0jYWNjZXNzLWZpbHRlcntib3JkZXI6MDtjbGlwOnJlY3QoMXB4LDFweCwxcHgsMXB4KTstd2Via2l0LWNsaXAtcGF0aDppbnNldCg1MCUpO2NsaXAtcGF0aDppbnNldCg1MCUpO2hlaWdodDoxcHg7bWFyZ2luOi0xcHg7d2lkdGg6MXB4O292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7d29yZC13cmFwOm5vcm1hbCFpbXBvcnRhbnR9PC9zdHlsZT5gO1xuICAgICAgICB0aGlzLnN2Z0ZpbHRlclRlbXBsYXRlID0gYDxzdmcgXG4gIGlkPVwiYWNjZXNzLWZpbHRlclwiXG4gIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICB2ZXJzaW9uPVwiMS4xXCI+XG4gIDxkZWZzPlxuICAgIDxmaWx0ZXIgaWQ9XCJwcm90YW5vcGlhXCI+XG4gICAgICA8ZmVDb2xvck1hdHJpeFxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxuICAgICAgICB0eXBlPVwibWF0cml4XCJcbiAgICAgICAgdmFsdWVzPVwiMC41NjcsIDAuNDMzLCAwLCAgICAgMCwgMFxuICAgICAgICAgICAgICAgIDAuNTU4LCAwLjQ0MiwgMCwgICAgIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4yNDIsIDAuNzU4LCAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cbiAgICA8L2ZpbHRlcj5cbiAgICA8ZmlsdGVyIGlkPVwicHJvdGFub21hbHlcIj5cbiAgICAgIDxmZUNvbG9yTWF0cml4XG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxuICAgICAgICB2YWx1ZXM9XCIwLjgxNywgMC4xODMsIDAsICAgICAwLCAwXG4gICAgICAgICAgICAgICAgMC4zMzMsIDAuNjY3LCAwLCAgICAgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLjEyNSwgMC44NzUsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxuICAgIDwvZmlsdGVyPlxuICAgIDxmaWx0ZXIgaWQ9XCJkZXV0ZXJhbm9waWFcIj5cbiAgICAgIDxmZUNvbG9yTWF0cml4XG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxuICAgICAgICB2YWx1ZXM9XCIwLjYyNSwgMC4zNzUsIDAsICAgMCwgMFxuICAgICAgICAgICAgICAgIDAuNywgICAwLjMsICAgMCwgICAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMywgICAwLjcsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgMSwgMFwiLz5cbiAgICA8L2ZpbHRlcj5cbiAgICA8ZmlsdGVyIGlkPVwiZGV1dGVyYW5vbWFseVwiPlxuICAgICAgPGZlQ29sb3JNYXRyaXhcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXG4gICAgICAgIHZhbHVlcz1cIjAuOCwgICAwLjIsICAgMCwgICAgIDAsIDBcbiAgICAgICAgICAgICAgICAwLjI1OCwgMC43NDIsIDAsICAgICAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMTQyLCAwLjg1OCwgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XG4gICAgPC9maWx0ZXI+XG4gICAgPGZpbHRlciBpZD1cInRyaXRhbm9waWFcIj5cbiAgICAgIDxmZUNvbG9yTWF0cml4XG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxuICAgICAgICB2YWx1ZXM9XCIwLjk1LCAwLjA1LCAgMCwgICAgIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAwLjQzMywgMC41NjcsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAwLjQ3NSwgMC41MjUsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XG4gICAgPC9maWx0ZXI+XG4gICAgPGZpbHRlciBpZD1cInRyaXRhbm9tYWx5XCI+XG4gICAgICA8ZmVDb2xvck1hdHJpeFxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxuICAgICAgICB0eXBlPVwibWF0cml4XCJcbiAgICAgICAgdmFsdWVzPVwiMC45NjcsIDAuMDMzLCAwLCAgICAgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLjczMywgMC4yNjcsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4xODMsIDAuODE3LCAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cbiAgICA8L2ZpbHRlcj5cbiAgICA8ZmlsdGVyIGlkPVwiYWNocm9tYXRvcHNpYVwiPlxuICAgICAgPGZlQ29sb3JNYXRyaXhcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXG4gICAgICAgIHZhbHVlcz1cIjAuMjk5LCAwLjU4NywgMC4xMTQsIDAsIDBcbiAgICAgICAgICAgICAgICAwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXG4gICAgICAgICAgICAgICAgMC4yOTksIDAuNTg3LCAwLjExNCwgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XG4gICAgPC9maWx0ZXI+XG4gICAgPGZpbHRlciBpZD1cImFjaHJvbWF0b21hbHlcIj5cbiAgICAgIDxmZUNvbG9yTWF0cml4XG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxuICAgICAgICB2YWx1ZXM9XCIwLjYxOCwgMC4zMjAsIDAuMDYyLCAwLCAwXG4gICAgICAgICAgICAgICAgMC4xNjMsIDAuNzc1LCAwLjA2MiwgMCwgMFxuICAgICAgICAgICAgICAgIDAuMTYzLCAwLjMyMCwgMC41MTYsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxuICAgIDwvZmlsdGVyPlxuICA8L2RlZnM+XG48L3N2Zz5gO1xuICAgIH1cbiAgICBnZXRBY3RpdmVGaWx0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZV9maWx0ZXI7XG4gICAgfVxuICAgIGFwbGljYXJGaWx0cm8oZmlsdHJvKSB7XG4gICAgICAgIGlmIChmaWx0cm8gPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYXBsaWNhciBsb3MgZmlsdHJvcywgbGEgb3BjaW9uIG5vIHNlIHBpbnRhZGEgY29ycmVjdGFtZW50ZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVfZmlsdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVRlc3QoXCJjb2xvckJsaW5kbmVzc1wiLCBmaWx0cm8pO1xuICAgICAgICAgICAgdGhpcy5maWx0cm9fYXBsaWNhZG8gPSBmaWx0cm87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRlc3RzKFwiY29sb3JCbGluZG5lc3NcIik7XG4gICAgICAgICAgICB0aGlzLmZpbHRyb19hcGxpY2FkbyA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlX2ZpbHRlciA9ICF0aGlzLmFjdGl2ZV9maWx0ZXI7XG4gICAgfVxuICAgIHRvZ2dsZVRlc3QodGVzdFR5cGUsIHRlc3RDbGFzcykge1xuICAgICAgICBpZiAoIXRoaXMuaGFzSW5zZXJ0ZWRBY2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0RmlsZXModGhpcy5zdmdGaWx0ZXJUZW1wbGF0ZSwgdGhpcy5jc3NGaWx0ZXIpO1xuICAgICAgICAgICAgdGhpcy5oYXNJbnNlcnRlZEFjY2VzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVUZXN0cyh0ZXN0VHlwZSk7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRlc3RDbGFzcyk7XG4gICAgfVxuICAgIGluc2VydEZpbGVzKHN2ZywgY3NzKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHN2Zyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGNzcyk7XG4gICAgfVxuICAgIHJlbW92ZVRlc3RzKHRlc3RUeXBlKSB7XG4gICAgICAgIGlmICh0ZXN0VHlwZSA9PSBcInZpc2lvblwiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmlzaW9uQ2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMudmlzaW9uQ2xhc3Nlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGVzdFR5cGUgPT0gXCJjb2xvckJsaW5kbmVzc1wiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sb3JCbGluZG5lc3NDbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2xvYmFsU3R5bGUgfSBmcm9tIFwiLi4vLi4vc3R5bGUvZ2xvYmFsLXN0eWxlXCI7XG5leHBvcnQgY2xhc3MgQ3NzRmlsdGVyQ2xhc3NlcyB7XG4gICAgc3RhdGljIGFkZEZpbHRlckJ1ZmZlclN0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9idWZmZXIgPSBgXG4gICAgICAgIC5maWx0ZXItbGlzdC1idWZmZXIge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7R2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCl9O1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMjJweDtcbiAgICAgICAgICBjb2xvcjogJHtHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKX07XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJyZW07XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX2J1ZmZlciwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmlsdGVyT3B0aW9uc1N0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9vcHRpb24gPSBgXG4gICAgICAgIC5maWx0ZXItb3B0aW9uIHtcbiAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX29wdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgcmFkaW9CdXR0b21Dc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHJhZGlvX2J1dHRvbiA9IGBcbiAgICAgICAgLnJhZGlvX2J1dHRvbl9leWVhc3Npc3Q6OmFmdGVyIHtcbiAgICAgICAgICBjb250ZW50OlwiXCI7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICB3aWR0aDogMjJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcbiAgICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgfVxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShyYWRpb19idXR0b24sIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2hlY2tlZF9zdGF0ZSA9IGBcbiAgICAgICAgLnJhZGlvX2J1dHRvbl9leWVhc3Npc3Q6Y2hlY2tlZDo6YWZ0ZXIge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoY2hlY2tlZF9zdGF0ZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmlsdGVyU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX2J1dHRvbiA9IGBcbiAgICAgICAgLmZpbHRlcl9idXR0b24ge1xuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICB0b3A6IDIwcHg7XG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQzYzVhO1xuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgei1pbmRleDogOTk5OTtcbiAgICAgICAgfVxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShmaWx0ZXJfYnV0dG9uLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2xvYmFsU3R5bGUgfSBmcm9tIFwiLi4vc3R5bGUvZ2xvYmFsLXN0eWxlXCI7XG5pbXBvcnQgeyBGaWx0ZXJTZXJ2aWNlIH0gZnJvbSBcIi4vZmlsdGVyLW1vZHVsZS9maWx0ZXJfc2VydmljZVwiO1xuaW1wb3J0IHsgQ3NzRmlsdGVyQ2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZmlsdGVyLWNsYXNzZXNcIjtcbmV4cG9ydCBjbGFzcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZUZpbHRlciA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlRmlsdGVyID0gZW5hYmxlRmlsdGVyO1xuICAgICAgICB0aGlzLmZpbHRlclZpZXdPbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpbHRlck9wdGlvbnNNYXAgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLnN0YXJ0RmlsdGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByYWRpbyA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IHJhZGlvSWQgPSByYWRpby5pZC5yZXBsYWNlKCdfb3B0aW9uJywgJycpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VBY3RpdmVJbnB1dHMocmFkaW9JZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd0ZpbHRlck9wdGlvbnNMaXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZpbHRlcikge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJfYnVmZmVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gaGF5IGluc3RhbmNpYSBkZWwgYnVmZmVyIGRlIG9wY2lvbmVzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbHRlcl9idWZmZXJfaW5zdGFuY2UucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJPcHRpb25zTWFwLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJMaXN0ID0gW1xuICAgICAgICAgICAgICAgIHsgaWQ6IFwicHJvdGFub3BpYVwiLCBuYW1lOiBcIlJvam8gKFByb3Rhbm9waWEpXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcImRldXRlcmFub3BpYVwiLCBuYW1lOiBcIlZlcmRlIChEZXV0ZXJhbm9waWEpXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInRyaXRhbm9waWFcIiwgbmFtZTogXCJBenVsIChUcml0YW5vcGlhKVwiIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogXCJncmF5c2NhbGVcIiwgbmFtZTogXCJHcmlzZXMgKEdyYXlzY2FsZSlcIiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICBcImNvbG9yc1wiLFxuICAgICAgICAgICAgICAgIFwiZmlsdGVyXCJcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB2YXIgYnVmZmVyTGlzdERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJ1ZmZlckxpc3REaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXItbGlzdC1idWZmZXInO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuaWQgPSAnZmlsdGVyX2J1ZmZlcic7XG4gICAgICAgICAgICB2YXIgYnVmZmVyTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnVmZmVyTGlzdENvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzclIDclIDMlIDclJztcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gJ1NlbGVjY2lvbmUgdW4gZmlsdHJvIHBhcmEgZGlzdGluZ3VpciBtZWpvciBsb3Mgc2lndWllbnRlcyBjb2xvcmVzOic7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNXB4JztcbiAgICAgICAgICAgIGJ1ZmZlckxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgY29uc3QgY29sb3JzID0gW1xuICAgICAgICAgICAgICAgICcjM0IzRjRBJyxcbiAgICAgICAgICAgICAgICAnIzcyNjQwMScsXG4gICAgICAgICAgICAgICAgJyNGRkZGMDAnLFxuICAgICAgICAgICAgICAgICcjRkYwMDAwJyxcbiAgICAgICAgICAgICAgICAnI0ZGQTUwMCcsXG4gICAgICAgICAgICAgICAgJyNGRkZGMDAnLFxuICAgICAgICAgICAgICAgICcjMDA4MDAwJyxcbiAgICAgICAgICAgICAgICAnIzAwMDBGRicsXG4gICAgICAgICAgICAgICAgJyM0QjAwODInLFxuICAgICAgICAgICAgICAgICcjOTQwMEQzJyxcbiAgICAgICAgICAgICAgICAnI0ZGRkYwMCcsXG4gICAgICAgICAgICAgICAgJyMwMDE4QTknXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgZmlsdGVyTGlzdC5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBidWZmZXJMaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRGaWx0ZXJPcHRpb24oZmlsdGVyKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjNjU3NjhiJztcbiAgICAgICAgICAgICAgICBkaXZpZGVyLnN0eWxlLm1hcmdpbiA9ICc1cHggMCc7XG4gICAgICAgICAgICAgICAgYnVmZmVyTGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZpZGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoYnVmZmVyTGlzdENvbnRhaW5lcik7XG4gICAgICAgICAgICB2YXIgY29sb3JDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICBjb2xvckNvbnRhaW5lci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgICAgICBjb2xvckNvbnRhaW5lci5zdHlsZS5hbGlnbkNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlJdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY29sb3JDb250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmJhY2tncm91bmQgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLnBhZGRpbmcgPSAnNSUgMCc7XG4gICAgICAgICAgICBjb2xvckNvbnRhaW5lci5zdHlsZS5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9ICcyMnB4JztcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSAnMjJweCc7XG4gICAgICAgICAgICBjb2xvcnMuZm9yRWFjaCgoY29sb3IpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjb2xvckJveC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICBjb2xvckJveC5zdHlsZS53aWR0aCA9ICc0M3B4JztcbiAgICAgICAgICAgICAgICBjb2xvckJveC5zdHlsZS5oZWlnaHQgPSAnNTBweCc7XG4gICAgICAgICAgICAgICAgY29sb3JCb3guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgICAgICAgICAgY29sb3JDb250YWluZXIuYXBwZW5kQ2hpbGQoY29sb3JCb3gpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBidWZmZXJMaXN0RGl2RWxlbWVudC5hcHBlbmRDaGlsZChjb2xvckNvbnRhaW5lcik7XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyTGlzdERpdkVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmlsdGVyU2VydmljZSA9IG5ldyBGaWx0ZXJTZXJ2aWNlKCk7XG4gICAgICAgIENzc0ZpbHRlckNsYXNzZXMuYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcygpO1xuICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzKCk7XG4gICAgICAgIENzc0ZpbHRlckNsYXNzZXMucmFkaW9CdXR0b21Dc3MoKTtcbiAgICB9XG4gICAgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVGaWx0ZXI7XG4gICAgfVxuICAgIHRvZ2dsZVN0YXR1cygpIHtcbiAgICAgICAgdGhpcy5lbmFibGVGaWx0ZXIgPSAhdGhpcy5lbmFibGVGaWx0ZXI7XG4gICAgfVxuICAgIHNob3dGaWx0ZXJPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWFnZS5zcmMgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9FeWVlQXNzaXN0L2RvY3MvYmxvYi9kZXZlbG9wL3NyYy9hc3NldHMvbG9nby5wbmc/cmF3PXRydWVcIjtcbiAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSAnNTBweCc7XG4gICAgICAgIGltYWdlLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgICAgICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZpbHRlcl9idXR0b24nO1xuICAgICAgICBkaXZFbGVtZW50LmlkID0gJ2ZpbHRlcl9idXR0b24nO1xuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgICAgZGl2RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd0ZpbHRlck9wdGlvbnNMaXN0KTtcbiAgICAgICAgQ3NzRmlsdGVyQ2xhc3Nlcy5hZGRGaWx0ZXJTdHlsZUNsYXNzKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgfVxuICAgIGJ1aWxkRmlsdGVyT3B0aW9uKGZpbHRlck9wdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9uRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXItb3B0aW9uJztcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmlkID0gZmlsdGVyT3B0aW9uLmlkICsgJ19vcHRpb24nO1xuICAgICAgICBjb25zdCByYWRpb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICByYWRpb0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICByYWRpb0NvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIHJhZGlvQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIGNvbnN0IHJhZGlvQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgcmFkaW9CdXR0b24udHlwZSA9IFwicmFkaW9cIjtcbiAgICAgICAgcmFkaW9CdXR0b24uaWQgPSBmaWx0ZXJPcHRpb24uaWQgKyAnX29wdGlvbic7XG4gICAgICAgIHJhZGlvQnV0dG9uLmNsYXNzTmFtZSA9ICdyYWRpb19idXR0b25fZXllYXNzaXN0JztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUuYXBwZWFyYW5jZSA9ICdub25lJztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICByYWRpb0J1dHRvbi5zdHlsZS5oZWlnaHQgPSAnMjVweCc7XG4gICAgICAgIHJhZGlvQnV0dG9uLnN0eWxlLndpZHRoID0gJzI1cHgnO1xuICAgICAgICByYWRpb0J1dHRvbi5zdHlsZS5ib3JkZXIgPSAnMC4xNWVtIHNvbGlkICNGRkZGRkYnO1xuICAgICAgICByYWRpb0J1dHRvbi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUuZGlzcGxheSA9ICdncmlkJztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICByYWRpb0J1dHRvbi5zdHlsZS5wbGFjZUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgcmFkaW9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnN0YXJ0RmlsdGVyKTtcbiAgICAgICAgdGhpcy5maWx0ZXJPcHRpb25zTWFwLnNldChmaWx0ZXJPcHRpb24uaWQsIHJhZGlvQnV0dG9uKTtcbiAgICAgICAgY29uc3Qgb3B0aW9uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgb3B0aW9uVGV4dC50ZXh0Q29udGVudCA9IGZpbHRlck9wdGlvbi5uYW1lO1xuICAgICAgICBvcHRpb25UZXh0LnN0eWxlLm1hcmdpbkxlZnQgPSAnMTJweCc7XG4gICAgICAgIHJhZGlvQ29udGFpbmVyLmFwcGVuZChyYWRpb0J1dHRvbik7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQuYXBwZW5kKHJhZGlvQ29udGFpbmVyKTtcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5hcHBlbmQob3B0aW9uVGV4dCk7XG4gICAgICAgIHJldHVybiBvcHRpb25EaXZFbGVtZW50O1xuICAgIH1cbiAgICBjaGFuZ2VBY3RpdmVJbnB1dHMoc2VsZWN0ZWRfaW5wdXQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0lucHV0IHNlbGVjY2lvbmFkbycsIHNlbGVjdGVkX2lucHV0KTtcbiAgICAgICAgY29uc3QgY3VycmVudF9lbGVtZW50ID0gdGhpcy5maWx0ZXJPcHRpb25zTWFwLmdldChzZWxlY3RlZF9pbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLmZpbHRlclNlcnZpY2UuZ2V0QWN0aXZlRmlsdGVyKCkgJiYgdGhpcy5maWx0ZXJTZXJ2aWNlLmZpbHRyb19hcGxpY2FkbyA9PSBzZWxlY3RlZF9pbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTZXJ2aWNlLmFwbGljYXJGaWx0cm8oc2VsZWN0ZWRfaW5wdXQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRfZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfZWxlbWVudC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbY2xhdmUsIHZhbG9yXSBvZiB0aGlzLmZpbHRlck9wdGlvbnNNYXApIHtcbiAgICAgICAgICAgIGlmIChjbGF2ZSAhPSBzZWxlY3RlZF9pbnB1dCkge1xuICAgICAgICAgICAgICAgIHZhbG9yLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5maWx0ZXJTZXJ2aWNlLmdldEFjdGl2ZUZpbHRlcigpKSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UuYXBsaWNhckZpbHRybyhzZWxlY3RlZF9pbnB1dCk7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UuYXBsaWNhckZpbHRybyhzZWxlY3RlZF9pbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UuYXBsaWNhckZpbHRybyhzZWxlY3RlZF9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgVmlkZW9Qcm9jZXNvciB7XG4gICAgY29uc3RydWN0b3IoZm91bmRWaWRlbyA9IGZhbHNlLCB0YWxrKSB7XG4gICAgICAgIHRoaXMuZm91bmRWaWRlbyA9IGZvdW5kVmlkZW87XG4gICAgICAgIHRoaXMudGFsayA9IHRhbGs7XG4gICAgICAgIHRoaXMub25QbGF5ZXJTdGF0ZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IFlULlBsYXllclN0YXRlLlBBVVNFRCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PSBZVC5QbGF5ZXJTdGF0ZS5FTkRFRCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PT0gWVQuUGxheWVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IChfYSA9IHRoaXMucGxheWVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IGN1cnJlbnRUaW1lID09PSBudWxsIHx8IGN1cnJlbnRUaW1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50VGltZS50b0ZpeGVkKDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKF9iID0gdGhpcy5zY3JpcHQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXQodGltZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5wbGF5ZXI/LnBhdXNlVmlkZW8oKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKChfYyA9IHRoaXMuc2NyaXB0KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZ2V0KHRpbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5wbGF5ZXI/LnBsYXlWaWRlbygpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b2dnbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuZm91bmRWaWRlbyA9ICF0aGlzLmZvdW5kVmlkZW87XG4gICAgfVxuICAgIHR1cm5PZmYoKSB7XG4gICAgICAgIHRoaXMuZm91bmRWaWRlbyA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydEF1ZGlvRGVzY3JpcHRpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmICh0aGlzLmZvdW5kVmlkZW8gJiYgZXZlbnQuc2hpZnRLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwia1wiKSB7XG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMucGxheWVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGxheWVyU3RhdGUoKSkgPT0gWVQuUGxheWVyU3RhdGUuUExBWUlORykge1xuICAgICAgICAgICAgICAgIChfYiA9IHRoaXMucGxheWVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucGF1c2VWaWRlbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKF9jID0gdGhpcy5wbGF5ZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5wbGF5VmlkZW8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjcmVhdGVQbGF5ZXIobm9kZSkge1xuICAgICAgICBsZXQgaWZyYW1lID0gbm9kZTtcbiAgICAgICAgaWZyYW1lLmlkID0gJ3NpbmdsZS12aWRlby1leWVlYXNzaXQnO1xuICAgICAgICB0aGlzLnNjcmlwdCA9IHRoaXMuZ2V0U2NyaXB0KGlmcmFtZS5zcmMpO1xuICAgICAgICBjb25zdCBxdWVzdGlvbk1hcmtJbmRleCA9IGlmcmFtZS5zcmMuaW5kZXhPZignPycpO1xuICAgICAgICBpZnJhbWUuc3JjID0gaWZyYW1lLnNyYy5zdWJzdHJpbmcoMCwgcXVlc3Rpb25NYXJrSW5kZXggKyAxKSArICdlbmFibGVqc2FwaT0xJicgKyBpZnJhbWUuc3JjLnN1YnN0cmluZyhxdWVzdGlvbk1hcmtJbmRleCArIDEpO1xuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBZVC5QbGF5ZXIoaWZyYW1lLmlkLCB7XG4gICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAnb25TdGF0ZUNoYW5nZSc6IHRoaXMub25QbGF5ZXJTdGF0ZUNoYW5nZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0U2NyaXB0KHVybCkge1xuICAgICAgICBjb25zdCBteU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgbXlNYXAuc2V0KCcxLjAnLCAnUGFpc2FqZSBkZSB1bmEgcGxheWEnKTtcbiAgICAgICAgbXlNYXAuc2V0KCcxMy4wJywgJ1BhaXNhamUgZGUgdW5hcyBtb3Rhw7FhcyB5IHVuYSBiYW5kZXJhIG9uZGVhbmRvJyk7XG4gICAgICAgIG15TWFwLnNldCgnMjguMCcsICdQYWlzYWplIGNvbiB1bmEgY29zdGEgeSBvbGFzIHJvbXBpZW5kbycpO1xuICAgICAgICBteU1hcC5zZXQoJzQwLjAnLCAnVW5hIGxhZ3VuYSBhcnRpZmljaWFsJyk7XG4gICAgICAgIG15TWFwLnNldCgnNTYuMCcsICdVbiByaW8gbGFyZ28nKTtcbiAgICAgICAgcmV0dXJuIG15TWFwO1xuICAgIH1cbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgVmlkZW9Qcm9jZXNvciB9IGZyb20gXCIuL3ZpZGVvLXByb2Nlc29yXCI7XG5leHBvcnQgY2xhc3MgU2NyZWVuUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih1c2VTY3JlZW5SZWFkZXIgPSBmYWxzZSwgdG9rZW4gPSBcIlwiKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy51c2VTY3JlZW5SZWFkZXIgPSB1c2VTY3JlZW5SZWFkZXI7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5zeW50aCA9IHdpbmRvdy5zcGVlY2hTeW50aGVzaXM7XG4gICAgICAgIHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRBcnRpY2xlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgPSBudWxsO1xuICAgICAgICB0aGlzLmFydGljbGVJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLmxpbmtJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXI7XG4gICAgICAgIHRoaXMudmlkZW9Qcm9jZXNvciA9IG51bGw7XG4gICAgICAgIHRoaXMudGFncyA9IFtdO1xuICAgICAgICB0aGlzLnRhbGsgPSAodGV4dCwgY2FuY2VsID0gdHJ1ZSkgPT4ge1xuICAgICAgICAgICAgY2FuY2VsID8gdGhpcy5zeW50aC5jYW5jZWwoKSA6IFwiIFwiO1xuICAgICAgICAgICAgdGhpcy5zeW50aC5zcGVhayhuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW5jZWxUYWxrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YWxrKFwiXCIpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMudXNlU2NyZWVuUmVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XG4gICAgICAgIGxldCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICAgICAgKF9hID0gZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcbiAgICAgICAgdGhpcy52aWRlb1Byb2Nlc29yID0gbmV3IFZpZGVvUHJvY2Vzb3IoZmFsc2UsIHRoaXMudGFsayk7XG4gICAgfVxuICAgIHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlU2NyZWVuUmVhZGVyO1xuICAgIH1cbiAgICB0b2dnbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMudXNlU2NyZWVuUmVhZGVyID0gIXRoaXMudXNlU2NyZWVuUmVhZGVyO1xuICAgIH1cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlblJlYWRlclN0YXR1cztcbiAgICB9XG4gICAgc2F5V2VsY29tZSgpIHtcbiAgICAgICAgdGhpcy50YWxrKFwiSG9sYSBiaWVudmVuaWRvIGEgbGEgcGFnaW5hIFgsIHNpIGRlc2VhIGxlZXIgZWwgY29udGVuaWRvIHByZWNpb25lIGNvbnRyb2wgKyBmbGVjaGEgZGVyZWNoYSBvIHByZWNpb25lIGNvbnRyb2wgKyBlbnRlciBwYXJhIG5hdmVnYXIgcG9yIGxvcyBsaW5rc1wiKTtcbiAgICB9XG4gICAgc2F5R29vZGJheSgpIHtcbiAgICAgICAgdGhpcy50YWxrKFwiR3JhY2lhcyBwb3IgdXRpbGl6YXIgZXllZWFzc2lzdFwiKTtcbiAgICB9XG4gICAga2V5YmluZHNTY3JlZW5SZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmNhbmNlbFJlYWRlcihldmVudCk7XG4gICAgICAgIHRoaXMucmVSZWFkKGV2ZW50KTtcbiAgICAgICAgdGhpcy5hY3RpdmVTY3JlZW5SZWFkZXIoZXZlbnQpO1xuICAgICAgICB0aGlzLm1vdmVCZXR3ZWVuQ29udGVudChldmVudCk7XG4gICAgICAgIHRoaXMubW92ZUJldHdlZW5MaW5rcyhldmVudCk7XG4gICAgICAgIChfYSA9IHRoaXMudmlkZW9Qcm9jZXNvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0QXVkaW9EZXNjcmlwdGlvbihldmVudCk7XG4gICAgfVxuICAgIGdldEltYWdlKHNyYykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0RGVzY3JpcHRpb24oYmxvYikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGJsb2IsICdpbWFnZW4uanBnJyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRva2VuKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRoaXMudG9rZW5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jYXB0aW9uJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHlpZWxkIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24ubWVzc2FnZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVhZENoaWxkcyhhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKGFydGljbGUubm9kZU5hbWUgPT0gJ0lGUkFNRScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ1ZpZGVvIGVuY29udHJhZG8sIHByZWNpb25lIHNoaWZ0IG1hcyBrIHBhcmEgaW5pY2lhciBlbCB2aWRlbyBjb24gYXVkaW8gZGVzY3JpcGNpb24nKTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnZpZGVvUHJvY2Vzb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b2dnbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnZpZGVvUHJvY2Vzb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jcmVhdGVQbGF5ZXIoYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlTmFtZSA9PSAnSU1HJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGVuY29udHJhZGEnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbGV0IGltZyA9IGFydGljbGU7XG4gICAgICAgICAgICAgICAgaWYgKGltZy5hbHQgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGRlICcgKyBpbWcuYWx0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuZ2V0SW1hZ2UoaW1nLnNyYyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB5aWVsZCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnZGVzY3JpYmllbmRvIGltYWdlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB5aWVsZCB0aGlzLmdldERlc2NyaXB0aW9uKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24gIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKCdJbWFnZW4gZGUgJyArIGRlc2NyaXB0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ05vIHNlIHB1ZG8gZ2VuZXJhciB1bmEgZGVzY3JpcGNpb24gcGFyYSBsYSBpbWFnZW4gZW5jb250cmFkYS4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERSAmJiAoKF9jID0gYXJ0aWNsZS50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoYXJ0aWNsZS50ZXh0Q29udGVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBBcnJheS5mcm9tKGFydGljbGUuY2hpbGROb2RlcykpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnJlYWRDaGlsZHMoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbW92ZUJldHdlZW5Db250ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhZ3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgJiZcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImFycm93cmlnaHRcIikge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkQXJ0aWNsZSA9IHRoaXMudGFncy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy50YWdzLnB1c2goc2VsZWN0ZWRBcnRpY2xlKTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsVGFsaygpO1xuICAgICAgICAgICAgdGhpcy5yZWFkQ2hpbGRzKHNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJhcnJvd2xlZnRcIikge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkQXJ0aWNsZSA9IHRoaXMudGFncy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMudGFncy51bnNoaWZ0KHNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFRhbGsoKTtcbiAgICAgICAgICAgIHRoaXMucmVhZENoaWxkcyhzZWxlY3RlZEFydGljbGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjdGl2ZVNjcmVlblJlYWRlcihldmVudCkge1xuICAgICAgICBpZiAodGhpcy51c2VTY3JlZW5SZWFkZXIgJiYgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSB0aGlzLmNvbnZlcnRUb0h0bWxFbGVtZW50c0FycmF5KGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYXJ0aWNsZVwiKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXlXZWxjb21lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNheUdvb2RiYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzID0gIXRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdmVCZXR3ZWVuTGlua3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiZW50ZXJcIiAmJlxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZExpbmspO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgJiZcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVudGVyXCIpIHtcbiAgICAgICAgICAgIGxldCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZXh0X3JlYWRlcl9saW5rXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobGlua3NbdGhpcy5saW5rSW5kZXhdLnRhZ05hbWUpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgPSBsaW5rc1t0aGlzLmxpbmtJbmRleF07XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluay5mb2N1cygpO1xuICAgICAgICAgICAgaWYgKGxpbmtzW3RoaXMubGlua0luZGV4XS50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoXCJTZWxlY2Npb25hZG8gdW4gdGV4dCBhcmVhXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZExpbmsudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGluay50ZXh0Q29udGVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZExpbmsudGV4dENvbnRlbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmtJbmRleCA9PT0gbGlua3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlua0luZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGlua0luZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnVzZVNjcmVlblJlYWRlciAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJlc2NhcGVcIikge1xuICAgICAgICAgICAgdGhpcy50YWxrKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlUmVhZChldmVudCkge1xuICAgICAgICBpZiAodGhpcy51c2VTY3JlZW5SZWFkZXIgJiYgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJiYWNrc3BhY2VcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb252ZXJ0VG9IdG1sRWxlbWVudHNBcnJheSh0YWdzKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godGFnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uLy4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuaW1wb3J0IHsgQ2FyZEJ1dHRvbiB9IGZyb20gXCIuL2NhcmQtYnV0dG9uXCI7XG5pbXBvcnQgeyBPcHRpb25DYXJkU3R5bGVzIH0gZnJvbSBcIi4vb3B0aW9uLWNhcmQtc3R5bGVzXCI7XG5leHBvcnQgY2xhc3MgT3B0aW9uQ2FyZCB7XG4gICAgY29uc3RydWN0b3IoZnVuY3Rpb25hbGl0eUlkLCB0aXRsZSA9ICcnLCBzdWJ0aXRsZSA9ICcnLCBpY29uLCBvcHRpb24gPSBmYWxzZSwgdG9nZ2xlT3B0aW9uQ2FyZCkge1xuICAgICAgICB0aGlzLmZ1bmN0aW9uYWxpdHlJZCA9IGZ1bmN0aW9uYWxpdHlJZDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLnN1YnRpdGxlID0gc3VidGl0bGU7XG4gICAgICAgIHRoaXMuaWNvbiA9IGljb247XG4gICAgICAgIHRoaXMub3B0aW9uID0gb3B0aW9uO1xuICAgICAgICB0aGlzLnRvZ2dsZU9wdGlvbkNhcmQgPSB0b2dnbGVPcHRpb25DYXJkO1xuICAgICAgICBPcHRpb25DYXJkU3R5bGVzLm9wdGlvbkNhcmRTdHlsZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmNyZWF0ZU9wdGlvbkNhcmQoKTtcbiAgICB9XG4gICAgY3JlYXRlT3B0aW9uQ2FyZCgpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnb3B0aW9uLWNhcmQtZXllZWFzc2lzdCc7XG4gICAgICAgIGNvbnRhaW5lci5pZCA9IHRoaXMuZnVuY3Rpb25hbGl0eUlkICsgJy1jYXJkLW9wdGlvbi1leWVhc3Npc3QnO1xuICAgICAgICBjb25zdCBzcGFuVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW5UaXRsZS50ZXh0Q29udGVudCA9IHRoaXMudGl0bGU7XG4gICAgICAgIHNwYW5UaXRsZS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICAgICAgICBjb25zdCBzcGFuU3VidGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW5TdWJ0aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuc3VidGl0bGU7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuVGl0bGUpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3BhblN1YnRpdGxlKTtcbiAgICAgICAgaWYgKHRoaXMuaWNvbikge1xuICAgICAgICAgICAgY29uc3QgaWNvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLnRvcCA9ICctMjBweCc7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gJy0yMHB4JztcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUud2lkdGggPSAnOTBweCc7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICc5MHB4JztcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kID0gR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCk7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLmFwcGVuZCh0aGlzLmljb24pO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGljb25Db250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1dHRvbUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBidXR0b21Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgYnV0dG9tQ29udGFpbmVyLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgY29uc3QgbGVmdEJ1dHRvbiA9IG5ldyBDYXJkQnV0dG9uKHRoaXMuZnVuY3Rpb25hbGl0eUlkLCAnU2knLCBQb3NpdGlvbkJ1dHRvbi5MRUZULCB0aGlzLm9wdGlvbiA/IHRydWUgOiBmYWxzZSwgdGhpcy50b2dnbGVPcHRpb25DYXJkKTtcbiAgICAgICAgY29uc3QgcmlnaHRCdXR0b24gPSBuZXcgQ2FyZEJ1dHRvbih0aGlzLmZ1bmN0aW9uYWxpdHlJZCwgJ05vJywgUG9zaXRpb25CdXR0b24uUklHSFQsIHRoaXMub3B0aW9uID8gZmFsc2UgOiB0cnVlLCB0aGlzLnRvZ2dsZU9wdGlvbkNhcmQpO1xuICAgICAgICBsZWZ0QnV0dG9uLmFzc2lnbkNoYW5nZU9wb3NpdmVTdGF0ZUJ1dHRvbihyaWdodEJ1dHRvbi50b2dnbGVTdGF0ZSk7XG4gICAgICAgIHJpZ2h0QnV0dG9uLmFzc2lnbkNoYW5nZU9wb3NpdmVTdGF0ZUJ1dHRvbihsZWZ0QnV0dG9uLnRvZ2dsZVN0YXRlKTtcbiAgICAgICAgYnV0dG9tQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlZnRCdXR0b24uZ2V0RWxlbWVudCgpKTtcbiAgICAgICAgYnV0dG9tQ29udGFpbmVyLmFwcGVuZENoaWxkKHJpZ2h0QnV0dG9uLmdldEVsZW1lbnQoKSk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b21Db250YWluZXIpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cbiAgICBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cbn1cbmV4cG9ydCB2YXIgUG9zaXRpb25CdXR0b247XG4oZnVuY3Rpb24gKFBvc2l0aW9uQnV0dG9uKSB7XG4gICAgUG9zaXRpb25CdXR0b25bUG9zaXRpb25CdXR0b25bXCJSSUdIVFwiXSA9IDBdID0gXCJSSUdIVFwiO1xuICAgIFBvc2l0aW9uQnV0dG9uW1Bvc2l0aW9uQnV0dG9uW1wiTEVGVFwiXSA9IDFdID0gXCJMRUZUXCI7XG59KShQb3NpdGlvbkJ1dHRvbiB8fCAoUG9zaXRpb25CdXR0b24gPSB7fSkpO1xuIiwiZXhwb3J0IGNsYXNzIENzc0NsYXNzZXMge1xuICAgIHN0YXRpYyBhZGRab29tTWVzc2FnZVRleHRCb3hDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdO1xuICAgICAgICB2YXIgY3NzUnVsZSA9IGAuem9vbS1tZXNzYWdlLXR4dGJveCB7ICBcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUY1REM7XG4gICAgICAgICAgY29sb3I6ICMwMDREMDA7XG4gICAgICAgICAgZm9udC1zaXplOiAyMHJlbTtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgd2lkdGg6IDgwJTtcbiAgICAgICAgICBoZWlnaHQ6IDgwJTtcbiAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGNzc1J1bGUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgWm9vbVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gPSA4MDA7XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgICAgICB0aGlzLm1vdXNlWCA9IDA7XG4gICAgICAgIHRoaXMubW91c2VZID0gMDtcbiAgICAgICAgdGhpcy5wYW5FbmdhZ2VUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucGFuVXBkYXRlSW50ZXJ2YWwgPSAtMTtcbiAgICAgICAgdGhpcy5jYWxsYmFja1RpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMgPSAnV2Via2l0VHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAnTW96VHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAnbXNUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdPVHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAndHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICB0aGlzLmtleXVwRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsICE9PSAxICYmIGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIC8vIFRoZSBlYXNpbmcgdGhhdCB3aWxsIGJlIGFwcGxpZWQgd2hlbiB3ZSB6b29tIGluL291dFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAnICsgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsgJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk9UcmFuc2l0aW9uID0gJy1vLXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zaXRpb24gPSAnLW1zLXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2l0aW9uID0gJy1tb3otdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSAnLXdlYmtpdC10cmFuc2Zvcm0gJysgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsnbXMgZWFzZSc7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleXVwRXZlbnQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUV2ZW50KTtcbiAgICB9XG4gICAgbWFnbmlmeShyZWN0LCBzY2FsZSkge1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgLy8gRW5zdXJlIGEgd2lkdGgvaGVpZ2h0IGlzIHNldFxuICAgICAgICByZWN0LndpZHRoID0gcmVjdC53aWR0aCB8fCAxO1xuICAgICAgICByZWN0LmhlaWdodCA9IHJlY3QuaGVpZ2h0IHx8IDE7XG4gICAgICAgIC8vIENlbnRlciB0aGUgcmVjdCB3aXRoaW4gdGhlIHpvb21lZCB2aWV3cG9ydFxuICAgICAgICByZWN0LnggLT0gKHdpbmRvdy5pbm5lcldpZHRoIC0gKHJlY3Qud2lkdGggKiBzY2FsZSkpIC8gMjtcbiAgICAgICAgcmVjdC55IC09ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAocmVjdC5oZWlnaHQgKiBzY2FsZSkpIC8gMjtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICAvLyBSZXNldFxuICAgICAgICAgICAgaWYgKHNjYWxlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTY2FsZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHNjcm9sbE9mZnNldC54ICsgJ3B4ICcgKyBzY3JvbGxPZmZzZXQueSArICdweCcsIHRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIC1yZWN0LnggKyAncHgsJyArIC1yZWN0LnkgKyAncHgpIHNjYWxlKCcgKyBzY2FsZSArICcpJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUubXNUcmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuTW96VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXNldFxuICAgICAgICAgICAgaWYgKHNjYWxlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjYWxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSAoLShzY3JvbGxPZmZzZXQueCArIHJlY3QueCkgLyBzY2FsZSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gKC0oc2Nyb2xsT2Zmc2V0LnkgKyByZWN0LnkpIC8gc2NhbGUpICsgJ3B4JztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gKHNjYWxlICogMTAwKSArICclJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IChzY2FsZSAqIDEwMCkgKyAnJSc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxldmVsID0gc2NhbGU7XG4gICAgfVxuICAgIHBhbigpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gMC4xMiwgcmFuZ2VYID0gd2luZG93LmlubmVyV2lkdGggKiByYW5nZSwgcmFuZ2VZID0gd2luZG93LmlubmVySGVpZ2h0ICogcmFuZ2UsIHNjcm9sbE9mZnNldCA9IHRoaXMuZ2V0U2Nyb2xsT2Zmc2V0KCk7XG4gICAgICAgIC8vIFVwXG4gICAgICAgIGlmICh0aGlzLm1vdXNlWSA8IHJhbmdlWSkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCwgc2Nyb2xsT2Zmc2V0LnkgLSAoMSAtICh0aGlzLm1vdXNlWSAvIHJhbmdlWSkpICogKDE0IC8gdGhpcy5sZXZlbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvd25cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZVkgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSByYW5nZVkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoc2Nyb2xsT2Zmc2V0LngsIHNjcm9sbE9mZnNldC55ICsgKDEgLSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5tb3VzZVkpIC8gcmFuZ2VZKSAqICgxNCAvIHRoaXMubGV2ZWwpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZWZ0XG4gICAgICAgIGlmICh0aGlzLm1vdXNlWCA8IHJhbmdlWCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCAtICgxIC0gKHRoaXMubW91c2VYIC8gcmFuZ2VYKSkgKiAoMTQgLyB0aGlzLmxldmVsKSwgc2Nyb2xsT2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJpZ2h0XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubW91c2VYID4gd2luZG93LmlubmVyV2lkdGggLSByYW5nZVgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoc2Nyb2xsT2Zmc2V0LnggKyAoMSAtICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMubW91c2VYKSAvIHJhbmdlWCkgKiAoMTQgLyB0aGlzLmxldmVsKSwgc2Nyb2xsT2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNjcm9sbE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHdpbmRvdy5zY3JvbGxYICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2Nyb2xsWCA6IHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgIHk6IHdpbmRvdy5zY3JvbGxZICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2Nyb2xsWSA6IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0byhvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLm91dCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy54ID0gb3B0aW9ucy54IHx8IDA7XG4gICAgICAgICAgICBvcHRpb25zLnkgPSBvcHRpb25zLnkgfHwgMDtcbiAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgaXMgc2V0LCB0aGF0IHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgICAgIGlmICghIW9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFNwYWNlIGFyb3VuZCB0aGUgem9vbWVkIGluIGVsZW1lbnQgdG8gbGVhdmUgb24gc2NyZWVuXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0eXBlb2Ygb3B0aW9ucy5wYWRkaW5nID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucGFkZGluZyA6IDIwO1xuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBvcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ID0gYm91bmRzLmxlZnQgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueSA9IGJvdW5kcy50b3AgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkdGggPSBib3VuZHMud2lkdGggKyAocGFkZGluZyAqIDIpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCArIChwYWRkaW5nICogMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3aWR0aC9oZWlnaHQgdmFsdWVzIGFyZSBzZXQsIGNhbGN1bGF0ZSBzY2FsZSBmcm9tIHRob3NlIHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMud2lkdGggIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY2FsZSA9IE1hdGgubWF4KE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gb3B0aW9ucy53aWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC8gb3B0aW9ucy5oZWlnaHQpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNjYWxlID4gMSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueCAqPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueSAqPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueCA9IE1hdGgubWF4KG9wdGlvbnMueCwgMCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ID0gTWF0aC5tYXgob3B0aW9ucy55LCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hZ25pZnkob3B0aW9ucywgb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFuICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbkVuZ2FnZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwsIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrVGltZW91dCA9IHNldFRpbWVvdXQob3B0aW9ucy5jYWxsYmFjaywgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMucGFuVXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnBhbiwgMTAwMCAvIDYwKTtcbiAgICB9XG4gICAgb3V0KG9wdGlvbnMpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGFuRW5nYWdlVGltZW91dCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wYW5VcGRhdGVJbnRlcnZhbCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNhbGxiYWNrVGltZW91dCk7XG4gICAgICAgIHRoaXMubWFnbmlmeShuZXcgT3B0aW9uc1pvb20oMCwgMCwgMSksIDEpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChvcHRpb25zLmNhbGxiYWNrLCB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcHRpb25zWm9vbSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy54ID0gMDtcbiAgICAgICAgdGhpcy55ID0gMDtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDA7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDc3NDbGFzc2VzIH0gZnJvbSBcIi4vc3R5bGVzL2Nzcy16b29tLWNsYXNzZXNcIjtcbmltcG9ydCB7IFpvb21TZXJ2aWNlLCBPcHRpb25zWm9vbSB9IGZyb20gXCIuL3pvb20tbW9kdWxlL3pvb21fc2VydmljZVwiO1xuZXhwb3J0IGNsYXNzIFpvb20ge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZVpvb21PcHRpb25zID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5lbmFibGVab29tT3B0aW9ucyA9IGVuYWJsZVpvb21PcHRpb25zO1xuICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVfbWVzc2FnZSA9IGA8ZGl2IGlkPVwiem9vbS1zdGF0dXNcIiBjbGFzcz1cInpvb20tbWVzc2FnZS10eHRib3hcIj5PbjwvZGl2PmA7XG4gICAgICAgIHRoaXMuZGVhY3RpdmVfbWVzc2FnZSA9IGA8ZGl2IGlkPVwiem9vbS1zdGF0dXNcIiBjbGFzcz1cInpvb20tbWVzc2FnZS10eHRib3hcIj5PZmY8L2Rpdj5gO1xuICAgICAgICB0aGlzLnRvb2dsZVpvb20gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuem9vbVNlcnZpY2UudG8obmV3IE9wdGlvbnNab29tKGV2ZW50LngsIGV2ZW50LnksIDEwKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuem9vbVNlcnZpY2UgPSBuZXcgWm9vbVNlcnZpY2UoKTtcbiAgICB9XG4gICAgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVab29tT3B0aW9ucztcbiAgICB9XG4gICAgdG9vZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLmVuYWJsZVpvb21PcHRpb25zID0gIXRoaXMuZW5hYmxlWm9vbU9wdGlvbnM7XG4gICAgfVxuICAgIGFjdGl2ZVpvb20oc2NyZWVuUmVhZGVyQWN0aXZlLCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlWm9vbU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNjcmVlblJlYWRlckFjdGl2ZSAmJiBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICBDc3NDbGFzc2VzLmFkZFpvb21NZXNzYWdlVGV4dEJveENsYXNzKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxDbGlja0V2ZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRpYWxDbGlja0V2ZW50KGJvZHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnpvb21TdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JveE1lc3NhZ2UoYm9keSwgdGhpcy5hY3RpdmVfbWVzc2FnZSwgIXRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dCb3hNZXNzYWdlKGJvZHksIHRoaXMuZGVhY3RpdmVfbWVzc2FnZSwgIXRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy56b29tU3RhdHVzID0gIXRoaXMuem9vbVN0YXR1cztcbiAgICB9XG4gICAgc2hvd0JveE1lc3NhZ2UoYm9keSwgbWVzc2FnZSwgc3RhdHVzKSB7XG4gICAgICAgIGJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgbWVzc2FnZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgem9vbV9tZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ6b29tLXN0YXR1c1wiKTtcbiAgICAgICAgICAgIHpvb21fbWVzc2FnZSA9PT0gbnVsbCB8fCB6b29tX21lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21fbWVzc2FnZS5yZW1vdmUoKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHN0YXR1cyA/IGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvb2dsZVpvb20pIDogYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy50b29nbGVab29tKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHbG9iYWxTdHlsZSB9IGZyb20gXCIuLi8uLi9zdHlsZS9nbG9iYWwtc3R5bGVcIjtcbmV4cG9ydCBjbGFzcyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB7XG4gICAgc3RhdGljIG1haW5NZXNzYWdlKGRpdikge1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gR2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCk7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSAnOTk5JztcbiAgICAgICAgZGl2LnN0eWxlLmNvbG9yID0gR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCk7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuICAgIHN0YXRpYyBtZXNzYWdlQ29udGVudChkaXYpIHtcbiAgICAgICAgZGl2LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuZmxleCA9ICcxJztcbiAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGRpdi5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIGRpdi5zdHlsZS5hbGlnbkNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5qdXN0aWZ5SXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG4gICAgc3RhdGljIGNsb3NlQnV0dG9tKGJ1dHRvbikge1xuICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmhlaWdodCA9ICc1MHB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmNvbG9yID0gR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCk7XG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuICAgIHN0YXRpYyBhZGRGbHlNZW51U3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZseV9tZW51ID0gYFxuICAgICAgICAuZmx5X21lbnUge1xuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICByaWdodDogNzBweDtcbiAgICAgICAgICB3aWR0aDogNzJweDtcbiAgICAgICAgICBoZWlnaHQ6IDcycHg7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7R2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCl9O1xuICAgICAgICAgIGNvbG9yOiAke0dsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpfTtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7XG4gICAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICB9XG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZseV9tZW51LCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdDbG9zZUJ1dHRvbU1lbnUoY29sb3IpIHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjE3XCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiMTdcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDE3IDE3XCIpO1xuICAgICAgICBjb25zdCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImRcIiwgXCJNMy4wNTM1IDBMMCAzLjA1MzVMMS41NTkyNCA0LjYxMjc0TDUuNDE0MDEgOC41MzI0OEwxLjU1OTI0IDEyLjM4NzNMMCAxMy44ODE1TDMuMDUzNSAxN0w0LjYxMjc0IDE1LjQ0MDhMOC41MzI0OCAxMS41MjFMMTIuMzg3MyAxNS40NDA4TDEzLjg4MTUgMTdMMTcgMTMuODgxNUwxNS40NDA4IDEyLjM4NzNMMTEuNTIxIDguNTMyNDhMMTUuNDQwOCA0LjYxMjc0TDE3IDMuMDUzNUwxMy44ODE1IDBMMTIuMzg3MyAxLjU1OTI0TDguNTMyNDggNS40MTQwMUw0LjYxMjc0IDEuNTU5MjRMMy4wNTM1IDBaXCIpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgY29sb3IpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdFeWVlKCkge1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMzRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIyNlwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMzQgMjZcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgICAgY29uc3QgcGF0aDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGgxLnNldEF0dHJpYnV0ZShcImRcIiwgXCJNMTcuMzIwOCAwLjAwMzMwMjc5QzIxLjE1OTcgMC4xMDk4NjYgMjQuNjQ0IDEuMzg4NjMgMjcuNzUxMSAzLjkxNDgyQzMwLjU0MyA2LjE4NCAzMi41OTE5IDkuMTE3NjMgMzMuOTMxNiAxMi42NjU2QzM0LjAxNiAxMi44OTEyIDM0LjAyNzMgMTMuMDg1NiAzMy45MzcyIDEzLjMxNzVDMzIuMTMwNCAxOC4wNjI3IDI5LjE2MzkgMjEuNjEwNyAyNS4wMzIzIDIzLjkyMzdDMjMuMTUyMyAyNC45NzY4IDIxLjE0ODQgMjUuNjA5OSAxOS4wNDg4IDI1Ljg2NjlDMTUuNTU4OSAyNi4yOTk1IDEyLjIzMjMgMjUuNjc4OSA5LjA3NDQ4IDIzLjk4NjRDNi4xODY4NyAyMi40MzgxIDMuODI4MzcgMjAuMTgxNCAxLjk4NzcyIDE3LjI1NDFDMS4xOTk2OCAxNi4wMDA0IDAuNTQxMTAzIDE0LjY3MTUgMC4wNDAxMzM1IDEzLjI0ODVDLTAuMDEwNTI2NCAxMy4xMDQ0IC0wLjAxNjE1NTMgMTIuODk3NSAwLjA0MDEzMzUgMTIuNzUzM0MyLjIwMTYyIDcuMDY3ODUgNS44ODg1NCAzLjE2ODg3IDExLjEwMDkgMS4wOTQwMUMxMi45NDcxIDAuMzU0MzM2IDE0Ljk0NTQgLTAuMDQwNTc2NCAxNy4zMjA4IDAuMDAzMzAyNzlaXCIpO1xuICAgICAgICBwYXRoMS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwid2hpdGVcIik7XG4gICAgICAgIGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiY2lyY2xlXCIpO1xuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiY3hcIiwgXCIxNy41XCIpO1xuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiY3lcIiwgXCIxMy41XCIpO1xuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiclwiLCBcIjcuNVwiKTtcbiAgICAgICAgY2lyY2xlLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCIjMjg0MDVEXCIpO1xuICAgICAgICBjb25zdCBwYXRoMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aDIuc2V0QXR0cmlidXRlKFwiZmlsbC1ydWxlXCIsIFwiZXZlbm9kZFwiKTtcbiAgICAgICAgcGF0aDIuc2V0QXR0cmlidXRlKFwiY2xpcC1ydWxlXCIsIFwiZXZlbm9kZFwiKTtcbiAgICAgICAgcGF0aDIuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0xNy4wMzc3IDYuMDIxODFDMTcuMjI0NyA2LjAwNzM2IDE3LjQxMzcgNiAxNy42MDQ0IDZDMjEuNjExNyA2IDI0Ljg2MDMgOS4yNDg1NCAyNC44NjAzIDEzLjI1NThDMjQuODYwMyAxMy41MDY5IDI0Ljg0NzUgMTMuNzU1IDI0LjgyMjYgMTMuOTk5NkMyNC42MzU2IDE0LjAxNCAyNC40NDY2IDE0LjAyMTQgMjQuMjU1OCAxNC4wMjE0QzIwLjI0ODUgMTQuMDIxNCAxNyAxMC43NzI5IDE3IDYuNzY1NThDMTcgNi41MTQ0NyAxNy4wMTI4IDYuMjY2MzUgMTcuMDM3NyA2LjAyMTgxWlwiKTtcbiAgICAgICAgcGF0aDIuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiM1MDZGOTVcIik7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoMSk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChjaXJjbGUpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aDIpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cbiAgICBzdGF0aWMgc3ZnSHVtYW4oY29sb3IsIHdpZHRoID0gJzM0JywgaGVpZ2h0ID0gJzM4Jykge1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIC8vIEVzdGFibGVjZSBsb3MgYXRyaWJ1dG9zIGRlbCBlbGVtZW50byBTVkdcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCAzNCAzOFwiKTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpO1xuICAgICAgICAvLyBDcmVhIHVuIGVsZW1lbnRvIGRlIHJ1dGEgZGVudHJvIGRlbCBTVkdcbiAgICAgICAgY29uc3QgcGF0aEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGhFbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgXCJNMzMuNSAxMy41SDIyLjVWMzcuMzMzM0gxOC44MzMzVjI2LjMzMzNIMTUuMTY2N1YzNy4zMzMzSDExLjVWMTMuNUgwLjVWOS44MzMzMkgzMy41TTE3IDAuNjY2NjU2QzE3Ljk3MjUgMC42NjY2NTYgMTguOTA1MSAxLjA1Mjk2IDE5LjU5MjcgMS43NDA2QzIwLjI4MDQgMi40MjgyMyAyMC42NjY3IDMuMzYwODYgMjAuNjY2NyA0LjMzMzMyQzIwLjY2NjcgNS4zMDU3OCAyMC4yODA0IDYuMjM4NDEgMTkuNTkyNyA2LjkyNjA1QzE4LjkwNTEgNy42MTM2OCAxNy45NzI1IDcuOTk5OTkgMTcgNy45OTk5OUMxNi4wMjc1IDcuOTk5OTkgMTUuMDk0OSA3LjYxMzY4IDE0LjQwNzMgNi45MjYwNUMxMy43MTk2IDYuMjM4NDEgMTMuMzMzMyA1LjMwNTc4IDEzLjMzMzMgNC4zMzMzMkMxMy4zMzMzIDIuMjk4MzIgMTQuOTY1IDAuNjY2NjU2IDE3IDAuNjY2NjU2WlwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBjb2xvcik7XG4gICAgICAgIC8vIEFncmVnYSBsYSBydXRhIGFsIGVsZW1lbnRvIFNWR1xuICAgICAgICBzdmdFbGVtZW50LmFwcGVuZENoaWxkKHBhdGhFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHN2Z0VsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdDbG9zZUJ1dHRvbShjb2xvcikge1xuICAgICAgICAvLyBDcmVhciB1biBlbGVtZW50byBTVkdcbiAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgY29sb3IpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMzIgMzJcIik7XG4gICAgICAgIC8vIENyZWFyIHVuIGVsZW1lbnRvIHBhdGhcbiAgICAgICAgY29uc3QgcGF0aEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGhFbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgXCJNNy4wMDQgMjMuMDg3bDcuMDgtNy4wODEtNy4wNy03LjA3MUw4LjkyOSA3LjAybDcuMDY3IDcuMDY5TDIzLjA4NCA3bDEuOTEyIDEuOTEzLTcuMDg5IDcuMDkzIDcuMDc1IDcuMDc3LTEuOTEyIDEuOTEzLTcuMDc0LTcuMDczTDguOTE3IDI1elwiKTtcbiAgICAgICAgLy8gQWdyZWdhciBlbCBlbGVtZW50byBwYXRoIGFsIFNWR1xuICAgICAgICBzdmdFbGVtZW50LmFwcGVuZENoaWxkKHBhdGhFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIHN2Z0VsZW1lbnQ7XG4gICAgfVxuICAgIHN0YXRpYyBhZGRCdWZmZXJPcHRpb25zQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGJ1ZmZlcl9vcHRpb25zID0gYFxuICAgICAgICAuYnVmZmVyX29wdGlvbnMge1xuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgdG9wOiAxMzBweDtcbiAgICAgICAgICAgIHJpZ2h0OiA3MHB4O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICAgICAgICAgIGhlaWdodDogYXV0bzsgXG4gICAgICAgICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsgXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKX07XG4gICAgICAgICAgICBjb2xvcjogJHtHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKX07XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoYnVmZmVyX29wdGlvbnMsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaENsYXNzZXMoKSB7XG4gICAgICAgIHRoaXMudG9vZ2xlU3dpdGNoQ2xhc3MoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hDaXJjbGUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hBY3RpdmUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hBbmltYXRpb24oKTtcbiAgICB9XG4gICAgc3RhdGljIHRvb2dsZVN3aXRjaENsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCB0b2dnbGVfc3dpdGNoID0gYFxuICAgICAgICAudG9nZ2xlLXN3aXRjaCB7XG4gICAgICAgICAgICB3aWR0aDogNjBweDtcbiAgICAgICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIHRyYW5zZm9ybSAwLjNzO1xuICAgICAgICB9XG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2gsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaENpcmNsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9jaXJjbGUgPSBgXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLWNpcmNsZSB7XG4gICAgICAgICAgICB3aWR0aDogMzBweDtcbiAgICAgICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3M7XG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUodG9nZ2xlX3N3aXRjaF9jaXJjbGUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaEFjdGl2ZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9hcnRpdmUgPSBgXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLmFjdGl2ZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmVjYzcxO1xuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2hfYXJ0aXZlLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyB0b2dnbGVTd2l0Y2hBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2hfYW5pbWF0aW9uID0gYFxuICAgICAgICAudG9nZ2xlLXN3aXRjaC5hY3RpdmUgLnRvZ2dsZS1zd2l0Y2gtY2lyY2xlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMHB4KTtcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoX2FuaW1hdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkT3B0aW9uRnVuY3Rpb25zQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IG9wdGlvbl9mdW5jdGlvbnMgPSBgXG4gICAgICAgIC5vcHRpb25fbWVudV9leWVlYXNzaXN0IHtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKG9wdGlvbl9mdW5jdGlvbnMsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIG92ZXJsYXlTdHlsZUNsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCBvcHRpb25fZnVuY3Rpb25zID0gYFxuICAgICAgICAub3ZlcmxheS1tZW51LXZpZXcge1xuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUob3B0aW9uX2Z1bmN0aW9ucywgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgb3ZlcmxheU9wdGlvbnNTdHlsZUNsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCBvcHRpb25fZnVuY3Rpb25zID0gYFxuICAgICAgICAub3B0aW9ucy1tZW51LXZpZXcge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKG9wdGlvbl9mdW5jdGlvbnMsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHbG9iYWxTdHlsZSB9IGZyb20gXCIuLi8uLi9zdHlsZS9nbG9iYWwtc3R5bGVcIjtcbmltcG9ydCB7IFBvc2l0aW9uQnV0dG9uIH0gZnJvbSBcIi4vb3B0aW9uLWNhcmRcIjtcbmV4cG9ydCBjbGFzcyBDYXJkQnV0dG9uIHtcbiAgICBjb25zdHJ1Y3RvcihmdW5jdGlvbmFsaXR5SWQsIHRleHQsIHBvc2l0aW9uLCBhY3RpdmUgPSBmYWxzZSwgdG9nZ2xlVG9vbFN0YXR1cykge1xuICAgICAgICB0aGlzLmZ1bmN0aW9uYWxpdHlJZCA9IGZ1bmN0aW9uYWxpdHlJZDtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgdGhpcy50b2dnbGVUb29sU3RhdHVzID0gdG9nZ2xlVG9vbFN0YXR1cztcbiAgICAgICAgdGhpcy50b2dnbGVPcG9zaXZlQnV0dG9uID0gbnVsbDtcbiAgICAgICAgdGhpcy50b2dnbGVTdGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gIXRoaXMuYWN0aXZlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoYW5nZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEN1cnJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZ1bmN0aW9uYWxpdHlJZCArICctYnV0dG9uLWV5ZWFzc2lzdC0nICsgdGhpcy50ZXh0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudEN1cnJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Q3VycmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudEN1cnJlbnQuc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gUG9zaXRpb25CdXR0b24uTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcG9zaXZlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnVuY3Rpb25hbGl0eUlkICsgJy1idXR0b24tZXllYXNzaXN0LScgKyAnTm8nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wb3NpdmVFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wb3NpdmVFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IEdsb2JhbFN0eWxlLmdldEJhY2tncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3Bvc2l2ZUVsZW1lbnQuc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3Bvc2l2ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmZ1bmN0aW9uYWxpdHlJZCArICctYnV0dG9uLWV5ZWFzc2lzdC0nICsgJ1NpJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcG9zaXZlRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcG9zaXZlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wb3NpdmVFbGVtZW50LnN0eWxlLmNvbG9yID0gR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVUb29sU3RhdHVzKHRoaXMuZnVuY3Rpb25hbGl0eUlkICsgJy1jYXJkLW9wdGlvbi1leWVhc3Npc3QnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZSA9ICF0aGlzLmFjdGl2ZTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b2dnbGVPcG9zaXZlQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlT3Bvc2l2ZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVCdXR0b20oKTtcbiAgICB9XG4gICAgY3JlYXRlQnV0dG9tKCkge1xuICAgICAgICBjb25zdCBidXR0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYnV0dG9tLmlkID0gdGhpcy5mdW5jdGlvbmFsaXR5SWQgKyAnLWJ1dHRvbi1leWVhc3Npc3QtJyArIHRoaXMudGV4dDtcbiAgICAgICAgYnV0dG9tLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jaGFuZ2VCdXR0b25TdGF0ZSk7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5tYXJnaW5Ub3AgPSAnMjBweCc7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS53aWR0aCA9ICcxMDRweCc7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5oZWlnaHQgPSAnNDhweCc7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09IFBvc2l0aW9uQnV0dG9uLkxFRlQpIHtcbiAgICAgICAgICAgIGJ1dHRvbS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTBweCAwIDAgNTBweCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidXR0b20uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzAgNTBweCA1MHB4IDAnO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5ib3JkZXIgPSBgMXB4IHNvbGlkICR7R2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCl9YDtcbiAgICAgICAgYnV0dG9tLnN0eWxlLnBhZGRpbmcgPSAnMTBweCc7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBidXR0b20uc3R5bGUuYWxpZ25Db250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBidXR0b20uc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgYnV0dG9tLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgYnV0dG9tLnN0eWxlLmNvbG9yID0gR2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidXR0b20uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gR2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCk7XG4gICAgICAgICAgICBidXR0b20uc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gdGhpcy50ZXh0O1xuICAgICAgICBzcGFuLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgYnV0dG9tLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICByZXR1cm4gYnV0dG9tO1xuICAgIH1cbiAgICBhc3NpZ25DaGFuZ2VPcG9zaXZlU3RhdGVCdXR0b24odG9nZ2xlT3Bvc2l2ZSkge1xuICAgICAgICB0aGlzLnRvZ2dsZU9wb3NpdmVCdXR0b24gPSB0b2dnbGVPcG9zaXZlO1xuICAgIH1cbiAgICBnZXRFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uLy4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuZXhwb3J0IGNsYXNzIE9wdGlvbkNhcmRTdHlsZXMge1xuICAgIHN0YXRpYyB6b29tSWNvblN2ZygpIHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjQ0XCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiNDRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDQ0IDQ0XCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIm5vbmVcIik7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0zNC40NzIzIDMxLjUwNDdDMzcuNTE5MSAzNC41MTgzIDQwLjQ5OTYgMzcuNTMyIDQzLjQ0NzEgNDAuNDc5NUM0Mi40ODY3IDQxLjQzOTkgNDEuNDkzMiA0Mi40MDAzIDQwLjQwMDMgNDMuNTI2M0M0MC4zMzQgNDMuMzkzOCA0MC4yMzQ3IDQzLjE2MiA0MC4xMDIyIDQzLjAyOTVDMzcuMzg2NiA0MC4zMTM5IDM0LjY3MSAzNy41OTgzIDMxLjk1NTQgMzQuODQ5NUMzMS42MjQyIDM0LjUxODMgMzEuNDI1NSAzNC40NTIxIDMxLjAyODEgMzQuNzUwMkMyMS40OTAzIDQxLjg3MDQgNy45Nzg0IDM4LjcyNDMgMi41NDcxNSAyOC4xMjY3Qy0yLjEyMjQgMTguOTg2MyAxLjQ1NDI4IDcuNjI3MDYgMTAuNDk1MyAyLjc1ODgxQzIyLjE1MjYgLTMuNTAwMzcgMzYuNDI2MiAzLjU4Njc0IDM4LjQxMzIgMTYuNjY4MUMzOS4yMDgxIDIxLjg2NzUgMzcuOTgyNyAyNi42MDMzIDM0LjkwMjggMzAuODc1NEMzNC43NzAzIDMxLjA0MSAzNC42Mzc5IDMxLjIzOTcgMzQuNDM5MiAzMS41MDQ3SDM0LjQ3MjNaTTE3LjQ1IDIxLjcwMTlDMTcuNDUgMjIuMDMzMSAxNy40NSAyMi4yNjQ5IDE3LjQ1IDIyLjQ5NjdDMTcuNDUgMjQuMTUyNiAxNy40NSAyNS44MDg1IDE3LjQ1IDI3LjQ5NzVDMTcuNDUgMjcuODk0OSAxNy41ODI0IDI4LjA2MDUgMTcuOTc5OCAyOC4wMjczQzE4LjcwODQgMjguMDI3MyAxOS40MDM5IDI4LjAyNzMgMjAuMTMyNSAyOC4wMjczQzIwLjY2MjMgMjguMDI3MyAyMS4xOTIyIDI4LjAyNzMgMjEuNzg4MyAyOC4wMjczVjIxLjcwMTlDMjIuMDg2NCAyMS43MDE5IDIyLjI4NTEgMjEuNzAxOSAyMi41MTY5IDIxLjcwMTlDMjQuMTcyOCAyMS43MDE5IDI1Ljg2MTggMjEuNzAxOSAyNy41MTc2IDIxLjcwMTlDMjguMDQ3NSAyMS43MDE5IDI4LjE4IDIxLjUzNjMgMjguMTggMjEuMDA2NUMyOC4xNDY5IDIwLjAxMjkgMjguMTggMTguOTg2MyAyOC4xOCAxNy45NTk3QzI4LjE4IDE3LjQ5NiAyOC4wODA2IDE3LjMzMDQgMjcuNTgzOSAxNy4zNjM2QzI1Ljg5NDkgMTcuMzYzNiAyNC4xNzI4IDE3LjM2MzYgMjIuNDgzOCAxNy4zNjM2QzIyLjI4NTEgMTcuMzYzNiAyMi4wNTMzIDE3LjM2MzYgMjEuNzg4MyAxNy4zNjM2VjExLjAwNUMyMC40OTY4IDExLjAwNSAxOS4yNzE0IDExLjAwNSAxOC4wNDYxIDExLjAwNUMxNy42NDg3IDExLjAwNSAxNy40ODMxIDExLjEzNzUgMTcuNDgzMSAxMS41MzQ5QzE3LjQ4MzEgMTMuMDI1MiAxNy40ODMxIDE0LjUxNTUgMTcuNDgzMSAxNi4wMDU3QzE3LjQ4MzEgMTYuNDM2MyAxNy40ODMxIDE2Ljg2NjggMTcuNDgzMSAxNy4zNjM2SDExLjE5MDhWMjEuNjY4OEgxNy40ODMxTDE3LjQ1IDIxLjcwMTlaXCIpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCIjMjQzQzVBXCIpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuICAgIHN0YXRpYyBmaWx0ZXJJY29uU3ZnKCkge1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiNDdcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCI0NFwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgNDcgNDRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTI2LjQ0NDIgNDIuMDAyOUMyOS42NTY2IDM4Ljc5MDUgMzEuMzc4NyAzNC45ODIgMzEuNzQzIDMwLjU0NDNDMzEuNzQzIDMwLjIxMzEgMzIuMDA3OSAyOS43NDk1IDMyLjMwNiAyOS41ODM5QzM2LjU0NSAyNi45MzQ1IDM5LjI5MzggMjMuMTkyMiA0MC40NTI5IDE4LjMyNEM0MC40NTI5IDE4LjI1NzcgNDAuNTUyMiAxOC4yMjQ2IDQwLjYxODUgMTguMTU4NEM0NS4xODg3IDIwLjY3NTMgNDguODMxNiAyOC42ODk3IDQ1LjAyMzEgMzUuOTA5M0M0MC45MTY1IDQzLjY5MTkgMzEuODc1NSA0NS4wMTY1IDI2LjQ0NDIgNDEuOTY5OFY0Mi4wMDI5Wk0xLjg3MTE2IDM2LjA3NDlDNS45Nzc3MSA0My43MjUgMTUuMDUxOSA0NS4wNDk3IDIwLjI4NDQgNDIuMDM2QzIwLjE4NTEgNDEuOTAzNSAyMC4xMTg4IDQxLjc3MSAyMC4wMTk1IDQxLjYzODZDMTcuMDM4OSAzOC41MjU1IDE1LjM4MyAzNC44MTY0IDE1LjA4NSAzMC41MTEyQzE1LjA4NSAzMC4xOCAxNC43ODY5IDI5Ljc0OTUgMTQuNDg4OSAyOS41NTA3QzEwLjExNzQgMjYuODY4MiA3LjQzNDg3IDIzLjAyNjYgNi4yNDI2NSAxOC4wOTIxQzEuNjA2MjIgMjAuNTc1OSAtMi4xMDI5MyAyOC43MjI4IDEuODM4MDQgMzYuMDQxN0wxLjg3MTE2IDM2LjA3NDlaTTIxLjk0MDMgMC41Mzk5NDhDMTUuNzQ3MyAxLjA2OTgzIDkuMzIyNTYgNy4yNjI3NyA5LjY4Njg1IDEyLjQ2MjJDOS43NTMwOSAxMi40NjIyIDkuODUyNDQgMTIuNTI4NCA5LjkxODY3IDEyLjUyODRDMTAuMTUwNSAxMi41Mjg0IDEwLjQxNTQgMTIuNDYyMiAxMC42NDczIDEyLjQyOTFDMTQuMjU3IDExLjYzNDMgMTcuODMzNyAxMS44OTkyIDIxLjE0NTUgMTMuNTIyQzIyLjgwMTMgMTQuMzE2OCAyNC4wNTk4IDE0LjMxNjggMjUuNzE1NyAxMy41MjJDMjkuMzU4NiAxMS43NjY3IDMzLjIzMzMgMTEuNjM0MyAzNy4yNzM2IDEyLjY5NEMzNi44NzYyIDcuMTYzNDIgMzEuMzQ1NiAtMC4xODg2MzMgMjEuOTczNCAwLjYwNjE4NEwyMS45NDAzIDAuNTM5OTQ4Wk0zNy4zNzMgMTYuMjM3NkMzMy41OTc2IDE0Ljk3OTEgMzAuMDIwOSAxNS4xMTE2IDI2LjM3OCAxNi44MzM3QzI5LjAyNzQgMTkuNDUgMzAuNjE3IDIyLjQzMDUgMzEuNDc4MSAyNi4wNDAzQzM0Ljg4OTIgMjMuNDkwMyAzNi44MSAyMC4zMTEgMzcuMzczIDE2LjIwNDVWMTYuMjM3NlpNMjAuMDg1NyAxNi42NjgxQzE5Ljg4NyAxNi41MzU2IDE5LjY1NTIgMTYuNDM2MyAxOS40MjM0IDE2LjM3QzE2LjUwOSAxNS4yNDQxIDEzLjU5NDcgMTUuMTQ0NyAxMC41ODEgMTUuODczM0M5LjU4NzUgMTYuMTA1MSA5LjQ4ODE1IDE2LjYzNSA5LjY4Njg1IDE3LjQ2MjlDMTAuMjgzIDE5Ljk3OTggMTEuMzc1OCAyMi4xOTg3IDEzLjE2NDIgMjQuMDUzM0MxMy44MjY1IDI0LjcxNTYgMTQuNTU1MSAyNS4zMTE3IDE1LjQxNjIgMjYuMTA2NUMxNi4yNzcyIDIyLjQzMDUgMTcuODY2OCAxOS40ODMxIDIwLjM1MDYgMTYuOTY2MkMyMC4yNTEzIDE2LjgzMzcgMjAuMjE4MiAxNi43MDEyIDIwLjExODggMTYuNjY4MUgyMC4wODU3Wk0xOC43Mjc5IDI3LjAwMDdDMTguNjYxNyAyNy4yNjU2IDE5LjEyNTMgMjcuODYxOCAxOS40MjM0IDI3Ljk2MTFDMjIuMDM5NiAyOC43ODkgMjQuNzIyMSAyOC43NTU5IDI3LjM3MTUgMjguMDI3NEMyNy45Njc2IDI3Ljg2MTggMjguMjY1NyAyNy41OTY4IDI4LjEzMzIgMjYuOTAxNEMyNy41MDQgMjMuNjg5IDI1Ljk4MDYgMjAuOTczNCAyMy40NjM3IDE4Ljc4NzZDMjAuODE0MyAyMC45NzM0IDE5LjM1NzEgMjMuNzU1MiAxOC43Mjc5IDI3LjAwMDdaTTI4LjE2NjMgMzEuMzM5MUMyNC45MjA4IDMyLjIwMDEgMjEuODQwOSAzMi4xNjcgMTguNTk1NCAzMS4zMzkxQzE5LjE5MTUgMzQuOTQ4OSAyMC43MTQ5IDM3Ljc5NyAyMy40MzA2IDQwLjE0ODNDMjYuMDQ2OCAzNy43MzA3IDI3LjcwMjcgMzQuOTgyIDI4LjE2NjMgMzEuMzM5MVpcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMyNDNDNUFcIik7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG4gICAgc3RhdGljIHZvaWNlSWNvblN2ZygpIHtcbiAgICAgICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjUxXCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIFwiNDRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDUxIDQ0XCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIm5vbmVcIik7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0wLjM1NDE0NiA0My44NjM5Qy0wLjk3MDU0OCAzNS44NDk1IDQuNTkzMTcgMjkuMDkzNiAxMS42MTQgMjguMzMxOUMxNC41OTQ2IDI4LjAwMDcgMTcuNjQxNCAyOC4wNjcgMjAuNjU1MSAyOC4zMzE5QzI2LjU1IDI4LjgyODcgMzEuNjgzMiAzNC4yNTk5IDMyLjA0NzUgNDAuMTg3OUMzMi4xMTM3IDQxLjM4MDEgMzIuMDQ3NSA0Mi41NzI0IDMyLjA0NzUgNDMuODYzOUgwLjM1NDE0NlpNMjUuNDU3MSAxNi4yMTA5QzI1LjQ1NzEgMTEuMDExNSAyMS40NDk5IDYuOTM4MDggMTYuMjUwNSA2LjkwNDk2QzEwLjk1MTcgNi44Mzg3MyA2Ljg3ODI2IDEwLjg0NTkgNi44NDUxNSAxNi4xMTE2QzYuODEyMDMgMjEuNDEwNCAxMC43ODYxIDI1LjQ4MzggMTYuMDg0OSAyNS40ODM4QzIxLjM1MDUgMjUuNDgzOCAyNS40NTcxIDIxLjQ0MzUgMjUuNDU3MSAxNi4yMTA5Wk00My45Njk3IDAuODExMzcxQzQyLjc0NDQgMi4wMDM2IDQxLjU1MjEgMy4xOTU4MiA0MC4zMjY4IDQuMzg4MDRDNDMuNzA0OCA4LjAzMDk1IDQ1LjU1OTMgMTIuMzY5MyA0NS41NTkzIDE3LjQ2OTRDNDUuNTU5MyAyMi41Njk1IDQzLjY3MTYgMjYuODc0NyA0MC4yNjA2IDMwLjUxNzZDNDEuNDg1OSAzMS43NDMgNDIuNjQ1IDMyLjkwMjEgNDMuODcwMyAzNC4xMjc0QzUzLjExMDEgMjUuNDE3NiA1My4xNDMyIDkuNDg4MTIgNDQuMDAyOCAwLjgxMTM3MUg0My45Njk3Wk0zMi43NDI5IDExLjkwNTdDMzUuNjkwNCAxNS44MTM1IDM1LjY5MDQgMTguODYwMyAzMi45MDg1IDIzLjAzMzFDMzQuMDM0NSAyNC4yOTE2IDM1LjE2MDUgMjUuNTUgMzYuMjUzNCAyNi43NzU0QzQxLjM4NjUgMjIuNDcwMSA0MS4zODY2IDEyLjkzMjMgMzYuNDg1MiA4LjQ5NDZDMzUuMTYwNSA5LjY4NjgyIDMzLjkzNTEgMTAuODEyOCAzMi43NDI5IDExLjkwNTdaXCIpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCIjMjQzQzVBXCIpO1xuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocGF0aCk7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuICAgIHN0YXRpYyBvcHRpb25DYXJkU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IG9wdGlvbkNhcmRTdHlsZSA9IGBcbiAgICAgICAgLm9wdGlvbi1jYXJkLWV5ZWVhc3Npc3Qge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1pdGVtczogY2VudGVyO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7R2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCl9O1xuICAgICAgICAgIHdpZHRoOiAzMCU7XG4gICAgICAgICAgcGFkZGluZzogNTBweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAgICAgICAgIGNvbG9yOiAke0dsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpfTtcbiAgICAgICAgICBmb250LXNpemU6IDIycHg7XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUob3B0aW9uQ2FyZFN0eWxlLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXllZWFzc2lzdCB9IGZyb20gXCIuL21haW4vZXllZWFzc2lzdFwiO1xuY29uc3QgZXllZWFzc2lzdCA9IG5ldyBFeWVlYXNzaXN0KHRydWUsIHRydWUsIHRydWUsICdha2xqbnYxM2J2aTJ2Zm8wYjBidycpO1xuZXllZWFzc2lzdC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uL2ZpbHRlci9maWx0ZXJcIjtcbmltcG9ydCB7IFNjcmVlblJlYWRlciB9IGZyb20gXCIuLi9zY3JlZW5fcmVhZGVyL3NjcmVlbl9yZWFkZXJcIjtcbmltcG9ydCB7IFpvb20gfSBmcm9tIFwiLi4vem9vbS96b29tXCI7XG5pbXBvcnQgeyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZXllZWFzc2lzdC1jbGFzc2VzXCI7XG5pbXBvcnQgeyBPcHRpb25DYXJkIH0gZnJvbSBcIi4vb3B0aW9uLWNhcmQvb3B0aW9uLWNhcmRcIjtcbmltcG9ydCB7IE9wdGlvbkNhcmRTdHlsZXMgfSBmcm9tIFwiLi9vcHRpb24tY2FyZC9vcHRpb24tY2FyZC1zdHlsZXNcIjtcbmltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuZXhwb3J0IGNsYXNzIEV5ZWVhc3Npc3Qge1xuICAgIGNvbnN0cnVjdG9yKHpvb21TdGF0dXMgPSBmYWxzZSwgZmlsdGVyU3RhdHVzID0gZmFsc2UsIHJlYWRlclN0YXR1cyA9IGZhbHNlLCB0b2tlbiA9ICcnKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5hbmltYWNpb25FblByb2dyZXNvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZpZXdPcHRpb25zT24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93T3B0aW9uc1ZpZXcgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbHlfbWVudV9lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZseV9tZW51Jyk7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3T3B0aW9uc09uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyT3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LW1lbnUtdmlldycpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlck9wdGlvbnMgPT09IG51bGwgfHwgYnVmZmVyT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyT3B0aW9ucy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmx5X21lbnVfZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LnN0eWxlLndpZHRoID0gJzcycHgnO1xuICAgICAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgICAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwTmFtZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uc09uID0gIXRoaXMudmlld09wdGlvbnNPbjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmx5X21lbnVfZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGZseV9tZW51X2VsZW1lbnQuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgICAgICAgICAgIGZseV9tZW51X2VsZW1lbnQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwcHgnO1xuICAgICAgICAgICAgICAgIGZseV9tZW51X2VsZW1lbnQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnc3BhY2UtZXZlbmx5JztcbiAgICAgICAgICAgICAgICB0aGlzLmFwcE5hbWUgPSB0aGlzLmNyZWF0ZUFwcE5hbWUoKTtcbiAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LmFwcGVuZCh0aGlzLmFwcE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdvdmVybGF5LW1lbnUtdmlldyc7XG4gICAgICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdvdmVybGF5LW1lbnUtdmlldyc7XG4gICAgICAgICAgICBjb25zdCBkaXZPcHRpb25zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2T3B0aW9uc0VsZW1lbnQuY2xhc3NOYW1lID0gJ29wdGlvbnMtbWVudS12aWV3JztcbiAgICAgICAgICAgIGRpdk9wdGlvbnNFbGVtZW50LmlkID0gJ29wdGlvbi1tZW51LWRpc3BsYXknO1xuICAgICAgICAgICAgZGl2T3B0aW9uc0VsZW1lbnQuYXBwZW5kKHRoaXMuY3JlYXRlQ2xvc2VCdXR0b20oKSk7XG4gICAgICAgICAgICBjb25zdCBkaXZGaWx0ZXJNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXZGaWx0ZXJNZW51LmlkID0gJ29wdGlvbi1maWx0ZXItZGlzcGxheSc7XG4gICAgICAgICAgICBkaXZGaWx0ZXJNZW51LnN0eWxlLndpZHRoID0gJzMwJSc7XG4gICAgICAgICAgICBkaXZFbGVtZW50LmFwcGVuZChkaXZPcHRpb25zRWxlbWVudCk7XG4gICAgICAgICAgICBkaXZFbGVtZW50LmFwcGVuZChkaXZGaWx0ZXJNZW51KTtcbiAgICAgICAgICAgIGNvbnN0IG9wY2lvbmVzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd6b29tJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBY3RpdmFyIHpvb20nLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0F0YWpvIGRlIHRlY2xhZG8gW0N0cmwgKyBCYWNrc3BhY2VdJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLlpvb21PYmplY3Quc3RhdHVzKCksXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ab29tT2JqZWN0LnRvb2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3pvb21TdGF0dXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLlpvb21PYmplY3Quc3RhdHVzKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogT3B0aW9uQ2FyZFN0eWxlcy56b29tSWNvblN2ZygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiAnZmlsdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBcGxpY2FyIGZpbHRyb3MgZGUgY29sb3InLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0FwbGlxdWUgdW4gZmlsdHJvJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLkZpbHRlck9iamVjdC5zdGF0dXMoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiAoaWQgPSBcIlwiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkZpbHRlck9iamVjdC50b2dnbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zTGlzdCA9IHRoaXMuRmlsdGVyT2JqZWN0LnNob3dGaWx0ZXJPcHRpb25zTGlzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbi1maWx0ZXItZGlzcGxheScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb24tbWVudS1kaXNwbGF5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc0xpc3QgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9PT0gbnVsbCB8fCBjb250YWluZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb25zTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbl9jb250YWluZXIgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbl9jb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdlbmQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICc3MCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25fY29udGFpbmVyICYmIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpbHRlclN0YXR1cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGljb246IE9wdGlvbkNhcmRTdHlsZXMuZmlsdGVySWNvblN2ZygpIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogJ3ZvaWNlJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdMZWVyIGVuIHZveiBhbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdBdGFqbyBkZSB0ZWNsYWRvIFtDdHJsICsgU3BhY2VdJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLlNjcmVlblJlYWRlck9iamVjdC5zdGF0dXMoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNjcmVlblJlYWRlck9iamVjdC50b2dnbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWFkZXJTdGF0dXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLlNjcmVlblJlYWRlck9iamVjdC5zdGF0dXMoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBPcHRpb25DYXJkU3R5bGVzLnZvaWNlSWNvblN2ZygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBvcGNpb25lcy5mb3JFYWNoKChvcGNpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IE9wdGlvbkNhcmQob3BjaW9uLmlkLCBvcGNpb24udGl0bGUsIG9wY2lvbi5zdWJ0aXRsZSwgb3BjaW9uLmljb24sIG9wY2lvbi5zdGF0dXMsIG9wY2lvbi50b2dnbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZXRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgZGl2T3B0aW9uc0VsZW1lbnQuYXBwZW5kQ2hpbGQoY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhZG8nLCBvcGNpb24uaWQsIG9wY2lvbi5zdGF0dXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnNMaXN0ID0gdGhpcy5GaWx0ZXJPYmplY3Quc2hvd0ZpbHRlck9wdGlvbnNMaXN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbi1maWx0ZXItZGlzcGxheScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbl9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3B0aW9uLW1lbnUtZGlzcGxheScpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTGlzdCAhPSBcIlwiICYmIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPT09IG51bGwgfHwgY29udGFpbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250YWluZXIuYXBwZW5kQ2hpbGQob3B0aW9uc0xpc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uX2NvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2VuZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnNzAlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbl9jb250YWluZXIgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmlld09wdGlvbnNPbiA9ICF0aGlzLnZpZXdPcHRpb25zT247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2VycmFyTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lbnNhamUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXllZWFzaXN0LWluaXRpYWwtbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWFjaW9uID0gbWVuc2FqZSA9PT0gbnVsbCB8fCBtZW5zYWplID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZW5zYWplLmFuaW1hdGUoW1xuICAgICAgICAgICAgICAgICAgICB7IG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTAwJSknIH1cbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2Utb3V0JyAvLyBUaXBvIGRlIGludGVycG9sYWNpw7NuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hY2lvbikge1xuICAgICAgICAgICAgICAgICAgICBhbmltYWNpb24ub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVuc2FqZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnNhamUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2luaXRNZXNzYWdlQ2xvc2UnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5pdE1lc3NhZ2VTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaW5pdE1lc3NhZ2VDbG9zZScpO1xuICAgICAgICBpZiAoaW5pdE1lc3NhZ2VTdGF0dXMgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRNZXNzYWdlQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLnRvZ2dsZVN3aXRjaENsYXNzZXMoKTtcbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMuYWRkQnVmZmVyT3B0aW9uc0NsYXNzKCk7XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLmFkZEZseU1lbnVTdHlsZSgpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5hZGRPcHRpb25GdW5jdGlvbnNDbGFzcygpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5vdmVybGF5U3R5bGVDbGFzcygpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5vdmVybGF5T3B0aW9uc1N0eWxlQ2xhc3MoKTtcbiAgICAgICAgdGhpcy56b29tU3RhdHVzID0gem9vbVN0YXR1cztcbiAgICAgICAgdGhpcy5maWx0ZXJTdGF0dXMgPSBmaWx0ZXJTdGF0dXM7XG4gICAgICAgIHRoaXMucmVhZGVyU3RhdHVzID0gcmVhZGVyU3RhdHVzO1xuICAgICAgICB0aGlzLmFwcE5hbWUgPSB0aGlzLmNyZWF0ZUFwcE5hbWUoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRab29tU3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3pvb21TdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkWm9vbVN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSB6b29tIHN0YXR1cyBndWFyZGFkbycsIEpTT04ucGFyc2Uoc2F2ZWRab29tU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkWm9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWRGaWx0ZXJTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlsdGVyU3RhdHVzJyk7XG4gICAgICAgIGlmIChzYXZlZEZpbHRlclN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSBmaWx0ZXIgc3RhdHVzIGd1YXJkYWRvJywgSlNPTi5wYXJzZShzYXZlZEZpbHRlclN0YXR1cykpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkRmlsdGVyU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZFJlYWRlclN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWFkZXJTdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkUmVhZGVyU3RhdHVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF5IHJlYWRlciBzdGF0dXMgZ3VhcmRhZG8nLCBKU09OLnBhcnNlKHNhdmVkUmVhZGVyU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnJlYWRlclN0YXR1cyA9IEpTT04ucGFyc2Uoc2F2ZWRSZWFkZXJTdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuWm9vbU9iamVjdCA9IG5ldyBab29tKHRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0ID0gbmV3IEZpbHRlcih0aGlzLmZpbHRlclN0YXR1cyk7XG4gICAgICAgIHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0ID0gbmV3IFNjcmVlblJlYWRlcih0aGlzLnJlYWRlclN0YXR1cywgdGhpcy50b2tlbik7XG4gICAgfVxuICAgIGNyZWF0ZUFwcE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGFwcE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGFwcE5hbWUudGV4dENvbnRlbnQgPSAnRXllQXNzaXN0JztcbiAgICAgICAgcmV0dXJuIGFwcE5hbWU7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNob3dJbml0TWVzc2FnZSgpO1xuICAgICAgICB0aGlzLnNob3dGbHlNZW51KCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLlpvb21PYmplY3QuYWN0aXZlWm9vbSh0aGlzLlNjcmVlblJlYWRlck9iamVjdC5lbmFibGUoKSwgZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5TY3JlZW5SZWFkZXJPYmplY3Qua2V5YmluZHNTY3JlZW5SZWFkZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlQ2xvc2VCdXR0b20oKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9tTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgY2xvc2VTcGFuQnV0dG9uTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9tID0gQ3NzRXllZWFzc2lzdENsYXNzZXMuc3ZnQ2xvc2VCdXR0b21NZW51KEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpKTtcbiAgICAgICAgY2xvc2VCdXR0b20uc3R5bGUud2lkdGggPSAnMjVweCc7XG4gICAgICAgIGNsb3NlQnV0dG9tLnN0eWxlLm1hcmdpblRvcCA9ICczcHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbS5zdHlsZS5oZWlnaHQgPSAnMTdweCc7XG4gICAgICAgIGNsb3NlU3BhbkJ1dHRvbk1vZGFsLnRleHRDb250ZW50ID0gJ0NlcnJhciAnO1xuICAgICAgICBjbG9zZVNwYW5CdXR0b25Nb2RhbC5zdHlsZS5jb2xvciA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLmFwcGVuZChjbG9zZVNwYW5CdXR0b25Nb2RhbCk7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuYXBwZW5kKGNsb3NlQnV0dG9tKTtcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUudG9wID0gJzIwcHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLnN0eWxlLnJpZ2h0ID0gJzEwMHB4JztcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5wYWRkaW5nID0gJzEwcHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLnN0eWxlLmZvbnRTaXplID0gJzIycHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaG93T3B0aW9uc1ZpZXcpO1xuICAgICAgICByZXR1cm4gY2xvc2VCdXR0b21Nb2RhbDtcbiAgICB9XG4gICAgc2hvd0ZseU1lbnUoKSB7XG4gICAgICAgIGNvbnN0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdmbHlfbWVudSc7XG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZseV9tZW51JztcbiAgICAgICAgZGl2RWxlbWVudC5zdHlsZS5ib3R0b20gPSAnMTIwcHgnO1xuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKENzc0V5ZWVhc3Npc3RDbGFzc2VzLnN2Z0V5ZWUoKSk7XG4gICAgICAgIGRpdkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dPcHRpb25zVmlldyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgfVxuICAgIHNob3dJbml0TWVzc2FnZSgpIHtcbiAgICAgICAgbGV0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudCA9IENzc0V5ZWVhc3Npc3RDbGFzc2VzLm1haW5NZXNzYWdlKGRpdkVsZW1lbnQpO1xuICAgICAgICBkaXZFbGVtZW50LmlkID0gJ2V5ZWVhc2lzdC1pbml0aWFsLW1lc3NhZ2UnO1xuICAgICAgICBpZiAodGhpcy5pbml0TWVzc2FnZUNsb3NlKSB7XG4gICAgICAgICAgICBkaXZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpdkVsZW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lciA9IENzc0V5ZWVhc3Npc3RDbGFzc2VzLm1lc3NhZ2VDb250ZW50KGRpdkVsZW1lbnRDb250YWluZXIpO1xuICAgICAgICBsZXQgc3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW5FbGVtZW50LnRleHRDb250ZW50ID0gJ0VzdGEgcMOhZ2luYSBjdWVudGEgY29uIGhlcnJhbWllbnRhcyBkZSBhY2Nlc2liaWxpZGFkLiBQYXJhIGFjdGl2YXIgeS9vIGRlc2FjdGl2YXIgZXN0YXMgaGVycmFtaWVudGFzLCBwcmVzaW9uYSBDdHJsICsgU3BhY2UgbyBoYXogY2xpYyBlbiBlbCBib3TDs24gY29uIGVsIGljb25vIGRlIHVuYSBwZXJzb25hIHBvc2ljaW9uYWRvIGVuIGxhIHBhcnRlIHN1cGVyaW9yIGRlcmVjaGEgZGUgbGEgcGFudGFsbGEuJztcbiAgICAgICAgc3BhbkVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcxNXB4JztcbiAgICAgICAgbGV0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uRWxlbWVudCA9IENzc0V5ZWVhc3Npc3RDbGFzc2VzLmNsb3NlQnV0dG9tKGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jZXJyYXJNb2RhbCk7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoQ3NzRXllZWFzc2lzdENsYXNzZXMuc3ZnQ2xvc2VCdXR0b20oR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCkpKTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuRWxlbWVudCk7XG4gICAgICAgIC8vZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdIdW1hbignIzAwNjQwMCcsICcyMCcsICcyMCcpKVxuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKGRpdkVsZW1lbnRDb250YWluZXIpO1xuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShkaXZFbGVtZW50LCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJHbG9iYWxTdHlsZSIsImdldEJhY2tncm91bmRDb2xvciIsImdldEZvcmVncm91bmRDb2xvciIsIkZpbHRlclNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJoYXNJbnNlcnRlZEFjY2VzcyIsImFjdGl2ZV9maWx0ZXIiLCJmaWx0cm9fYXBsaWNhZG8iLCJjb2xvckJsaW5kbmVzc0NsYXNzZXMiLCJ2aXNpb25DbGFzc2VzIiwiY3NzRmlsdGVyIiwic3ZnRmlsdGVyVGVtcGxhdGUiLCJnZXRBY3RpdmVGaWx0ZXIiLCJhcGxpY2FyRmlsdHJvIiwiZmlsdHJvIiwicmVtb3ZlVGVzdHMiLCJ0b2dnbGVUZXN0IiwiY29uc29sZSIsImVycm9yIiwidGVzdFR5cGUiLCJ0ZXN0Q2xhc3MiLCJpbnNlcnRGaWxlcyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3ZnIiwiY3NzIiwiYm9keSIsImluc2VydEFkamFjZW50SFRNTCIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJDc3NGaWx0ZXJDbGFzc2VzIiwiYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcyIsInN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0cyIsImZpbHRlcl9idWZmZXIiLCJpbnNlcnRSdWxlIiwiY3NzUnVsZXMiLCJhZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcyIsInJhZGlvQnV0dG9tQ3NzIiwiYWRkRmlsdGVyU3R5bGVDbGFzcyIsIkZpbHRlciIsImVuYWJsZUZpbHRlciIsImZpbHRlclZpZXdPbiIsImZpbHRlck9wdGlvbnNNYXAiLCJNYXAiLCJzdGFydEZpbHRlciIsImV2ZW50IiwicmFkaW9JZCIsInRhcmdldCIsImlkIiwicmVwbGFjZSIsImNoYW5nZUFjdGl2ZUlucHV0cyIsInNob3dGaWx0ZXJPcHRpb25zTGlzdCIsImZpbHRlcl9idWZmZXJfaW5zdGFuY2UiLCJnZXRFbGVtZW50QnlJZCIsImNsZWFyIiwiYnVmZmVyTGlzdERpdkVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYnVmZmVyTGlzdENvbnRhaW5lciIsInN0eWxlIiwicGFkZGluZyIsImRlc2NyaXB0aW9uIiwidGV4dENvbnRlbnQiLCJtYXJnaW5Cb3R0b20iLCJhcHBlbmRDaGlsZCIsIm5hbWUiLCJmb3JFYWNoIiwiZmlsdGVyIiwiYnVpbGRGaWx0ZXJPcHRpb24iLCJkaXZpZGVyIiwiYm9yZGVyIiwibWFyZ2luIiwiY29sb3JDb250YWluZXIiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImFsaWduQ29udGVudCIsImFsaWduSXRlbXMiLCJqdXN0aWZ5SXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImJhY2tncm91bmQiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJjb2xvciIsImNvbG9yQm94Iiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmaWx0ZXJTZXJ2aWNlIiwic3RhdHVzIiwidG9nZ2xlU3RhdHVzIiwic2hvd0ZpbHRlck9wdGlvbnMiLCJpbWFnZSIsInNyYyIsImJvcmRlclJhZGl1cyIsImRpdkVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlsdGVyT3B0aW9uIiwib3B0aW9uRGl2RWxlbWVudCIsInJhZGlvQ29udGFpbmVyIiwicmFkaW9CdXR0b24iLCJ0eXBlIiwiYXBwZWFyYW5jZSIsInBvc2l0aW9uIiwicGxhY2VDb250ZW50Iiwic2V0Iiwib3B0aW9uVGV4dCIsIm1hcmdpbkxlZnQiLCJhcHBlbmQiLCJzZWxlY3RlZF9pbnB1dCIsImxvZyIsImN1cnJlbnRfZWxlbWVudCIsImdldCIsImNoZWNrZWQiLCJjbGF2ZSIsInZhbG9yIiwiVmlkZW9Qcm9jZXNvciIsImZvdW5kVmlkZW8iLCJ0YWxrIiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsImRhdGEiLCJZVCIsIlBsYXllclN0YXRlIiwiUEFVU0VEIiwiY2xlYXJJbnRlcnZhbCIsImludGVydmFsIiwiRU5ERUQiLCJQTEFZSU5HIiwic2V0SW50ZXJ2YWwiLCJfYSIsIl9iIiwiX2MiLCJjdXJyZW50VGltZSIsInBsYXllciIsImdldEN1cnJlbnRUaW1lIiwidGltZSIsInRvRml4ZWQiLCJzY3JpcHQiLCJ0dXJuT2ZmIiwic3RhcnRBdWRpb0Rlc2NyaXB0aW9uIiwic2hpZnRLZXkiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImdldFBsYXllclN0YXRlIiwicGF1c2VWaWRlbyIsInBsYXlWaWRlbyIsImNyZWF0ZVBsYXllciIsIm5vZGUiLCJpZnJhbWUiLCJnZXRTY3JpcHQiLCJxdWVzdGlvbk1hcmtJbmRleCIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJQbGF5ZXIiLCJldmVudHMiLCJ1cmwiLCJteU1hcCIsIlBvc2l0aW9uQnV0dG9uIiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIlNjcmVlblJlYWRlciIsInVzZVNjcmVlblJlYWRlciIsInRva2VuIiwic3ludGgiLCJ3aW5kb3ciLCJzcGVlY2hTeW50aGVzaXMiLCJzY3JlZW5SZWFkZXJTdGF0dXMiLCJzZWxlY3RlZEFydGljbGUiLCJzZWxlY3RlZExpbmsiLCJhcnRpY2xlSW5kZXgiLCJsaW5rSW5kZXgiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidmlkZW9Qcm9jZXNvciIsInRhZ3MiLCJ0ZXh0IiwiY2FuY2VsIiwic3BlYWsiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJjYW5jZWxUYWxrIiwiYWJvcnQiLCJ0YWciLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImVuYWJsZSIsInNheVdlbGNvbWUiLCJzYXlHb29kYmF5Iiwia2V5YmluZHNTY3JlZW5SZWFkZXIiLCJjYW5jZWxSZWFkZXIiLCJyZVJlYWQiLCJhY3RpdmVTY3JlZW5SZWFkZXIiLCJtb3ZlQmV0d2VlbkNvbnRlbnQiLCJtb3ZlQmV0d2VlbkxpbmtzIiwiZ2V0SW1hZ2UiLCJmZXRjaCIsImdldERlc2NyaXB0aW9uIiwiYmxvYiIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsInJlc3BvbnNlIiwiY2F0Y2giLCJ1bmRlZmluZWQiLCJqc29uIiwibWVzc2FnZSIsInJlYWRDaGlsZHMiLCJhcnRpY2xlIiwibm9kZU5hbWUiLCJpbWciLCJhbHQiLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJ0cmltIiwiY2hpbGQiLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwiY3RybEtleSIsInNoaWZ0IiwicHVzaCIsInBvcCIsInVuc2hpZnQiLCJjb252ZXJ0VG9IdG1sRWxlbWVudHNBcnJheSIsImNsaWNrIiwibGlua3MiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidGFnTmFtZSIsImZvY3VzIiwiQ3NzQ2xhc3NlcyIsImFkZFpvb21NZXNzYWdlVGV4dEJveENsYXNzIiwiWm9vbVNlcnZpY2UiLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwibGV2ZWwiLCJtb3VzZVgiLCJtb3VzZVkiLCJwYW5FbmdhZ2VUaW1lb3V0IiwicGFuVXBkYXRlSW50ZXJ2YWwiLCJjYWxsYmFja1RpbWVvdXQiLCJzdXBwb3J0c1RyYW5zZm9ybXMiLCJrZXl1cEV2ZW50Iiwia2V5Q29kZSIsIm91dCIsIm1vdXNlTW92ZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJ0cmFuc2l0aW9uIiwibWFnbmlmeSIsInJlY3QiLCJzY2FsZSIsInNjcm9sbE9mZnNldCIsImdldFNjcm9sbE9mZnNldCIsIngiLCJpbm5lcldpZHRoIiwieSIsImlubmVySGVpZ2h0IiwidHJhbnNmb3JtIiwib3JpZ2luIiwidHJhbnNmb3JtT3JpZ2luIiwibGVmdCIsInRvcCIsInBhbiIsInJhbmdlWCIsInJhbmdlWSIsInNjcm9sbCIsInNjcm9sbFgiLCJwYWdlWE9mZnNldCIsInNjcm9sbFkiLCJwYWdlWU9mZnNldCIsInRvIiwiZWxlbWVudCIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzZXRUaW1lb3V0IiwiY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwiLCJjYWxsYmFjayIsImNsZWFyVGltZW91dCIsIk9wdGlvbnNab29tIiwiWm9vbSIsImVuYWJsZVpvb21PcHRpb25zIiwiem9vbVN0YXR1cyIsImFjdGl2ZV9tZXNzYWdlIiwiZGVhY3RpdmVfbWVzc2FnZSIsInRvb2dsZVpvb20iLCJ6b29tU2VydmljZSIsInRvb2dsZVN0YXR1cyIsImFjdGl2ZVpvb20iLCJzY3JlZW5SZWFkZXJBY3RpdmUiLCJpbml0aWFsQ2xpY2tFdmVudCIsInNob3dCb3hNZXNzYWdlIiwiem9vbV9tZXNzYWdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkNzc0V5ZWVhc3Npc3RDbGFzc2VzIiwibWFpbk1lc3NhZ2UiLCJkaXYiLCJ6SW5kZXgiLCJtZXNzYWdlQ29udGVudCIsInRleHRBbGlnbiIsImZsZXgiLCJjbG9zZUJ1dHRvbSIsImJ1dHRvbiIsImN1cnNvciIsImFkZEZseU1lbnVTdHlsZSIsImZseV9tZW51Iiwic3ZnQ2xvc2VCdXR0b21NZW51IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwicGF0aCIsInN2Z0V5ZWUiLCJwYXRoMSIsImNpcmNsZSIsInBhdGgyIiwic3ZnSHVtYW4iLCJzdmdFbGVtZW50IiwicGF0aEVsZW1lbnQiLCJzdmdDbG9zZUJ1dHRvbSIsImFkZEJ1ZmZlck9wdGlvbnNDbGFzcyIsImJ1ZmZlcl9vcHRpb25zIiwidG9nZ2xlU3dpdGNoQ2xhc3NlcyIsInRvb2dsZVN3aXRjaENsYXNzIiwidG9nZ2xlU3dpdGNoQ2lyY2xlIiwidG9nZ2xlU3dpdGNoQWN0aXZlIiwidG9nZ2xlU3dpdGNoQW5pbWF0aW9uIiwiYWRkT3B0aW9uRnVuY3Rpb25zQ2xhc3MiLCJvdmVybGF5U3R5bGVDbGFzcyIsIm92ZXJsYXlPcHRpb25zU3R5bGVDbGFzcyIsIkNhcmRCdXR0b24iLCJmdW5jdGlvbmFsaXR5SWQiLCJhY3RpdmUiLCJ0b2dnbGVUb29sU3RhdHVzIiwidG9nZ2xlT3Bvc2l2ZUJ1dHRvbiIsInRvZ2dsZVN0YXRlIiwiY2hhbmdlQnV0dG9uU3RhdGUiLCJlbGVtZW50Q3VycmVudCIsIkxFRlQiLCJvcG9zaXZlRWxlbWVudCIsImNyZWF0ZUJ1dHRvbSIsImJ1dHRvbSIsIm1hcmdpblRvcCIsInNwYW4iLCJhc3NpZ25DaGFuZ2VPcG9zaXZlU3RhdGVCdXR0b24iLCJ0b2dnbGVPcG9zaXZlIiwiZ2V0RWxlbWVudCIsIk9wdGlvbkNhcmRTdHlsZXMiLCJ6b29tSWNvblN2ZyIsImZpbHRlckljb25TdmciLCJ2b2ljZUljb25TdmciLCJvcHRpb25DYXJkU3R5bGUiLCJPcHRpb25DYXJkIiwidGl0bGUiLCJzdWJ0aXRsZSIsImljb24iLCJvcHRpb24iLCJ0b2dnbGVPcHRpb25DYXJkIiwiY3JlYXRlT3B0aW9uQ2FyZCIsImNvbnRhaW5lciIsInNwYW5UaXRsZSIsImZvbnRXZWlnaHQiLCJzcGFuU3VidGl0bGUiLCJpY29uQ29udGFpbmVyIiwicmlnaHQiLCJidXR0b21Db250YWluZXIiLCJsZWZ0QnV0dG9uIiwicmlnaHRCdXR0b24iLCJSSUdIVCIsImZpbHRlclN0YXR1cyIsInJlYWRlclN0YXR1cyIsImFuaW1hY2lvbkVuUHJvZ3Jlc28iLCJpbml0TWVzc2FnZUNsb3NlIiwidmlld09wdGlvbnNPbiIsInNob3dPcHRpb25zVmlldyIsImZseV9tZW51X2VsZW1lbnQiLCJidWZmZXJPcHRpb25zIiwiYXBwTmFtZSIsImNyZWF0ZUFwcE5hbWUiLCJkaXZPcHRpb25zRWxlbWVudCIsImNyZWF0ZUNsb3NlQnV0dG9tIiwiZGl2RmlsdGVyTWVudSIsIm9wY2lvbmVzIiwiWm9vbU9iamVjdCIsInRvZ2dsZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiRmlsdGVyT2JqZWN0Iiwib3B0aW9uc0xpc3QiLCJvcHRpb25fY29udGFpbmVyIiwiU2NyZWVuUmVhZGVyT2JqZWN0Iiwib3BjaW9uIiwiY2FyZEVsZW1lbnQiLCJjZXJyYXJNb2RhbCIsIm1lbnNhamUiLCJhbmltYWNpb24iLCJhbmltYXRlIiwib3BhY2l0eSIsImR1cmF0aW9uIiwiZWFzaW5nIiwib25maW5pc2giLCJnZXRJdGVtIiwic2F2ZWRab29tU3RhdHVzIiwicGFyc2UiLCJzYXZlZEZpbHRlclN0YXR1cyIsInNhdmVkUmVhZGVyU3RhdHVzIiwic3RhcnQiLCJzaG93SW5pdE1lc3NhZ2UiLCJzaG93Rmx5TWVudSIsInByZXZlbnREZWZhdWx0IiwiY2xvc2VCdXR0b21Nb2RhbCIsImNsb3NlU3BhbkJ1dHRvbk1vZGFsIiwiZm9udFNpemUiLCJib3R0b20iLCJkaXZFbGVtZW50Q29udGFpbmVyIiwic3BhbkVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwiZmlyc3RDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=