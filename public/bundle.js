(()=>{"use strict";class t{constructor(){this.hasInsertedAccess=!1,this.active_filter=!1,this.colorBlindnessClasses=["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"],this.visionClasses=["vision-loss-moderate","vision-loss-severe","vision-blindness"],this.cssFilter="\n  <style>.protanopia{-webkit-filter:url(#protanopia) grayscale(0)!important;filter:url(#protanopia) grayscale(0)!important}.protanomaly{-webkit-filter:url(#protanomaly) grayscale(0)!important;filter:url(#protanomaly) grayscale(0)!important}.deuteranopia{-webkit-filter:url(#deuteranopia) grayscale(0)!important;filter:url(#deuteranopia) grayscale(0)!important}.deuteranomaly{-webkit-filter:url(#deuteranomaly) grayscale(0)!important;filter:url(#deuteranomaly) grayscale(0)!important}.tritanopia{-webkit-filter:url(#tritanopia) grayscale(0)!important;filter:url(#tritanopia) grayscale(0)!important}.tritanomaly{-webkit-filter:url(#tritanomaly) grayscale(0)!important;filter:url(#tritanomaly) grayscale(0)!important}.achromatopsia{-webkit-filter:url(#achromatopsia) grayscale(0)!important;filter:url(#achromatopsia) grayscale(0)!important}.achromatomaly{-webkit-filter:url(#achromatomaly) grayscale(0)!important;filter:url(#achromatomaly) grayscale(0)!important}.grayscale{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}.vision-loss-moderate body>*{-webkit-filter:blur(1px)!important;filter:blur(1px)!important}.vision-loss-severe body>*{-webkit-filter:blur(10px)!important;filter:blur(10px)!important}.vision-blindness body>*{background-color:#fff!important;-webkit-filter:brightness(0)!important;filter:brightness(0)!important}#access-filter{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;width:1px;overflow:hidden;position:absolute!important;word-wrap:normal!important}</style>",this.svgFilterTemplate='<svg \n  id="access-filter"\n  aria-hidden="true"\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1">\n  <defs>\n    <filter id="protanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.567, 0.433, 0,     0, 0\n                0.558, 0.442, 0,     0, 0\n                0,     0.242, 0.758, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="protanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.817, 0.183, 0,     0, 0\n                0.333, 0.667, 0,     0, 0\n                0,     0.125, 0.875, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="deuteranopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.625, 0.375, 0,   0, 0\n                0.7,   0.3,   0,   0, 0\n                0,     0.3,   0.7, 0, 0\n                0,     0,     0,   1, 0"/>\n    </filter>\n    <filter id="deuteranomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.8,   0.2,   0,     0, 0\n                0.258, 0.742, 0,     0, 0\n                0,     0.142, 0.858, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.95, 0.05,  0,     0, 0\n                0,    0.433, 0.567, 0, 0\n                0,    0.475, 0.525, 0, 0\n                0,    0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.967, 0.033, 0,     0, 0\n                0,     0.733, 0.267, 0, 0\n                0,     0.183, 0.817, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatopsia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.618, 0.320, 0.062, 0, 0\n                0.163, 0.775, 0.062, 0, 0\n                0.163, 0.320, 0.516, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n  </defs>\n</svg>'}aplicarFiltro(t){null!=t?(this.active_filter?this.removeTests("colorBlindness"):this.toggleTest("colorBlindness",t),this.active_filter=!this.active_filter):console.error("Error al aplicar los filtros, la opcion no se pintada correctamente")}toggleTest(t,e){this.hasInsertedAccess||(this.insertFiles(this.svgFilterTemplate,this.cssFilter),this.hasInsertedAccess=!0),this.removeTests(t),document.documentElement.classList.add(e)}insertFiles(t,e){document.body.insertAdjacentHTML("beforeend",t),document.body.insertAdjacentHTML("beforeend",e)}removeTests(t){if("vision"==t)for(let t=0;t<this.visionClasses.length;t++)document.documentElement.classList.remove(this.visionClasses[t]);else if("colorBlindness"==t)for(let t=0;t<this.colorBlindnessClasses.length;t++)document.documentElement.classList.remove(this.colorBlindnessClasses[t])}}class e{static addFilterBufferStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter-list-buffer {\n            position: fixed;\n            top: 50%;\n            right: 20px;\n            transform: translateY(-50%);\n            z-index: 9999;\n            background-color: #FFFF00;\n            color: #000000;\n        }\n    ",t.cssRules.length)}static addFilterOptionsStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter-option {\n          padding: 0.5rem;\n        }\n    ",t.cssRules.length)}static addFilterStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter_button {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",t.cssRules.length)}}class s{constructor(s=!1){this.enableFilter=s,this.filterViewOn=!1,this.startFilter=t=>{const e=t.target;this.filterService.aplicarFiltro(e.textContent)},this.showFilterOptionsList=()=>{if(this.filterViewOn){var t=document.getElementById("filter_buffer");return null==t?void console.error("No hay instancia del buffer de opciones."):(t.remove(),void(this.filterViewOn=!this.filterViewOn))}var s=document.createElement("div");s.className="filter-list-buffer",s.id="filter_buffer";var i=document.getElementById("filter_button");null!=i?(i.appendChild(s),e.addFilterBufferStyleClass(),["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"].forEach((t=>{var e=document.getElementById("filter_buffer");null!=e?e.appendChild(this.buildFilterOption(t)):console.error("No hay instancia del buffer de opciones.")})),e.addFilterOptionsStyleClass(),this.filterViewOn=!this.filterViewOn):console.error("No se creo el boton correctamente.")},this.filterService=new t}status(){return this.enableFilter}toggleStatus(){this.enableFilter=!this.enableFilter}showFilterOptions(){const t=document.createElement("img");t.src="https://github.com/EyeeAssist/docs/blob/develop/src/assets/logo.png?raw=true",t.style.width="50px",t.style.borderRadius="50%";const s=document.createElement("div");s.className="filter_button",s.id="filter_button",s.appendChild(t),s.addEventListener("click",this.showFilterOptionsList),e.addFilterStyleClass(),document.body.appendChild(s)}buildFilterOption(t){var e=document.createElement("div");return e.className="filter-option",e.addEventListener("click",this.startFilter),e.textContent=t,e}}var i=function(t,e,s,i){return new(s||(s=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function r(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))};class n{constructor(t=!1,e=""){var s;if(this.useScreenReader=t,this.token=e,this.synth=window.speechSynthesis,this.screenReaderStatus=!1,this.selectedArticle=null,this.selectedLink=null,this.articleIndex=-1,this.linkIndex=0,this.controller=new AbortController,this.talk=(t,e=!0)=>{!e||this.synth.cancel(),this.synth.speak(new SpeechSynthesisUtterance(t))},this.cancelTalk=()=>{this.controller&&this.controller.abort(),this.talk("")},!this.useScreenReader)return;let i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";let n=document.getElementsByTagName("script")[0];null===(s=n.parentNode)||void 0===s||s.insertBefore(i,n)}status(){return this.useScreenReader}toggleStatus(){this.useScreenReader=!this.useScreenReader}enable(){return this.screenReaderStatus}sayWelcome(){this.talk("Hola bienvenido a la pagina X, si desea leer las acciones de la pagina presione control y enter")}sayGoodbay(){this.talk("Gracias por utilizar eyeeassist")}keybindsScreenReader(t){this.cancelReader(t),this.reRead(t),this.activeScreenReader(t),this.moveBetweenContent(t),this.moveBetweenLinks(t)}getImage(t){return i(this,void 0,void 0,(function*(){return yield fetch(t)}))}getDescription(t){return i(this,void 0,void 0,(function*(){this.controller=new AbortController;const e=new FormData;e.append("file",t,"imagen.jpg");const s={method:"POST",body:e,headers:{Authorization:"Bearer "+this.token},signal:this.controller.signal},i=yield fetch("http://localhost:8000/caption",s).catch((t=>{"AbortError"===t.name&&console.error(t)}));return null!=i?(yield i.json()).message[0]:""}))}readChilds(t){var e;return i(this,void 0,void 0,(function*(){if("IFRAME"==t.nodeName){var s=new YT.Player(t,{});setTimeout((()=>{s.playVideo()}),5e3)}if("IMG"==t.nodeName){this.talk("Imagen encontrada",!1);let e=t;if(""!=e.alt)this.talk(""),this.talk("Imagen de "+e.alt,!1);else{const t=yield this.getImage(e.src),s=yield t.blob();this.talk("describiendo imagen",!1);const i=yield this.getDescription(s);""!=i?this.talk("Imagen de "+i,!1):this.talk("No se pudo generar una descripcion para la imagen encontrada.",!1)}}t.nodeType==Node.TEXT_NODE&&(null===(e=t.textContent)||void 0===e?void 0:e.trim())&&this.talk(t.textContent,!1);for(const e of Array.from(t.childNodes))yield this.readChilds(e)}))}moveBetweenContent(t){let e=document.getElementsByTagName("article");0!=e.length&&(this.screenReaderStatus&&!0===t.ctrlKey&&"arrowright"===t.key.toLowerCase()&&(this.articleIndex+=1,this.selectedArticle=e[this.articleIndex],this.cancelTalk(),this.readChilds(this.selectedArticle),this.articleIndex===e.length-1&&(this.articleIndex=0)),this.screenReaderStatus&&!0===t.ctrlKey&&"arrowleft"===t.key.toLowerCase()&&(-1===this.articleIndex?this.articleIndex+=1:0==this.articleIndex?this.articleIndex=e.length-1:this.articleIndex-=1,this.selectedArticle=e[this.articleIndex],this.cancelTalk(),this.readChilds(this.selectedArticle)))}activeScreenReader(t){this.useScreenReader&&!0===t.ctrlKey&&" "===t.key.toLowerCase()&&(this.screenReaderStatus?this.sayGoodbay():this.sayWelcome(),this.screenReaderStatus=!this.screenReaderStatus)}moveBetweenLinks(t){if(this.screenReaderStatus&&!1===t.ctrlKey&&"enter"===t.key.toLowerCase()&&null!=this.selectedLink&&(console.log(this.selectedLink),this.selectedLink.click()),this.screenReaderStatus&&!0===t.ctrlKey&&"enter"===t.key.toLowerCase()){let t=document.getElementsByClassName("text_reader_link");console.log(t[this.linkIndex].tagName),this.selectedLink=t[this.linkIndex],this.selectedLink.focus(),"TEXTAREA"==t[this.linkIndex].tagName?(this.selectedLink.addEventListener("input",(()=>{console.log(this.selectedLink)})),this.talk("Seleccionado un text area",!0)):null!==this.selectedLink.textContent&&this.talk(this.selectedLink.textContent,!0),this.linkIndex===t.length-1?this.linkIndex=0:this.linkIndex+=1}}cancelReader(t){this.useScreenReader&&"escape"===t.key.toLowerCase()&&this.talk("")}reRead(t){this.useScreenReader&&!0===t.ctrlKey&&"backspace"===t.key.toLowerCase()&&null!=this.selectedArticle&&null!=this.selectedArticle.textContent&&this.talk(this.selectedArticle.textContent)}}class o{static addZoomMessageTextBoxClass(){const t=document.styleSheets[0];t.insertRule(".zoom-message-txtbox {  \n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 9999;\n          background-color: #FFFF00;\n          color: #000000;\n          font-size: 20rem;\n          text-align: center;\n          width: 80%;\n          height: 80%;\n          font-family: Arial, sans-serif;\n      }",t.cssRules.length)}}class a{constructor(){this.TRANSITION_DURATION=800,this.level=1,this.mouseX=0,this.mouseY=0,this.panEngageTimeout=-1,this.panUpdateInterval=-1,this.callbackTimeout=-1,this.supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,this.keyupEvent=t=>{1!==this.level&&27===t.keyCode&&this.out(void 0)},this.mouseMoveEvent=t=>{1!==this.level&&(this.mouseX=t.clientX,this.mouseY=t.clientY)},this.supportsTransforms&&(document.body.style.transition="transform "+this.TRANSITION_DURATION+"ms ease"),document.addEventListener("keyup",this.keyupEvent),document.addEventListener("mousemove",this.mouseMoveEvent)}magnify(t,e){var s=this.getScrollOffset();if(t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*e)/2,t.y-=(window.innerHeight-t.height*e)/2,this.supportsTransforms)if(1===e)document.body.style.transform="";else{var i=s.x+"px "+s.y+"px",n="translate("+-t.x+"px,"+-t.y+"px) scale("+e+")";document.body.style.transformOrigin=i,document.body.style.transform=n}else 1===e?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height=""):(document.body.style.position="relative",document.body.style.left=-(s.x+t.x)/e+"px",document.body.style.top=-(s.y+t.y)/e+"px",document.body.style.width=100*e+"%",document.body.style.height=100*e+"%");this.level=e}pan(){var t=.12*window.innerWidth,e=.12*window.innerHeight,s=this.getScrollOffset();this.mouseY<e?window.scroll(s.x,s.y-(1-this.mouseY/e)*(14/this.level)):this.mouseY>window.innerHeight-e&&window.scroll(s.x,s.y+(1-(window.innerHeight-this.mouseY)/e)*(14/this.level)),this.mouseX<t?window.scroll(s.x-(1-this.mouseX/t)*(14/this.level),s.y):this.mouseX>window.innerWidth-t&&window.scroll(s.x+(1-(window.innerWidth-this.mouseX)/t)*(14/this.level),s.y)}getScrollOffset(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}to(t){if(1!==this.level)this.out(void 0);else{if(t.x=t.x||0,t.y=t.y||0,t.element){var e="number"==typeof t.padding?t.padding:20,s=t.element.getBoundingClientRect();t.x=s.left-e,t.y=s.top-e,t.width=s.width+2*e,t.height=s.height+2*e}void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),t.scale>1&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),this.magnify(t,t.scale),!1!==t.pan&&(this.panEngageTimeout=setTimeout(this.calculatePanUpdateInterval,this.TRANSITION_DURATION)),"function"==typeof t.callback&&(this.callbackTimeout=setTimeout(t.callback,this.TRANSITION_DURATION)))}}calculatePanUpdateInterval(){this.panUpdateInterval=setInterval(this.pan,1e3/60)}out(t){clearTimeout(this.panEngageTimeout),clearInterval(this.panUpdateInterval),clearTimeout(this.callbackTimeout),this.magnify(new r(0,0,1),1),t&&"function"==typeof t.callback&&setTimeout(t.callback,this.TRANSITION_DURATION),this.level=1}}class r{constructor(t,e,s){this.x=0,this.y=0,this.scale=0,this.x=t,this.y=e,this.scale=s}}class l{constructor(t=!1){this.enableZoomOptions=t,this.zoomStatus=!1,this.active_message='<div id="zoom-status" class="zoom-message-txtbox">On</div>',this.deactive_message='<div id="zoom-status" class="zoom-message-txtbox">Off</div>',this.toogleZoom=t=>{this.zoomService.to(new r(t.x,t.y,10))},this.zoomService=new a}status(){return this.enableZoomOptions}toogleStatus(){this.enableZoomOptions=!this.enableZoomOptions}activeZoom(t,e){this.enableZoomOptions&&(t||!0!==e.ctrlKey||"backspace"!==e.key.toLowerCase()||(o.addZoomMessageTextBoxClass(),this.initialClickEvent(document.body)))}initialClickEvent(t){this.zoomStatus?this.showBoxMessage(t,this.deactive_message,!this.zoomStatus):this.showBoxMessage(t,this.active_message,!this.zoomStatus),this.zoomStatus=!this.zoomStatus}showBoxMessage(t,e,s){t.insertAdjacentHTML("beforebegin",e),setTimeout((()=>{const t=document.getElementById("zoom-status");null==t||t.remove()}),2e3),s?t.addEventListener("click",this.toogleZoom):t.removeEventListener("click",this.toogleZoom)}}class c{static mainMessage(t){return t.style.display="flex",t.style.alignItems="center",t.style.alignContent="center",t.style.justifyItems="center",t.style.justifyContent="center",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.backgroundColor="#f8f8f8",t.style.zIndex="999",t}static messageContent(t){return t.style.textAlign="center",t.style.flex="1",t}static closeButtom(t){return t.style.background="none",t.style.border="none",t.style.padding="0",t.style.margin="0",t.style.cursor="pointer",t.style.width="50px",t.style.height="50px",t.style.alignSelf="flex-end",t}static addFlyMenuStyle(){const t=document.styleSheets[0];t.insertRule("\n        .fly_menu {\n          position: fixed;\n          right: 70px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          fill: #ffffff;\n          stroke: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",t.cssRules.length)}static svgHuman(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.setAttribute("stroke",t),e.setAttribute("stroke-width","2"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-linejoin","round");const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx","12"),s.setAttribute("cy","5"),s.setAttribute("r","1");const i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d","M9 20l3-6 3 6");const n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d","M6 8l6 2 6-2");const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d","M12 10v4"),e.appendChild(s),e.appendChild(i),e.appendChild(n),e.appendChild(o),e}static svgCloseButtom(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("fill",t),e.setAttribute("viewBox","0 0 32 32");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7.004 23.087l7.08-7.081-7.07-7.071L8.929 7.02l7.067 7.069L23.084 7l1.912 1.913-7.089 7.093 7.075 7.077-1.912 1.913-7.074-7.073L8.917 25z"),e.appendChild(s),e}static addBufferOptionsClass(){const t=document.styleSheets[0];t.insertRule("\n        .buffer_options {\n            position: fixed;\n            top: 20%;\n            right: 10%;\n            border-radius: 10px;\n            transform: translateY(-50%);\n            z-index: 9999;\n            background-color: #243c5a;\n            color: #9dd08b;\n        }\n    ",t.cssRules.length)}static toggleSwitchClasses(){this.toogleSwitchClass(),this.toggleSwitchCircle(),this.toggleSwitchActive(),this.toggleSwitchAnimation()}static toogleSwitchClass(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch {\n            width: 60px;\n            height: 30px;\n            background-color: #ccc;\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            cursor: pointer;\n            transition: background-color 0.3s, transform 0.3s;\n        }\n    ",t.cssRules.length)}static toggleSwitchCircle(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch-circle {\n            width: 30px;\n            height: 30px;\n            background-color: white;\n            border-radius: 50%;\n            transition: transform 0.3s;\n        }",t.cssRules.length)}static toggleSwitchActive(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch.active {\n            background-color: #2ecc71;\n        }",t.cssRules.length)}static toggleSwitchAnimation(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch.active .toggle-switch-circle {\n            transform: translateX(30px);\n        }",t.cssRules.length)}static addOptionFunctionsClass(){const t=document.styleSheets[0];t.insertRule("\n        .option_menu_eyeeassist {\n          display: flex;\n          padding: 10px;\n          justify-content: space-between;\n        }",t.cssRules.length)}}new class{constructor(t=!1,e=!1,i=!1,o=""){this.token=o,this.animacionEnProgreso=!1,this.initMessageClose=!1,this.viewOptionsOn=!1,this.buildOption=(t,e)=>{const s=document.createElement("div");s.className="option_menu_eyeeassist";const i=document.createElement("div");i.textContent=t,i.style.paddingRight="20px",s.appendChild(i);const n=document.createElement("div");n.className="toggle-switch",n.id="toggleSwitch"+t;const o=document.createElement("div");return o.className="toggle-switch-circle",n.appendChild(o),e&&n.classList.toggle("active"),n.addEventListener("click",(t=>{switch(n.id){case"toggleSwitchZoom":this.ZoomObject.toogleStatus(),localStorage.setItem("zoomStatus",JSON.stringify(this.ZoomObject.status()));break;case"toggleSwitchColors":this.FilterObject.toggleStatus(),localStorage.setItem("filterStatus",JSON.stringify(this.FilterObject.status()));break;case"toggleSwitchReader":this.ScreenReaderObject.toggleStatus(),localStorage.setItem("readerStatus",JSON.stringify(this.ScreenReaderObject.status()))}n.classList.toggle("active")})),s.appendChild(n),s},this.showOptions=()=>{if(console.log("Mostrando opciones"),this.viewOptionsOn){const t=document.getElementById("buffer_options");return null==t||t.remove(),void(this.viewOptionsOn=!this.viewOptionsOn)}const t=document.createElement("div");t.id="buffer_options",t.className="buffer_options",[{name:"Zoom",status:this.ZoomObject.status()},{name:"Colors",status:this.FilterObject.status()},{name:"Reader",status:this.ScreenReaderObject.status()}].forEach((e=>{t.appendChild(this.buildOption(e.name,e.status))})),document.body.appendChild(t),this.viewOptionsOn=!this.viewOptionsOn},this.cerrarModal=()=>{if(!this.animacionEnProgreso){const t=document.getElementById("eyeeasist-initial-message"),e=document.getElementById("fly_menu");this.animacionEnProgreso=!0;const s=null==t?void 0:t.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-100%)"}],{duration:300,easing:"ease-out"}),i=null==e?void 0:e.animate([{top:"70px"},{top:"30px"}],{duration:1e3,easing:"ease"});s&&i&&(s.onfinish=()=>{t&&(t.style.display="none"),this.animacionEnProgreso=!1,localStorage.setItem("initMessageClose","true")},i.onfinish=()=>{e&&(e.style.top="30px")})}},"true"==localStorage.getItem("initMessageClose")&&(this.initMessageClose=!0),c.toggleSwitchClasses(),c.addBufferOptionsClass(),c.addFlyMenuStyle(),c.addOptionFunctionsClass(),this.zoomStatus=t,this.filterStatus=e,this.readerStatus=i;const a=localStorage.getItem("zoomStatus");a&&(console.log("Hay zoom status guardado",JSON.parse(a)),this.zoomStatus=JSON.parse(a));const r=localStorage.getItem("filterStatus");r&&(console.log("Hay filter status guardado",JSON.parse(r)),this.filterStatus=JSON.parse(r));const d=localStorage.getItem("readerStatus");d&&(console.log("Hay reader status guardado",JSON.parse(d)),this.readerStatus=JSON.parse(d)),this.ZoomObject=new l(this.zoomStatus),this.FilterObject=new s(this.filterStatus),this.ScreenReaderObject=new n(this.readerStatus,this.token)}start(){this.showInitMessage(),this.showFlyMenu(),document.addEventListener("keydown",(t=>{console.log(t.key),this.ZoomObject.activeZoom(this.ScreenReaderObject.enable(),t),this.ScreenReaderObject.keybindsScreenReader(t)}))}showFlyMenu(){const t=document.createElement("div");t.id="fly_menu",t.className="fly_menu",t.style.top=this.initMessageClose?"30px":"70px",t.appendChild(c.svgHuman("#9dd08b")),t.addEventListener("click",this.showOptions),document.body.appendChild(t)}showInitMessage(){let t=document.createElement("div");t=c.mainMessage(t),t.id="eyeeasist-initial-message",this.initMessageClose&&(t.style.display="none");let e=document.createElement("div");e=c.messageContent(e);let s=document.createElement("span");s.textContent="Mensaje de accesibilidad";let i=document.createElement("button");i=c.closeButtom(i),i.addEventListener("click",this.cerrarModal),i.appendChild(c.svgCloseButtom("#000000")),e.appendChild(s),t.appendChild(e),t.appendChild(i),document.body.insertBefore(t,document.body.firstChild)}}(!0,!0,!0).start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YUFBYS9DLEVBQVloRCxTQUFTTSxLQUFLeVMsV0FDekQsSUQzSzhCLEdBQU0sR0FBTSxHQUNuQ04sTyIsInNvdXJjZXMiOlsid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2ZpbHRlci9maWx0ZXItbW9kdWxlL2ZpbHRlcl9zZXJ2aWNlLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2ZpbHRlci9zdHlsZXMvY3NzLWZpbHRlci1jbGFzc2VzLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2ZpbHRlci9maWx0ZXIudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvc2NyZWVuX3JlYWRlci9zY3JlZW5fcmVhZGVyLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3pvb20vc3R5bGVzL2Nzcy16b29tLWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS96b29tLW1vZHVsZS96b29tX3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS96b29tLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL21haW4vc3R5bGVzL2Nzcy1leWVlYXNzaXN0LWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvYXBwLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL21haW4vZXllZWFzc2lzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRmlsdGVyU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaGFzSW5zZXJ0ZWRBY2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVfZmlsdGVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29sb3JCbGluZG5lc3NDbGFzc2VzID0gW1xuICAgICAgICAgICAgXCJwcm90YW5vcGlhXCIsXG4gICAgICAgICAgICBcInByb3Rhbm9tYWx5XCIsXG4gICAgICAgICAgICBcImRldXRlcmFub3BpYVwiLFxuICAgICAgICAgICAgXCJkZXV0ZXJhbm9tYWx5XCIsXG4gICAgICAgICAgICBcInRyaXRhbm9waWFcIixcbiAgICAgICAgICAgIFwidHJpdGFub21hbHlcIixcbiAgICAgICAgICAgIFwiYWNocm9tYXRvcHNpYVwiLFxuICAgICAgICAgICAgXCJhY2hyb21hdG9tYWx5XCIsXG4gICAgICAgICAgICBcImdyYXlzY2FsZVwiXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMudmlzaW9uQ2xhc3NlcyA9IFtcbiAgICAgICAgICAgIFwidmlzaW9uLWxvc3MtbW9kZXJhdGVcIixcbiAgICAgICAgICAgIFwidmlzaW9uLWxvc3Mtc2V2ZXJlXCIsXG4gICAgICAgICAgICBcInZpc2lvbi1ibGluZG5lc3NcIlxuICAgICAgICBdO1xuICAgICAgICB0aGlzLmNzc0ZpbHRlciA9IGBcclxuICA8c3R5bGU+LnByb3Rhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNwcm90YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3Byb3Rhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnByb3Rhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjcHJvdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjcHJvdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmRldXRlcmFub3BpYXstd2Via2l0LWZpbHRlcjp1cmwoI2RldXRlcmFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNkZXV0ZXJhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmRldXRlcmFub21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNkZXV0ZXJhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2RldXRlcmFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRyaXRhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCN0cml0YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3RyaXRhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRyaXRhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjdHJpdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjdHJpdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmFjaHJvbWF0b3BzaWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNhY2hyb21hdG9wc2lhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2FjaHJvbWF0b3BzaWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmFjaHJvbWF0b21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNhY2hyb21hdG9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2FjaHJvbWF0b21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmdyYXlzY2FsZXstd2Via2l0LWZpbHRlcjpncmF5c2NhbGUoMTAwJSkhaW1wb3J0YW50O2ZpbHRlcjpncmF5c2NhbGUoMTAwJSkhaW1wb3J0YW50fS52aXNpb24tbG9zcy1tb2RlcmF0ZSBib2R5Pip7LXdlYmtpdC1maWx0ZXI6Ymx1cigxcHgpIWltcG9ydGFudDtmaWx0ZXI6Ymx1cigxcHgpIWltcG9ydGFudH0udmlzaW9uLWxvc3Mtc2V2ZXJlIGJvZHk+Knstd2Via2l0LWZpbHRlcjpibHVyKDEwcHgpIWltcG9ydGFudDtmaWx0ZXI6Ymx1cigxMHB4KSFpbXBvcnRhbnR9LnZpc2lvbi1ibGluZG5lc3MgYm9keT4qe2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7LXdlYmtpdC1maWx0ZXI6YnJpZ2h0bmVzcygwKSFpbXBvcnRhbnQ7ZmlsdGVyOmJyaWdodG5lc3MoMCkhaW1wb3J0YW50fSNhY2Nlc3MtZmlsdGVye2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7aGVpZ2h0OjFweDttYXJnaW46LTFweDt3aWR0aDoxcHg7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt3b3JkLXdyYXA6bm9ybWFsIWltcG9ydGFudH08L3N0eWxlPmA7XG4gICAgICAgIHRoaXMuc3ZnRmlsdGVyVGVtcGxhdGUgPSBgPHN2ZyBcclxuICBpZD1cImFjY2Vzcy1maWx0ZXJcIlxyXG4gIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXHJcbiAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXHJcbiAgdmVyc2lvbj1cIjEuMVwiPlxyXG4gIDxkZWZzPlxyXG4gICAgPGZpbHRlciBpZD1cInByb3Rhbm9waWFcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuNTY3LCAwLjQzMywgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuNTU4LCAwLjQ0MiwgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjI0MiwgMC43NTgsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJwcm90YW5vbWFseVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC44MTcsIDAuMTgzLCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4zMzMsIDAuNjY3LCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMTI1LCAwLjg3NSwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cImRldXRlcmFub3BpYVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC42MjUsIDAuMzc1LCAwLCAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuNywgICAwLjMsICAgMCwgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4zLCAgIDAuNywgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJkZXV0ZXJhbm9tYWx5XCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjgsICAgMC4yLCAgIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjI1OCwgMC43NDIsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4xNDIsIDAuODU4LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwidHJpdGFub3BpYVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC45NSwgMC4wNSwgIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAwLjQzMywgMC41NjcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgIDAuNDc1LCAwLjUyNSwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwidHJpdGFub21hbHlcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuOTY3LCAwLjAzMywgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjczMywgMC4yNjcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjE4MywgMC44MTcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJhY2hyb21hdG9wc2lhXCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwiYWNocm9tYXRvbWFseVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC42MTgsIDAuMzIwLCAwLjA2MiwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4xNjMsIDAuNzc1LCAwLjA2MiwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4xNjMsIDAuMzIwLCAwLjUxNiwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gIDwvZGVmcz5cclxuPC9zdmc+YDtcbiAgICB9XG4gICAgYXBsaWNhckZpbHRybyhmaWx0cm8pIHtcbiAgICAgICAgaWYgKGZpbHRybyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhcGxpY2FyIGxvcyBmaWx0cm9zLCBsYSBvcGNpb24gbm8gc2UgcGludGFkYSBjb3JyZWN0YW1lbnRlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVGVzdChcImNvbG9yQmxpbmRuZXNzXCIsIGZpbHRybyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRlc3RzKFwiY29sb3JCbGluZG5lc3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVfZmlsdGVyID0gIXRoaXMuYWN0aXZlX2ZpbHRlcjtcbiAgICB9XG4gICAgdG9nZ2xlVGVzdCh0ZXN0VHlwZSwgdGVzdENsYXNzKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNJbnNlcnRlZEFjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRGaWxlcyh0aGlzLnN2Z0ZpbHRlclRlbXBsYXRlLCB0aGlzLmNzc0ZpbHRlcik7XG4gICAgICAgICAgICB0aGlzLmhhc0luc2VydGVkQWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZVRlc3RzKHRlc3RUeXBlKTtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGVzdENsYXNzKTtcbiAgICB9XG4gICAgaW5zZXJ0RmlsZXMoc3ZnLCBjc3MpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgc3ZnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgY3NzKTtcbiAgICB9XG4gICAgcmVtb3ZlVGVzdHModGVzdFR5cGUpIHtcbiAgICAgICAgaWYgKHRlc3RUeXBlID09IFwidmlzaW9uXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aXNpb25DbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy52aXNpb25DbGFzc2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXN0VHlwZSA9PSBcImNvbG9yQmxpbmRuZXNzXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbG9yQmxpbmRuZXNzQ2xhc3Nlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ3NzRmlsdGVyQ2xhc3NlcyB7XG4gICAgc3RhdGljIGFkZEZpbHRlckJ1ZmZlclN0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9idWZmZXIgPSBgXHJcbiAgICAgICAgLmZpbHRlci1saXN0LWJ1ZmZlciB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICAgIHJpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XHJcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGMDA7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShmaWx0ZXJfYnVmZmVyLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBhZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX29wdGlvbiA9IGBcclxuICAgICAgICAuZmlsdGVyLW9wdGlvbiB7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZpbHRlcl9vcHRpb24sIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZpbHRlclN0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9idXR0b24gPSBgXHJcbiAgICAgICAgLmZpbHRlcl9idXR0b24ge1xyXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgdG9wOiAyMHB4O1xyXG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNDNjNWE7XHJcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICB9XHJcbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX2J1dHRvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlclNlcnZpY2UgfSBmcm9tIFwiLi9maWx0ZXItbW9kdWxlL2ZpbHRlcl9zZXJ2aWNlXCI7XG5pbXBvcnQgeyBDc3NGaWx0ZXJDbGFzc2VzIH0gZnJvbSBcIi4vc3R5bGVzL2Nzcy1maWx0ZXItY2xhc3Nlc1wiO1xuZXhwb3J0IGNsYXNzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZW5hYmxlRmlsdGVyID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5lbmFibGVGaWx0ZXIgPSBlbmFibGVGaWx0ZXI7XG4gICAgICAgIHRoaXMuZmlsdGVyVmlld09uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRGaWx0ZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyU2VydmljZS5hcGxpY2FyRmlsdHJvKGNvbXBvbmVudC50ZXh0Q29udGVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd0ZpbHRlck9wdGlvbnNMaXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlsdGVyVmlld09uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcl9idWZmZXJfaW5zdGFuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbHRlcl9idWZmZXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcl9idWZmZXJfaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBoYXkgaW5zdGFuY2lhIGRlbCBidWZmZXIgZGUgb3BjaW9uZXMuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclZpZXdPbiA9ICF0aGlzLmZpbHRlclZpZXdPbjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJMaXN0ID0gW1xuICAgICAgICAgICAgICAgIFwicHJvdGFub3BpYVwiLFxuICAgICAgICAgICAgICAgIFwicHJvdGFub21hbHlcIixcbiAgICAgICAgICAgICAgICBcImRldXRlcmFub3BpYVwiLFxuICAgICAgICAgICAgICAgIFwiZGV1dGVyYW5vbWFseVwiLFxuICAgICAgICAgICAgICAgIFwidHJpdGFub3BpYVwiLFxuICAgICAgICAgICAgICAgIFwidHJpdGFub21hbHlcIixcbiAgICAgICAgICAgICAgICBcImFjaHJvbWF0b3BzaWFcIixcbiAgICAgICAgICAgICAgICBcImFjaHJvbWF0b21hbHlcIixcbiAgICAgICAgICAgICAgICBcImdyYXlzY2FsZVwiLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICBcImNvbG9yc1wiLFxuICAgICAgICAgICAgICAgIFwiZmlsdGVyXCJcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB2YXIgYnVmZmVyTGlzdERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJ1ZmZlckxpc3REaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXItbGlzdC1idWZmZXInO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuaWQgPSAnZmlsdGVyX2J1ZmZlcic7XG4gICAgICAgICAgICB2YXIgZmlsdGVyX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsdGVyX2J1dHRvblwiKTtcbiAgICAgICAgICAgIGlmIChmaWx0ZXJfYnV0dG9uID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzZSBjcmVvIGVsIGJvdG9uIGNvcnJlY3RhbWVudGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlsdGVyX2J1dHRvbi5hcHBlbmRDaGlsZChidWZmZXJMaXN0RGl2RWxlbWVudCk7XG4gICAgICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlckJ1ZmZlclN0eWxlQ2xhc3MoKTtcbiAgICAgICAgICAgIC8qY29sb3JPcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBmaWx0ZXJfYnVmZmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJfYnVmZmVyXCIpO1xuICAgICAgICAgICAgICBmaWx0ZXJfYnVmZmVyLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBidWlsZENvbG9yT3B0aW9ucyhvcHRpb24pKTtcbiAgICAgICAgICAgIH0pKi9cbiAgICAgICAgICAgIGZpbHRlckxpc3QuZm9yRWFjaCgoZmlsdGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlcl9idWZmZXJfaW5zdGFuY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbHRlcl9idWZmZXJcIik7XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcl9idWZmZXJfaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdObyBoYXkgaW5zdGFuY2lhIGRlbCBidWZmZXIgZGUgb3BjaW9uZXMuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZS5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRmlsdGVyT3B0aW9uKGZpbHRlcikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzKCk7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclZpZXdPbiA9ICF0aGlzLmZpbHRlclZpZXdPbjtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maWx0ZXJTZXJ2aWNlID0gbmV3IEZpbHRlclNlcnZpY2UoKTtcbiAgICAgICAgLy90aGlzLnNob3dGaWx0ZXJPcHRpb25zKClcbiAgICB9XG4gICAgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVGaWx0ZXI7XG4gICAgfVxuICAgIHRvZ2dsZVN0YXR1cygpIHtcbiAgICAgICAgdGhpcy5lbmFibGVGaWx0ZXIgPSAhdGhpcy5lbmFibGVGaWx0ZXI7XG4gICAgfVxuICAgIHNob3dGaWx0ZXJPcHRpb25zKCkge1xuICAgICAgICBjb25zdCBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICBpbWFnZS5zcmMgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9FeWVlQXNzaXN0L2RvY3MvYmxvYi9kZXZlbG9wL3NyYy9hc3NldHMvbG9nby5wbmc/cmF3PXRydWVcIjtcbiAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSAnNTBweCc7XG4gICAgICAgIGltYWdlLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgICAgICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZpbHRlcl9idXR0b24nO1xuICAgICAgICBkaXZFbGVtZW50LmlkID0gJ2ZpbHRlcl9idXR0b24nO1xuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgICAgZGl2RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd0ZpbHRlck9wdGlvbnNMaXN0KTtcbiAgICAgICAgQ3NzRmlsdGVyQ2xhc3Nlcy5hZGRGaWx0ZXJTdHlsZUNsYXNzKCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgfVxuICAgIGJ1aWxkRmlsdGVyT3B0aW9uKGZpbHRlck9wdGlvbikge1xuICAgICAgICB2YXIgb3B0aW9uRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXItb3B0aW9uJztcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3RhcnRGaWx0ZXIpO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LnRleHRDb250ZW50ID0gZmlsdGVyT3B0aW9uO1xuICAgICAgICByZXR1cm4gb3B0aW9uRGl2RWxlbWVudDtcbiAgICB9XG59XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBTY3JlZW5SZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHVzZVNjcmVlblJlYWRlciA9IGZhbHNlLCB0b2tlbiA9IFwiXCIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnVzZVNjcmVlblJlYWRlciA9IHVzZVNjcmVlblJlYWRlcjtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLnN5bnRoID0gd2luZG93LnNwZWVjaFN5bnRoZXNpcztcbiAgICAgICAgdGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEFydGljbGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkTGluayA9IG51bGw7XG4gICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMubGlua0luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcjtcbiAgICAgICAgdGhpcy50YWxrID0gKHRleHQsIGNhbmNlbCA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbCA/IHRoaXMuc3ludGguY2FuY2VsKCkgOiBcIiBcIjtcbiAgICAgICAgICAgIHRoaXMuc3ludGguc3BlYWsobmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSh0ZXh0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2FuY2VsVGFsayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGFsayhcIlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLnVzZVNjcmVlblJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xuICAgICAgICBsZXQgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgICAgIChfYSA9IGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gICAgfVxuICAgIHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlU2NyZWVuUmVhZGVyO1xuICAgIH1cbiAgICB0b2dnbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMudXNlU2NyZWVuUmVhZGVyID0gIXRoaXMudXNlU2NyZWVuUmVhZGVyO1xuICAgIH1cbiAgICBlbmFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjcmVlblJlYWRlclN0YXR1cztcbiAgICB9XG4gICAgc2F5V2VsY29tZSgpIHtcbiAgICAgICAgdGhpcy50YWxrKFwiSG9sYSBiaWVudmVuaWRvIGEgbGEgcGFnaW5hIFgsIHNpIGRlc2VhIGxlZXIgbGFzIGFjY2lvbmVzIGRlIGxhIHBhZ2luYSBwcmVzaW9uZSBjb250cm9sIHkgZW50ZXJcIik7XG4gICAgfVxuICAgIHNheUdvb2RiYXkoKSB7XG4gICAgICAgIHRoaXMudGFsayhcIkdyYWNpYXMgcG9yIHV0aWxpemFyIGV5ZWVhc3Npc3RcIik7XG4gICAgfVxuICAgIGtleWJpbmRzU2NyZWVuUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVhZGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy5yZVJlYWQoZXZlbnQpO1xuICAgICAgICB0aGlzLmFjdGl2ZVNjcmVlblJlYWRlcihldmVudCk7XG4gICAgICAgIHRoaXMubW92ZUJldHdlZW5Db250ZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy5tb3ZlQmV0d2VlbkxpbmtzKGV2ZW50KTtcbiAgICB9XG4gICAgZ2V0SW1hZ2Uoc3JjKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXREZXNjcmlwdGlvbihibG9iKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYmxvYiwgJ2ltYWdlbi5qcGcnKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRoaXMudG9rZW5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jYXB0aW9uJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHlpZWxkIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24ubWVzc2FnZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVhZENoaWxkcyhhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChhcnRpY2xlLm5vZGVOYW1lID09ICdJRlJBTUUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsYXllciA9IG5ldyBZVC5QbGF5ZXIoYXJ0aWNsZSwge30pO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlTmFtZSA9PSAnSU1HJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGVuY29udHJhZGEnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbGV0IGltZyA9IGFydGljbGU7XG4gICAgICAgICAgICAgICAgaWYgKGltZy5hbHQgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGRlICcgKyBpbWcuYWx0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuZ2V0SW1hZ2UoaW1nLnNyYyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB5aWVsZCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnZGVzY3JpYmllbmRvIGltYWdlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB5aWVsZCB0aGlzLmdldERlc2NyaXB0aW9uKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24gIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKCdJbWFnZW4gZGUgJyArIGRlc2NyaXB0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ05vIHNlIHB1ZG8gZ2VuZXJhciB1bmEgZGVzY3JpcGNpb24gcGFyYSBsYSBpbWFnZW4gZW5jb250cmFkYS4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERSAmJiAoKF9hID0gYXJ0aWNsZS50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoYXJ0aWNsZS50ZXh0Q29udGVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBBcnJheS5mcm9tKGFydGljbGUuY2hpbGROb2RlcykpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnJlYWRDaGlsZHMoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbW92ZUJldHdlZW5Db250ZW50KGV2ZW50KSB7XG4gICAgICAgIGxldCB0YWdzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhcnRpY2xlXCIpO1xuICAgICAgICBpZiAodGFncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjcmVlblJlYWRlclN0YXR1cyAmJlxuICAgICAgICAgICAgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYXJyb3dyaWdodFwiKSB7XG4gICAgICAgICAgICB0aGlzLmFydGljbGVJbmRleCArPSAxO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFydGljbGUgPSB0YWdzW3RoaXMuYXJ0aWNsZUluZGV4XTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsVGFsaygpO1xuICAgICAgICAgICAgdGhpcy5yZWFkQ2hpbGRzKHRoaXMuc2VsZWN0ZWRBcnRpY2xlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGVJbmRleCA9PT0gdGFncy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjcmVlblJlYWRlclN0YXR1cyAmJlxuICAgICAgICAgICAgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYXJyb3dsZWZ0XCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFydGljbGVJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVJbmRleCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZUluZGV4ID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggPSB0YWdzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVJbmRleCAtPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBcnRpY2xlID0gdGFnc1t0aGlzLmFydGljbGVJbmRleF07XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFRhbGsoKTtcbiAgICAgICAgICAgIHRoaXMucmVhZENoaWxkcyh0aGlzLnNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWN0aXZlU2NyZWVuUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnVzZVNjcmVlblJlYWRlciAmJiBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcIiBcIikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNjcmVlblJlYWRlclN0YXR1cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2F5V2VsY29tZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXlHb29kYmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjcmVlblJlYWRlclN0YXR1cyA9ICF0aGlzLnNjcmVlblJlYWRlclN0YXR1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlQmV0d2VlbkxpbmtzKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnNjcmVlblJlYWRlclN0YXR1cyAmJlxuICAgICAgICAgICAgZXZlbnQuY3RybEtleSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVudGVyXCIgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJlbnRlclwiKSB7XG4gICAgICAgICAgICBsZXQgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGV4dF9yZWFkZXJfbGlua1wiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmtzW3RoaXMubGlua0luZGV4XS50YWdOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbGlua3NbdGhpcy5saW5rSW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuZm9jdXMoKTtcbiAgICAgICAgICAgIGlmIChsaW5rc1t0aGlzLmxpbmtJbmRleF0udGFnTmFtZSA9PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluay5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkTGluayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50YWxrKFwiU2VsZWNjaW9uYWRvIHVuIHRleHQgYXJlYVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkTGluay50ZXh0Q29udGVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZExpbmsudGV4dENvbnRlbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmxpbmtJbmRleCA9PT0gbGlua3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlua0luZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGlua0luZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnVzZVNjcmVlblJlYWRlciAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJlc2NhcGVcIikge1xuICAgICAgICAgICAgdGhpcy50YWxrKFwiXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlUmVhZChldmVudCkge1xuICAgICAgICBpZiAodGhpcy51c2VTY3JlZW5SZWFkZXIgJiYgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJiYWNrc3BhY2VcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBcnRpY2xlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsodGhpcy5zZWxlY3RlZEFydGljbGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc3NDbGFzc2VzIHtcbiAgICBzdGF0aWMgYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTtcbiAgICAgICAgdmFyIGNzc1J1bGUgPSBgLnpvb20tbWVzc2FnZS10eHRib3ggeyAgXHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICBsZWZ0OiA1MCU7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcclxuICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRjAwO1xyXG4gICAgICAgICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICAgICAgICBmb250LXNpemU6IDIwcmVtO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgd2lkdGg6IDgwJTtcclxuICAgICAgICAgIGhlaWdodDogODAlO1xyXG4gICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGNzc1J1bGUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgWm9vbVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gPSA4MDA7XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgICAgICB0aGlzLm1vdXNlWCA9IDA7XG4gICAgICAgIHRoaXMubW91c2VZID0gMDtcbiAgICAgICAgdGhpcy5wYW5FbmdhZ2VUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMucGFuVXBkYXRlSW50ZXJ2YWwgPSAtMTtcbiAgICAgICAgdGhpcy5jYWxsYmFja1RpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMgPSAnV2Via2l0VHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAnTW96VHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAnbXNUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdPVHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlIHx8XG4gICAgICAgICAgICAndHJhbnNmb3JtJyBpbiBkb2N1bWVudC5ib2R5LnN0eWxlO1xuICAgICAgICB0aGlzLmtleXVwRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxldmVsICE9PSAxICYmIGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXQodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWCA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3VzZVkgPSBldmVudC5jbGllbnRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIC8vIFRoZSBlYXNpbmcgdGhhdCB3aWxsIGJlIGFwcGxpZWQgd2hlbiB3ZSB6b29tIGluL291dFxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2l0aW9uID0gJ3RyYW5zZm9ybSAnICsgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsgJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk9UcmFuc2l0aW9uID0gJy1vLXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zaXRpb24gPSAnLW1zLXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2l0aW9uID0gJy1tb3otdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSAnLXdlYmtpdC10cmFuc2Zvcm0gJysgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsnbXMgZWFzZSc7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmtleXVwRXZlbnQpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUV2ZW50KTtcbiAgICB9XG4gICAgbWFnbmlmeShyZWN0LCBzY2FsZSkge1xuICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgLy8gRW5zdXJlIGEgd2lkdGgvaGVpZ2h0IGlzIHNldFxuICAgICAgICByZWN0LndpZHRoID0gcmVjdC53aWR0aCB8fCAxO1xuICAgICAgICByZWN0LmhlaWdodCA9IHJlY3QuaGVpZ2h0IHx8IDE7XG4gICAgICAgIC8vIENlbnRlciB0aGUgcmVjdCB3aXRoaW4gdGhlIHpvb21lZCB2aWV3cG9ydFxuICAgICAgICByZWN0LnggLT0gKHdpbmRvdy5pbm5lcldpZHRoIC0gKHJlY3Qud2lkdGggKiBzY2FsZSkpIC8gMjtcbiAgICAgICAgcmVjdC55IC09ICh3aW5kb3cuaW5uZXJIZWlnaHQgLSAocmVjdC5oZWlnaHQgKiBzY2FsZSkpIC8gMjtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUcmFuc2Zvcm1zKSB7XG4gICAgICAgICAgICAvLyBSZXNldFxuICAgICAgICAgICAgaWYgKHNjYWxlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTY2FsZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHNjcm9sbE9mZnNldC54ICsgJ3B4ICcgKyBzY3JvbGxPZmZzZXQueSArICdweCcsIHRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoJyArIC1yZWN0LnggKyAncHgsJyArIC1yZWN0LnkgKyAncHgpIHNjYWxlKCcgKyBzY2FsZSArICcpJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUubXNUcmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuTW96VHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBSZXNldFxuICAgICAgICAgICAgaWYgKHNjYWxlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbiA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjYWxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmxlZnQgPSAoLShzY3JvbGxPZmZzZXQueCArIHJlY3QueCkgLyBzY2FsZSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudG9wID0gKC0oc2Nyb2xsT2Zmc2V0LnkgKyByZWN0LnkpIC8gc2NhbGUpICsgJ3B4JztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gKHNjYWxlICogMTAwKSArICclJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IChzY2FsZSAqIDEwMCkgKyAnJSc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxldmVsID0gc2NhbGU7XG4gICAgfVxuICAgIHBhbigpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gMC4xMiwgcmFuZ2VYID0gd2luZG93LmlubmVyV2lkdGggKiByYW5nZSwgcmFuZ2VZID0gd2luZG93LmlubmVySGVpZ2h0ICogcmFuZ2UsIHNjcm9sbE9mZnNldCA9IHRoaXMuZ2V0U2Nyb2xsT2Zmc2V0KCk7XG4gICAgICAgIC8vIFVwXG4gICAgICAgIGlmICh0aGlzLm1vdXNlWSA8IHJhbmdlWSkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCwgc2Nyb2xsT2Zmc2V0LnkgLSAoMSAtICh0aGlzLm1vdXNlWSAvIHJhbmdlWSkpICogKDE0IC8gdGhpcy5sZXZlbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvd25cbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZVkgPiB3aW5kb3cuaW5uZXJIZWlnaHQgLSByYW5nZVkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoc2Nyb2xsT2Zmc2V0LngsIHNjcm9sbE9mZnNldC55ICsgKDEgLSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5tb3VzZVkpIC8gcmFuZ2VZKSAqICgxNCAvIHRoaXMubGV2ZWwpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZWZ0XG4gICAgICAgIGlmICh0aGlzLm1vdXNlWCA8IHJhbmdlWCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCAtICgxIC0gKHRoaXMubW91c2VYIC8gcmFuZ2VYKSkgKiAoMTQgLyB0aGlzLmxldmVsKSwgc2Nyb2xsT2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJpZ2h0XG4gICAgICAgIGVsc2UgaWYgKHRoaXMubW91c2VYID4gd2luZG93LmlubmVyV2lkdGggLSByYW5nZVgpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGwoc2Nyb2xsT2Zmc2V0LnggKyAoMSAtICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMubW91c2VYKSAvIHJhbmdlWCkgKiAoMTQgLyB0aGlzLmxldmVsKSwgc2Nyb2xsT2Zmc2V0LnkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFNjcm9sbE9mZnNldCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHdpbmRvdy5zY3JvbGxYICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2Nyb2xsWCA6IHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgIHk6IHdpbmRvdy5zY3JvbGxZICE9PSB1bmRlZmluZWQgPyB3aW5kb3cuc2Nyb2xsWSA6IHdpbmRvdy5wYWdlWU9mZnNldFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0byhvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLmxldmVsICE9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLm91dCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucy54ID0gb3B0aW9ucy54IHx8IDA7XG4gICAgICAgICAgICBvcHRpb25zLnkgPSBvcHRpb25zLnkgfHwgMDtcbiAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgaXMgc2V0LCB0aGF0IHRha2VzIHByZWNlZGVuY2VcbiAgICAgICAgICAgIGlmICghIW9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFNwYWNlIGFyb3VuZCB0aGUgem9vbWVkIGluIGVsZW1lbnQgdG8gbGVhdmUgb24gc2NyZWVuXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0eXBlb2Ygb3B0aW9ucy5wYWRkaW5nID09PSAnbnVtYmVyJyA/IG9wdGlvbnMucGFkZGluZyA6IDIwO1xuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBvcHRpb25zLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ID0gYm91bmRzLmxlZnQgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueSA9IGJvdW5kcy50b3AgLSBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkdGggPSBib3VuZHMud2lkdGggKyAocGFkZGluZyAqIDIpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVpZ2h0ID0gYm91bmRzLmhlaWdodCArIChwYWRkaW5nICogMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3aWR0aC9oZWlnaHQgdmFsdWVzIGFyZSBzZXQsIGNhbGN1bGF0ZSBzY2FsZSBmcm9tIHRob3NlIHZhbHVlc1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMud2lkdGggIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY2FsZSA9IE1hdGgubWF4KE1hdGgubWluKHdpbmRvdy5pbm5lcldpZHRoIC8gb3B0aW9ucy53aWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC8gb3B0aW9ucy5oZWlnaHQpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNjYWxlID4gMSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueCAqPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueSAqPSBvcHRpb25zLnNjYWxlO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMueCA9IE1hdGgubWF4KG9wdGlvbnMueCwgMCk7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ID0gTWF0aC5tYXgob3B0aW9ucy55LCAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1hZ25pZnkob3B0aW9ucywgb3B0aW9ucy5zY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFuICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbkVuZ2FnZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMuY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwsIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrVGltZW91dCA9IHNldFRpbWVvdXQob3B0aW9ucy5jYWxsYmFjaywgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMucGFuVXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLnBhbiwgMTAwMCAvIDYwKTtcbiAgICB9XG4gICAgb3V0KG9wdGlvbnMpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGFuRW5nYWdlVGltZW91dCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wYW5VcGRhdGVJbnRlcnZhbCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNhbGxiYWNrVGltZW91dCk7XG4gICAgICAgIHRoaXMubWFnbmlmeShuZXcgT3B0aW9uc1pvb20oMCwgMCwgMSksIDEpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChvcHRpb25zLmNhbGxiYWNrLCB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV2ZWwgPSAxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPcHRpb25zWm9vbSB7XG4gICAgY29uc3RydWN0b3IoeCwgeSwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy54ID0gMDtcbiAgICAgICAgdGhpcy55ID0gMDtcbiAgICAgICAgdGhpcy5zY2FsZSA9IDA7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDc3NDbGFzc2VzIH0gZnJvbSBcIi4vc3R5bGVzL2Nzcy16b29tLWNsYXNzZXNcIjtcbmltcG9ydCB7IFpvb21TZXJ2aWNlLCBPcHRpb25zWm9vbSB9IGZyb20gXCIuL3pvb20tbW9kdWxlL3pvb21fc2VydmljZVwiO1xuZXhwb3J0IGNsYXNzIFpvb20ge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZVpvb21PcHRpb25zID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5lbmFibGVab29tT3B0aW9ucyA9IGVuYWJsZVpvb21PcHRpb25zO1xuICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3RpdmVfbWVzc2FnZSA9IGA8ZGl2IGlkPVwiem9vbS1zdGF0dXNcIiBjbGFzcz1cInpvb20tbWVzc2FnZS10eHRib3hcIj5PbjwvZGl2PmA7XG4gICAgICAgIHRoaXMuZGVhY3RpdmVfbWVzc2FnZSA9IGA8ZGl2IGlkPVwiem9vbS1zdGF0dXNcIiBjbGFzcz1cInpvb20tbWVzc2FnZS10eHRib3hcIj5PZmY8L2Rpdj5gO1xuICAgICAgICB0aGlzLnRvb2dsZVpvb20gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuem9vbVNlcnZpY2UudG8obmV3IE9wdGlvbnNab29tKGV2ZW50LngsIGV2ZW50LnksIDEwKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuem9vbVNlcnZpY2UgPSBuZXcgWm9vbVNlcnZpY2UoKTtcbiAgICB9XG4gICAgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVab29tT3B0aW9ucztcbiAgICB9XG4gICAgdG9vZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLmVuYWJsZVpvb21PcHRpb25zID0gIXRoaXMuZW5hYmxlWm9vbU9wdGlvbnM7XG4gICAgfVxuICAgIGFjdGl2ZVpvb20oc2NyZWVuUmVhZGVyQWN0aXZlLCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlWm9vbU9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNjcmVlblJlYWRlckFjdGl2ZSAmJiBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICBDc3NDbGFzc2VzLmFkZFpvb21NZXNzYWdlVGV4dEJveENsYXNzKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxDbGlja0V2ZW50KGRvY3VtZW50LmJvZHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXRpYWxDbGlja0V2ZW50KGJvZHkpIHtcbiAgICAgICAgaWYgKCF0aGlzLnpvb21TdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JveE1lc3NhZ2UoYm9keSwgdGhpcy5hY3RpdmVfbWVzc2FnZSwgIXRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dCb3hNZXNzYWdlKGJvZHksIHRoaXMuZGVhY3RpdmVfbWVzc2FnZSwgIXRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy56b29tU3RhdHVzID0gIXRoaXMuem9vbVN0YXR1cztcbiAgICB9XG4gICAgc2hvd0JveE1lc3NhZ2UoYm9keSwgbWVzc2FnZSwgc3RhdHVzKSB7XG4gICAgICAgIGJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgbWVzc2FnZSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgem9vbV9tZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ6b29tLXN0YXR1c1wiKTtcbiAgICAgICAgICAgIHpvb21fbWVzc2FnZSA9PT0gbnVsbCB8fCB6b29tX21lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21fbWVzc2FnZS5yZW1vdmUoKTtcbiAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgIHN0YXR1cyA/IGJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRvb2dsZVpvb20pIDogYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy50b29nbGVab29tKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ3NzRXllZWFzc2lzdENsYXNzZXMge1xuICAgIHN0YXRpYyBtYWluTWVzc2FnZShkaXYpIHtcbiAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGRpdi5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5hbGlnbkNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmp1c3RpZnlJdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAgICAgZGl2LnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgICAgIGRpdi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjhmOGY4JztcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9ICc5OTknO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cbiAgICBzdGF0aWMgbWVzc2FnZUNvbnRlbnQoZGl2KSB7XG4gICAgICAgIGRpdi5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmZsZXggPSAnMSc7XG4gICAgICAgIHJldHVybiBkaXY7XG4gICAgfVxuICAgIHN0YXRpYyBjbG9zZUJ1dHRvbShidXR0b24pIHtcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSAnbm9uZSc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gJzAnO1xuICAgICAgICBidXR0b24uc3R5bGUubWFyZ2luID0gJzAnO1xuICAgICAgICBidXR0b24uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBidXR0b24uc3R5bGUud2lkdGggPSAnNTBweCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5oZWlnaHQgPSAnNTBweCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5hbGlnblNlbGYgPSAnZmxleC1lbmQnO1xuICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmx5TWVudVN0eWxlKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCBmbHlfbWVudSA9IGBcclxuICAgICAgICAuZmx5X21lbnUge1xyXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgcmlnaHQ6IDcwcHg7XHJcbiAgICAgICAgICB3aWR0aDogNTBweDtcclxuICAgICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNDNjNWE7XHJcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcclxuICAgICAgICAgIGZpbGw6ICNmZmZmZmY7XHJcbiAgICAgICAgICBzdHJva2U6ICNmZmZmZmY7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZseV9tZW51LCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdIdW1hbihjb2xvcikge1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwieG1sbnNcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDI0IDI0XCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJub25lXCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBjb2xvcik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIFwiMlwiKTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtbGluZWNhcFwiLCBcInJvdW5kXCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZS1saW5lam9pblwiLCBcInJvdW5kXCIpO1xuICAgICAgICAvLyBDcmVhciBjw61yY3Vsb1xuICAgICAgICBjb25zdCBjaXJjbGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJjaXJjbGVcIik7XG4gICAgICAgIGNpcmNsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiY3hcIiwgXCIxMlwiKTtcbiAgICAgICAgY2lyY2xlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjeVwiLCBcIjVcIik7XG4gICAgICAgIGNpcmNsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiclwiLCBcIjFcIik7XG4gICAgICAgIC8vIENyZWFyIHBhdGggMVxuICAgICAgICBjb25zdCBwYXRoMUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGgxRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTkgMjBsMy02IDMgNlwiKTtcbiAgICAgICAgLy8gQ3JlYXIgcGF0aCAyXG4gICAgICAgIGNvbnN0IHBhdGgyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aDJFbGVtZW50LnNldEF0dHJpYnV0ZShcImRcIiwgXCJNNiA4bDYgMiA2LTJcIik7XG4gICAgICAgIC8vIENyZWFyIHBhdGggM1xuICAgICAgICBjb25zdCBwYXRoM0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGgzRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTEyIDEwdjRcIik7XG4gICAgICAgIC8vIEFncmVnYXIgZWxlbWVudG9zIGFsIFNWR1xuICAgICAgICBzdmdFbGVtZW50LmFwcGVuZENoaWxkKGNpcmNsZUVsZW1lbnQpO1xuICAgICAgICBzdmdFbGVtZW50LmFwcGVuZENoaWxkKHBhdGgxRWxlbWVudCk7XG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aDJFbGVtZW50KTtcbiAgICAgICAgc3ZnRWxlbWVudC5hcHBlbmRDaGlsZChwYXRoM0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIHN2Z0Nsb3NlQnV0dG9tKGNvbG9yKSB7XG4gICAgICAgIC8vIENyZWFyIHVuIGVsZW1lbnRvIFNWR1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBjb2xvcik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCAzMiAzMlwiKTtcbiAgICAgICAgLy8gQ3JlYXIgdW4gZWxlbWVudG8gcGF0aFxuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk03LjAwNCAyMy4wODdsNy4wOC03LjA4MS03LjA3LTcuMDcxTDguOTI5IDcuMDJsNy4wNjcgNy4wNjlMMjMuMDg0IDdsMS45MTIgMS45MTMtNy4wODkgNy4wOTMgNy4wNzUgNy4wNzctMS45MTIgMS45MTMtNy4wNzQtNy4wNzNMOC45MTcgMjV6XCIpO1xuICAgICAgICAvLyBBZ3JlZ2FyIGVsIGVsZW1lbnRvIHBhdGggYWwgU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIGFkZEJ1ZmZlck9wdGlvbnNDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgYnVmZmVyX29wdGlvbnMgPSBgXHJcbiAgICAgICAgLmJ1ZmZlcl9vcHRpb25zIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB0b3A6IDIwJTtcclxuICAgICAgICAgICAgcmlnaHQ6IDEwJTtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQzYzVhO1xyXG4gICAgICAgICAgICBjb2xvcjogIzlkZDA4YjtcclxuICAgICAgICB9XHJcbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoYnVmZmVyX29wdGlvbnMsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaENsYXNzZXMoKSB7XG4gICAgICAgIHRoaXMudG9vZ2xlU3dpdGNoQ2xhc3MoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hDaXJjbGUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hBY3RpdmUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hBbmltYXRpb24oKTtcbiAgICB9XG4gICAgc3RhdGljIHRvb2dsZVN3aXRjaENsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCB0b2dnbGVfc3dpdGNoID0gYFxyXG4gICAgICAgIC50b2dnbGUtc3dpdGNoIHtcclxuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIHRyYW5zZm9ybSAwLjNzO1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyB0b2dnbGVTd2l0Y2hDaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2hfY2lyY2xlID0gYFxyXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLWNpcmNsZSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzO1xyXG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUodG9nZ2xlX3N3aXRjaF9jaXJjbGUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaEFjdGl2ZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9hcnRpdmUgPSBgXHJcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2guYWN0aXZlIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJlY2M3MTtcclxuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2hfYXJ0aXZlLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyB0b2dnbGVTd2l0Y2hBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2hfYW5pbWF0aW9uID0gYFxyXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLmFjdGl2ZSAudG9nZ2xlLXN3aXRjaC1jaXJjbGUge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMzBweCk7XHJcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoX2FuaW1hdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkT3B0aW9uRnVuY3Rpb25zQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IG9wdGlvbl9mdW5jdGlvbnMgPSBgXHJcbiAgICAgICAgLm9wdGlvbl9tZW51X2V5ZWVhc3Npc3Qge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShvcHRpb25fZnVuY3Rpb25zLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXllZWFzc2lzdCB9IGZyb20gXCIuL21haW4vZXllZWFzc2lzdFwiO1xuY29uc3QgZXllZWFzc2lzdCA9IG5ldyBFeWVlYXNzaXN0KHRydWUsIHRydWUsIHRydWUpO1xuZXllZWFzc2lzdC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uL2ZpbHRlci9maWx0ZXJcIjtcbmltcG9ydCB7IFNjcmVlblJlYWRlciB9IGZyb20gXCIuLi9zY3JlZW5fcmVhZGVyL3NjcmVlbl9yZWFkZXJcIjtcbmltcG9ydCB7IFpvb20gfSBmcm9tIFwiLi4vem9vbS96b29tXCI7XG5pbXBvcnQgeyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZXllZWFzc2lzdC1jbGFzc2VzXCI7XG5leHBvcnQgY2xhc3MgRXllZWFzc2lzdCB7XG4gICAgY29uc3RydWN0b3Ioem9vbVN0YXR1cyA9IGZhbHNlLCBmaWx0ZXJTdGF0dXMgPSBmYWxzZSwgcmVhZGVyU3RhdHVzID0gZmFsc2UsIHRva2VuID0gJycpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmFuaW1hY2lvbkVuUHJvZ3Jlc28gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbml0TWVzc2FnZUNsb3NlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlld09wdGlvbnNPbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1aWxkT3B0aW9uID0gKG9wdGlvbk5hbWUsIHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBvcHRpb24uY2xhc3NOYW1lID0gJ29wdGlvbl9tZW51X2V5ZWVhc3Npc3QnO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9wdGlvbk5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uTmFtZTtcbiAgICAgICAgICAgIG9wdGlvbk5hbWVFbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcyMHB4JztcbiAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChvcHRpb25OYW1lRWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVTd2l0Y2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaC5jbGFzc05hbWUgPSAndG9nZ2xlLXN3aXRjaCc7XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guaWQgPSAndG9nZ2xlU3dpdGNoJyArIG9wdGlvbk5hbWU7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVTd2l0Y2hDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaENpcmNsZS5jbGFzc05hbWUgPSBcInRvZ2dsZS1zd2l0Y2gtY2lyY2xlXCI7XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guYXBwZW5kQ2hpbGQodG9nZ2xlU3dpdGNoQ2lyY2xlKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVTd2l0Y2guY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRvZ2dsZVN3aXRjaC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b2dnbGVTd2l0Y2hab29tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuWm9vbU9iamVjdC50b29nbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6b29tU3RhdHVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5ab29tT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9nZ2xlU3dpdGNoQ29sb3JzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0LnRvZ2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpbHRlclN0YXR1cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9nZ2xlU3dpdGNoUmVhZGVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LnRvZ2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlYWRlclN0YXR1cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9nZ2xlU3dpdGNoLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQodG9nZ2xlU3dpdGNoKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd09wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTW9zdHJhbmRvIG9wY2lvbmVzJyk7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3T3B0aW9uc09uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyTGlzdE9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVmZmVyX29wdGlvbnMnKTtcbiAgICAgICAgICAgICAgICBidWZmZXJMaXN0T3B0aW9ucyA9PT0gbnVsbCB8fCBidWZmZXJMaXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyTGlzdE9wdGlvbnMucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uc09uID0gIXRoaXMudmlld09wdGlvbnNPbjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWZmZXJMaXN0T3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuaWQgPSAnYnVmZmVyX29wdGlvbnMnO1xuICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuY2xhc3NOYW1lID0gJ2J1ZmZlcl9vcHRpb25zJztcbiAgICAgICAgICAgIC8vQ3JlYXIgb3BjaW9uZXNcbiAgICAgICAgICAgIGNvbnN0IG9wY2lvbmVzID0gW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1pvb20nLCBzdGF0dXM6IHRoaXMuWm9vbU9iamVjdC5zdGF0dXMoKSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NvbG9ycycsIHN0YXR1czogdGhpcy5GaWx0ZXJPYmplY3Quc3RhdHVzKCkgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdSZWFkZXInLCBzdGF0dXM6IHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LnN0YXR1cygpIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgb3BjaW9uZXMuZm9yRWFjaCgob3BjaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5idWlsZE9wdGlvbihvcGNpb24ubmFtZSwgb3BjaW9uLnN0YXR1cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJ1ZmZlckxpc3RPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMudmlld09wdGlvbnNPbiA9ICF0aGlzLnZpZXdPcHRpb25zT247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2VycmFyTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lbnNhamUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXllZWFzaXN0LWluaXRpYWwtbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZseU1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmx5X21lbnUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hY2lvbkVuUHJvZ3Jlc28gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIENyZWEgdW5hIGFuaW1hY2nDs24gdXNhbmRvIGxhIEFQSSBkZSBhbmltYWNpw7NuIGRlIENTU1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hY2lvbiA9IG1lbnNhamUgPT09IG51bGwgfHwgbWVuc2FqZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVuc2FqZS5hbmltYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJyB9LFxuICAgICAgICAgICAgICAgICAgICB7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEwMCUpJyB9XG4gICAgICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcgLy8gVGlwbyBkZSBpbnRlcnBvbGFjacOzblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZseUFuaW1hdGlvbiA9IGZseU1lbnUgPT09IG51bGwgfHwgZmx5TWVudSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmx5TWVudS5hbmltYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgeyB0b3A6ICc3MHB4JyB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRvcDogJzMwcHgnIH0sIC8vIEVzdGFkbyBmaW5hbFxuICAgICAgICAgICAgICAgIF0sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2UnLCAvLyBGdW5jacOzbiBkZSB0ZW1wb3JpemFjacOzbiAocHVlZGVzIGNhbWJpYXJsYSBzZWfDum4gdHVzIG5lY2VzaWRhZGVzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYWNpb24gJiYgZmx5QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hY2lvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW5zYWplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVuc2FqZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYWNpb25FblByb2dyZXNvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaW5pdE1lc3NhZ2VDbG9zZScsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGZseUFuaW1hdGlvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbHlNZW51KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmx5TWVudS5zdHlsZS50b3AgPSAnMzBweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbml0TWVzc2FnZVN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpbml0TWVzc2FnZUNsb3NlJyk7XG4gICAgICAgIGlmIChpbml0TWVzc2FnZVN0YXR1cyA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMudG9nZ2xlU3dpdGNoQ2xhc3NlcygpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5hZGRCdWZmZXJPcHRpb25zQ2xhc3MoKTtcbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMuYWRkRmx5TWVudVN0eWxlKCk7XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLmFkZE9wdGlvbkZ1bmN0aW9uc0NsYXNzKCk7XG4gICAgICAgIHRoaXMuem9vbVN0YXR1cyA9IHpvb21TdGF0dXM7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhdHVzID0gZmlsdGVyU3RhdHVzO1xuICAgICAgICB0aGlzLnJlYWRlclN0YXR1cyA9IHJlYWRlclN0YXR1cztcbiAgICAgICAgY29uc3Qgc2F2ZWRab29tU3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3pvb21TdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkWm9vbVN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSB6b29tIHN0YXR1cyBndWFyZGFkbycsIEpTT04ucGFyc2Uoc2F2ZWRab29tU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkWm9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWRGaWx0ZXJTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlsdGVyU3RhdHVzJyk7XG4gICAgICAgIGlmIChzYXZlZEZpbHRlclN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSBmaWx0ZXIgc3RhdHVzIGd1YXJkYWRvJywgSlNPTi5wYXJzZShzYXZlZEZpbHRlclN0YXR1cykpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkRmlsdGVyU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZFJlYWRlclN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWFkZXJTdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkUmVhZGVyU3RhdHVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF5IHJlYWRlciBzdGF0dXMgZ3VhcmRhZG8nLCBKU09OLnBhcnNlKHNhdmVkUmVhZGVyU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnJlYWRlclN0YXR1cyA9IEpTT04ucGFyc2Uoc2F2ZWRSZWFkZXJTdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuWm9vbU9iamVjdCA9IG5ldyBab29tKHRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0ID0gbmV3IEZpbHRlcih0aGlzLmZpbHRlclN0YXR1cyk7XG4gICAgICAgIHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0ID0gbmV3IFNjcmVlblJlYWRlcih0aGlzLnJlYWRlclN0YXR1cywgdGhpcy50b2tlbik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNob3dJbml0TWVzc2FnZSgpO1xuICAgICAgICB0aGlzLnNob3dGbHlNZW51KCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcbiAgICAgICAgICAgIHRoaXMuWm9vbU9iamVjdC5hY3RpdmVab29tKHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LmVuYWJsZSgpLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLlNjcmVlblJlYWRlck9iamVjdC5rZXliaW5kc1NjcmVlblJlYWRlcihldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaG93Rmx5TWVudSgpIHtcbiAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50LmlkID0gJ2ZseV9tZW51JztcbiAgICAgICAgZGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmx5X21lbnUnO1xuICAgICAgICBkaXZFbGVtZW50LnN0eWxlLnRvcCA9IHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSA/ICczMHB4JyA6ICc3MHB4JztcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdIdW1hbignIzlkZDA4YicpKTtcbiAgICAgICAgZGl2RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd09wdGlvbnMpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgIH1cbiAgICBzaG93SW5pdE1lc3NhZ2UoKSB7XG4gICAgICAgIGxldCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdkVsZW1lbnQgPSBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5tYWluTWVzc2FnZShkaXZFbGVtZW50KTtcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdleWVlYXNpc3QtaW5pdGlhbC1tZXNzYWdlJztcbiAgICAgICAgaWYgKHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSkge1xuICAgICAgICAgICAgZGl2RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXZFbGVtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdkVsZW1lbnRDb250YWluZXIgPSBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5tZXNzYWdlQ29udGVudChkaXZFbGVtZW50Q29udGFpbmVyKTtcbiAgICAgICAgbGV0IHNwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuRWxlbWVudC50ZXh0Q29udGVudCA9ICdNZW5zYWplIGRlIGFjY2VzaWJpbGlkYWQnO1xuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b25FbGVtZW50ID0gQ3NzRXllZWFzc2lzdENsYXNzZXMuY2xvc2VCdXR0b20oYnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNlcnJhck1vZGFsKTtcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdDbG9zZUJ1dHRvbSgnIzAwMDAwMCcpKTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuRWxlbWVudCk7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudENvbnRhaW5lcik7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGRpdkVsZW1lbnQsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkZpbHRlclNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJoYXNJbnNlcnRlZEFjY2VzcyIsImFjdGl2ZV9maWx0ZXIiLCJjb2xvckJsaW5kbmVzc0NsYXNzZXMiLCJ2aXNpb25DbGFzc2VzIiwiY3NzRmlsdGVyIiwic3ZnRmlsdGVyVGVtcGxhdGUiLCJhcGxpY2FyRmlsdHJvIiwiZmlsdHJvIiwicmVtb3ZlVGVzdHMiLCJ0b2dnbGVUZXN0IiwiY29uc29sZSIsImVycm9yIiwidGVzdFR5cGUiLCJ0ZXN0Q2xhc3MiLCJpbnNlcnRGaWxlcyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3ZnIiwiY3NzIiwiYm9keSIsImluc2VydEFkamFjZW50SFRNTCIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJDc3NGaWx0ZXJDbGFzc2VzIiwiYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcyIsInN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0cyIsImluc2VydFJ1bGUiLCJjc3NSdWxlcyIsImFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzIiwiYWRkRmlsdGVyU3R5bGVDbGFzcyIsIkZpbHRlciIsImVuYWJsZUZpbHRlciIsImZpbHRlclZpZXdPbiIsInN0YXJ0RmlsdGVyIiwiZXZlbnQiLCJjb21wb25lbnQiLCJ0YXJnZXQiLCJmaWx0ZXJTZXJ2aWNlIiwidGV4dENvbnRlbnQiLCJzaG93RmlsdGVyT3B0aW9uc0xpc3QiLCJmaWx0ZXJfYnVmZmVyX2luc3RhbmNlIiwiZ2V0RWxlbWVudEJ5SWQiLCJidWZmZXJMaXN0RGl2RWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpZCIsImZpbHRlcl9idXR0b24iLCJhcHBlbmRDaGlsZCIsImZvckVhY2giLCJmaWx0ZXIiLCJidWlsZEZpbHRlck9wdGlvbiIsInN0YXR1cyIsInRvZ2dsZVN0YXR1cyIsInNob3dGaWx0ZXJPcHRpb25zIiwiaW1hZ2UiLCJzcmMiLCJzdHlsZSIsIndpZHRoIiwiYm9yZGVyUmFkaXVzIiwiZGl2RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmaWx0ZXJPcHRpb24iLCJvcHRpb25EaXZFbGVtZW50IiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIlNjcmVlblJlYWRlciIsInVzZVNjcmVlblJlYWRlciIsInRva2VuIiwiX2EiLCJzeW50aCIsIndpbmRvdyIsInNwZWVjaFN5bnRoZXNpcyIsInNjcmVlblJlYWRlclN0YXR1cyIsInNlbGVjdGVkQXJ0aWNsZSIsInNlbGVjdGVkTGluayIsImFydGljbGVJbmRleCIsImxpbmtJbmRleCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0YWxrIiwidGV4dCIsImNhbmNlbCIsInNwZWFrIiwiU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIiwiY2FuY2VsVGFsayIsImFib3J0IiwidGFnIiwiZmlyc3RTY3JpcHRUYWciLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJlbmFibGUiLCJzYXlXZWxjb21lIiwic2F5R29vZGJheSIsImtleWJpbmRzU2NyZWVuUmVhZGVyIiwiY2FuY2VsUmVhZGVyIiwicmVSZWFkIiwiYWN0aXZlU2NyZWVuUmVhZGVyIiwibW92ZUJldHdlZW5Db250ZW50IiwibW92ZUJldHdlZW5MaW5rcyIsImdldEltYWdlIiwiZmV0Y2giLCJnZXREZXNjcmlwdGlvbiIsImJsb2IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwib3B0aW9ucyIsIm1ldGhvZCIsImhlYWRlcnMiLCJzaWduYWwiLCJyZXNwb25zZSIsImNhdGNoIiwibmFtZSIsInVuZGVmaW5lZCIsImpzb24iLCJtZXNzYWdlIiwicmVhZENoaWxkcyIsImFydGljbGUiLCJub2RlTmFtZSIsInBsYXllciIsIllUIiwiUGxheWVyIiwic2V0VGltZW91dCIsInBsYXlWaWRlbyIsImltZyIsImFsdCIsImRlc2NyaXB0aW9uIiwibm9kZVR5cGUiLCJOb2RlIiwiVEVYVF9OT0RFIiwidHJpbSIsImNoaWxkIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsInRhZ3MiLCJjdHJsS2V5Iiwia2V5IiwidG9Mb3dlckNhc2UiLCJsb2ciLCJjbGljayIsImxpbmtzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInRhZ05hbWUiLCJmb2N1cyIsIkNzc0NsYXNzZXMiLCJhZGRab29tTWVzc2FnZVRleHRCb3hDbGFzcyIsIlpvb21TZXJ2aWNlIiwiVFJBTlNJVElPTl9EVVJBVElPTiIsImxldmVsIiwibW91c2VYIiwibW91c2VZIiwicGFuRW5nYWdlVGltZW91dCIsInBhblVwZGF0ZUludGVydmFsIiwiY2FsbGJhY2tUaW1lb3V0Iiwic3VwcG9ydHNUcmFuc2Zvcm1zIiwia2V5dXBFdmVudCIsImtleUNvZGUiLCJvdXQiLCJtb3VzZU1vdmVFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwidHJhbnNpdGlvbiIsIm1hZ25pZnkiLCJyZWN0Iiwic2NhbGUiLCJzY3JvbGxPZmZzZXQiLCJnZXRTY3JvbGxPZmZzZXQiLCJoZWlnaHQiLCJ4IiwiaW5uZXJXaWR0aCIsInkiLCJpbm5lckhlaWdodCIsInRyYW5zZm9ybSIsIm9yaWdpbiIsInRyYW5zZm9ybU9yaWdpbiIsInBvc2l0aW9uIiwibGVmdCIsInRvcCIsInBhbiIsInJhbmdlWCIsInJhbmdlWSIsInNjcm9sbCIsInNjcm9sbFgiLCJwYWdlWE9mZnNldCIsInNjcm9sbFkiLCJwYWdlWU9mZnNldCIsInRvIiwiZWxlbWVudCIsInBhZGRpbmciLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJNYXRoIiwibWF4IiwibWluIiwiY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwiLCJjYWxsYmFjayIsInNldEludGVydmFsIiwiY2xlYXJUaW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsIk9wdGlvbnNab29tIiwiWm9vbSIsImVuYWJsZVpvb21PcHRpb25zIiwiem9vbVN0YXR1cyIsImFjdGl2ZV9tZXNzYWdlIiwiZGVhY3RpdmVfbWVzc2FnZSIsInRvb2dsZVpvb20iLCJ6b29tU2VydmljZSIsInRvb2dsZVN0YXR1cyIsImFjdGl2ZVpvb20iLCJzY3JlZW5SZWFkZXJBY3RpdmUiLCJpbml0aWFsQ2xpY2tFdmVudCIsInNob3dCb3hNZXNzYWdlIiwiem9vbV9tZXNzYWdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkNzc0V5ZWVhc3Npc3RDbGFzc2VzIiwibWFpbk1lc3NhZ2UiLCJkaXYiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImFsaWduQ29udGVudCIsImp1c3RpZnlJdGVtcyIsImp1c3RpZnlDb250ZW50IiwiYmFja2dyb3VuZENvbG9yIiwiekluZGV4IiwibWVzc2FnZUNvbnRlbnQiLCJ0ZXh0QWxpZ24iLCJmbGV4IiwiY2xvc2VCdXR0b20iLCJidXR0b24iLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwibWFyZ2luIiwiY3Vyc29yIiwiYWxpZ25TZWxmIiwiYWRkRmx5TWVudVN0eWxlIiwic3ZnSHVtYW4iLCJjb2xvciIsInN2Z0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJzZXRBdHRyaWJ1dGUiLCJjaXJjbGVFbGVtZW50IiwicGF0aDFFbGVtZW50IiwicGF0aDJFbGVtZW50IiwicGF0aDNFbGVtZW50Iiwic3ZnQ2xvc2VCdXR0b20iLCJwYXRoRWxlbWVudCIsImFkZEJ1ZmZlck9wdGlvbnNDbGFzcyIsInRvZ2dsZVN3aXRjaENsYXNzZXMiLCJ0b29nbGVTd2l0Y2hDbGFzcyIsInRvZ2dsZVN3aXRjaENpcmNsZSIsInRvZ2dsZVN3aXRjaEFjdGl2ZSIsInRvZ2dsZVN3aXRjaEFuaW1hdGlvbiIsImFkZE9wdGlvbkZ1bmN0aW9uc0NsYXNzIiwiZmlsdGVyU3RhdHVzIiwicmVhZGVyU3RhdHVzIiwiYW5pbWFjaW9uRW5Qcm9ncmVzbyIsImluaXRNZXNzYWdlQ2xvc2UiLCJ2aWV3T3B0aW9uc09uIiwiYnVpbGRPcHRpb24iLCJvcHRpb25OYW1lIiwib3B0aW9uIiwib3B0aW9uTmFtZUVsZW1lbnQiLCJwYWRkaW5nUmlnaHQiLCJ0b2dnbGVTd2l0Y2giLCJ0b2dnbGUiLCJab29tT2JqZWN0IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJGaWx0ZXJPYmplY3QiLCJTY3JlZW5SZWFkZXJPYmplY3QiLCJzaG93T3B0aW9ucyIsImJ1ZmZlckxpc3RPcHRpb25zIiwib3BjaW9uIiwiY2VycmFyTW9kYWwiLCJtZW5zYWplIiwiZmx5TWVudSIsImFuaW1hY2lvbiIsImFuaW1hdGUiLCJvcGFjaXR5IiwiZHVyYXRpb24iLCJlYXNpbmciLCJmbHlBbmltYXRpb24iLCJvbmZpbmlzaCIsImdldEl0ZW0iLCJzYXZlZFpvb21TdGF0dXMiLCJwYXJzZSIsInNhdmVkRmlsdGVyU3RhdHVzIiwic2F2ZWRSZWFkZXJTdGF0dXMiLCJzdGFydCIsInNob3dJbml0TWVzc2FnZSIsInNob3dGbHlNZW51IiwiZGl2RWxlbWVudENvbnRhaW5lciIsInNwYW5FbGVtZW50IiwiYnV0dG9uRWxlbWVudCIsImZpcnN0Q2hpbGQiXSwic291cmNlUm9vdCI6IiJ9