(()=>{"use strict";class e{constructor(){this.hasInsertedAccess=!1,this.active_filter=!1,this.colorBlindnessClasses=["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"],this.visionClasses=["vision-loss-moderate","vision-loss-severe","vision-blindness"],this.cssFilter="\n  <style>.protanopia{-webkit-filter:url(#protanopia) grayscale(0)!important;filter:url(#protanopia) grayscale(0)!important}.protanomaly{-webkit-filter:url(#protanomaly) grayscale(0)!important;filter:url(#protanomaly) grayscale(0)!important}.deuteranopia{-webkit-filter:url(#deuteranopia) grayscale(0)!important;filter:url(#deuteranopia) grayscale(0)!important}.deuteranomaly{-webkit-filter:url(#deuteranomaly) grayscale(0)!important;filter:url(#deuteranomaly) grayscale(0)!important}.tritanopia{-webkit-filter:url(#tritanopia) grayscale(0)!important;filter:url(#tritanopia) grayscale(0)!important}.tritanomaly{-webkit-filter:url(#tritanomaly) grayscale(0)!important;filter:url(#tritanomaly) grayscale(0)!important}.achromatopsia{-webkit-filter:url(#achromatopsia) grayscale(0)!important;filter:url(#achromatopsia) grayscale(0)!important}.achromatomaly{-webkit-filter:url(#achromatomaly) grayscale(0)!important;filter:url(#achromatomaly) grayscale(0)!important}.grayscale{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}.vision-loss-moderate body>*{-webkit-filter:blur(1px)!important;filter:blur(1px)!important}.vision-loss-severe body>*{-webkit-filter:blur(10px)!important;filter:blur(10px)!important}.vision-blindness body>*{background-color:#fff!important;-webkit-filter:brightness(0)!important;filter:brightness(0)!important}#access-filter{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;width:1px;overflow:hidden;position:absolute!important;word-wrap:normal!important}</style>",this.svgFilterTemplate='<svg \n  id="access-filter"\n  aria-hidden="true"\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1">\n  <defs>\n    <filter id="protanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.567, 0.433, 0,     0, 0\n                0.558, 0.442, 0,     0, 0\n                0,     0.242, 0.758, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="protanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.817, 0.183, 0,     0, 0\n                0.333, 0.667, 0,     0, 0\n                0,     0.125, 0.875, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="deuteranopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.625, 0.375, 0,   0, 0\n                0.7,   0.3,   0,   0, 0\n                0,     0.3,   0.7, 0, 0\n                0,     0,     0,   1, 0"/>\n    </filter>\n    <filter id="deuteranomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.8,   0.2,   0,     0, 0\n                0.258, 0.742, 0,     0, 0\n                0,     0.142, 0.858, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.95, 0.05,  0,     0, 0\n                0,    0.433, 0.567, 0, 0\n                0,    0.475, 0.525, 0, 0\n                0,    0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.967, 0.033, 0,     0, 0\n                0,     0.733, 0.267, 0, 0\n                0,     0.183, 0.817, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatopsia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.618, 0.320, 0.062, 0, 0\n                0.163, 0.775, 0.062, 0, 0\n                0.163, 0.320, 0.516, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n  </defs>\n</svg>'}aplicarFiltro(e){null!=e?(this.active_filter?this.removeTests("colorBlindness"):this.toggleTest("colorBlindness",e),this.active_filter=!this.active_filter):console.error("Error al aplicar los filtros, la opcion no se pintada correctamente")}toggleTest(e,t){this.hasInsertedAccess||(this.insertFiles(this.svgFilterTemplate,this.cssFilter),this.hasInsertedAccess=!0),this.removeTests(e),document.documentElement.classList.add(t)}insertFiles(e,t){document.body.insertAdjacentHTML("beforeend",e),document.body.insertAdjacentHTML("beforeend",t)}removeTests(e){if("vision"==e)for(let e=0;e<this.visionClasses.length;e++)document.documentElement.classList.remove(this.visionClasses[e]);else if("colorBlindness"==e)for(let e=0;e<this.colorBlindnessClasses.length;e++)document.documentElement.classList.remove(this.colorBlindnessClasses[e])}}class t{static addFilterBufferStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter-list-buffer {\n          display: flex;\n          flex-wrap: wrap;\n          flex-direction: column;\n          align-content: center;\n        }\n    ",e.cssRules.length)}static addFilterOptionsStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter-option {\n          padding: 0.5rem;\n        }\n    ",e.cssRules.length)}static addFilterStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter_button {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",e.cssRules.length)}}class s{constructor(s=!1){this.enableFilter=s,this.filterViewOn=!1,this.startFilter=e=>{var t,s=null===(t=e.target.textContent)||void 0===t?void 0:t.toLowerCase();this.filterService.aplicarFiltro(s)},this.showFilterOptionsList=()=>{if(!this.enableFilter){var e=document.getElementById("filter_buffer");return null==e?void console.error("No hay instancia del buffer de opciones."):(e.remove(),"")}var t=document.createElement("div");return t.className="filter-list-buffer",t.id="filter_buffer",[{id:"protanopia",name:"Protanopia"},{id:"protanomaly",name:"Protanomaly"},{id:"deuteranopia",name:"Deuteronopia"},{id:"deuteranomaly",name:"Deuteranomaly"},{id:"tritanopia",name:"Tritanopia"},{id:"tritanomaly",name:"Tritanomaly"},{id:"achromatopsia",name:"Achromatopsia"},{id:"achromatomaly",name:"Achromatomaly"},{id:"grayscale",name:"Grayscale"}].forEach((e=>{t.appendChild(this.buildFilterOption(e))})),t},this.filterService=new e,t.addFilterBufferStyleClass(),t.addFilterOptionsStyleClass()}status(){return this.enableFilter}toggleStatus(){this.enableFilter=!this.enableFilter}showFilterOptions(){const e=document.createElement("img");e.src="https://github.com/EyeeAssist/docs/blob/develop/src/assets/logo.png?raw=true",e.style.width="50px",e.style.borderRadius="50%";const s=document.createElement("div");s.className="filter_button",s.id="filter_button",s.appendChild(e),s.addEventListener("click",this.showFilterOptionsList),t.addFilterStyleClass(),document.body.appendChild(s)}buildFilterOption(e){var t=document.createElement("div");t.className="filter-option",t.style.display="flex",t.id=e.id+"_option",t.addEventListener("click",this.startFilter);const s=document.createElement("div"),i=document.createElement("input");i.type="radio",i.style.margin="0",s.style.marginLeft="6px";const n=document.createElement("span");return n.textContent=e.name,n.style.marginLeft="12px",s.append(i),t.append(s),t.append(n),t}}class i{constructor(e=!1,t){this.foundVideo=e,this.talk=t,this.onPlayerStateChange=e=>{e.data===YT.PlayerState.PAUSED&&clearInterval(this.interval),e.data==YT.PlayerState.ENDED&&clearInterval(this.interval),e.data===YT.PlayerState.PLAYING&&(this.interval=setInterval((()=>{var e,t,s;const i=null===(e=this.player)||void 0===e?void 0:e.getCurrentTime(),n=null==i?void 0:i.toFixed(1);(null===(t=this.script)||void 0===t?void 0:t.get(n))&&this.talk(null===(s=this.script)||void 0===s?void 0:s.get(n))}),100))}}toggleStatus(){this.foundVideo=!this.foundVideo}turnOff(){this.foundVideo=!1}startAudioDescription(e){var t,s,i;this.foundVideo&&!0===e.shiftKey&&"k"===e.key.toLowerCase()&&((null===(t=this.player)||void 0===t?void 0:t.getPlayerState())==YT.PlayerState.PLAYING?null===(s=this.player)||void 0===s||s.pauseVideo():null===(i=this.player)||void 0===i||i.playVideo())}createPlayer(e){let t=e;t.id="single-video-eyeeassit",this.script=this.getScript(t.src);const s=t.src.indexOf("?");t.src=t.src.substring(0,s+1)+"enablejsapi=1&"+t.src.substring(s+1),this.player=new YT.Player(t.id,{events:{onStateChange:this.onPlayerStateChange}})}getScript(e){const t=new Map;return t.set("1.0","Paisaje de una playa"),t.set("13.0","Paisaje de unas motañas y una bandera ondeando"),t.set("28.0","Paisaje con una costa y olas rompiendo"),t.set("40.0","Una laguna artificial"),t.set("56.0","Un rio largo"),t}}var n=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function r(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,r)}l((i=i.apply(e,t||[])).next())}))};class o{constructor(e=!1,t=""){var s;if(this.useScreenReader=e,this.token=t,this.synth=window.speechSynthesis,this.screenReaderStatus=!1,this.selectedArticle=null,this.selectedLink=null,this.articleIndex=-1,this.linkIndex=0,this.controller=new AbortController,this.videoProcesor=null,this.tags=[],this.talk=(e,t=!0)=>{!t||this.synth.cancel(),this.synth.speak(new SpeechSynthesisUtterance(e))},this.cancelTalk=()=>{this.controller&&this.controller.abort(),this.talk("")},!this.useScreenReader)return;let n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";let o=document.getElementsByTagName("script")[0];null===(s=o.parentNode)||void 0===s||s.insertBefore(n,o),this.videoProcesor=new i(!1,this.talk)}status(){return this.useScreenReader}toggleStatus(){this.useScreenReader=!this.useScreenReader}enable(){return this.screenReaderStatus}sayWelcome(){this.talk("Hola bienvenido a la pagina X, si desea leer las acciones de la pagina presione control y enter")}sayGoodbay(){this.talk("Gracias por utilizar eyeeassist")}keybindsScreenReader(e){var t;this.cancelReader(e),this.reRead(e),this.activeScreenReader(e),this.moveBetweenContent(e),this.moveBetweenLinks(e),null===(t=this.videoProcesor)||void 0===t||t.startAudioDescription(e)}getImage(e){return n(this,void 0,void 0,(function*(){return yield fetch(e)}))}getDescription(e){return n(this,void 0,void 0,(function*(){this.controller=new AbortController;const t=new FormData;t.append("file",e,"imagen.jpg");const s={method:"POST",body:t,headers:{Authorization:"Bearer "+this.token},signal:this.controller.signal},i=yield fetch("http://localhost:8000/caption",s).catch((e=>{"AbortError"===e.name&&console.error(e)}));return null!=i?(yield i.json()).message[0]:""}))}readChilds(e){var t,s,i;return n(this,void 0,void 0,(function*(){if("IFRAME"==e.nodeName&&(this.talk("Video encontrado, precione shift mas k para iniciar el video con audio descripcion"),null===(t=this.videoProcesor)||void 0===t||t.toggleStatus(),null===(s=this.videoProcesor)||void 0===s||s.createPlayer(e)),"IMG"==e.nodeName){this.talk("Imagen encontrada",!1);let t=e;if(""!=t.alt)this.talk(""),this.talk("Imagen de "+t.alt,!1);else{const e=yield this.getImage(t.src),s=yield e.blob();this.talk("describiendo imagen",!1);const i=yield this.getDescription(s);""!=i?this.talk("Imagen de "+i,!1):this.talk("No se pudo generar una descripcion para la imagen encontrada.",!1)}}e.nodeType==Node.TEXT_NODE&&(null===(i=e.textContent)||void 0===i?void 0:i.trim())&&this.talk(e.textContent,!1);for(const t of Array.from(e.childNodes))yield this.readChilds(t)}))}moveBetweenContent(e){if(0!=this.tags.length){if(this.screenReaderStatus&&!0===e.ctrlKey&&"arrowright"===e.key.toLowerCase()){let e=this.tags.shift();this.tags.push(e),this.cancelTalk(),this.readChilds(e)}if(this.screenReaderStatus&&!0===e.ctrlKey&&"arrowleft"===e.key.toLowerCase()){let e=this.tags.pop();this.tags.unshift(e),this.cancelTalk(),this.readChilds(e)}}}activeScreenReader(e){this.useScreenReader&&!0===e.ctrlKey&&" "===e.key.toLowerCase()&&(this.screenReaderStatus?(this.tags=[],this.sayGoodbay()):(this.tags=this.convertToHtmlElementsArray(document.getElementsByTagName("article")),this.sayWelcome()),this.screenReaderStatus=!this.screenReaderStatus)}moveBetweenLinks(e){if(this.screenReaderStatus&&!1===e.ctrlKey&&"enter"===e.key.toLowerCase()&&null!=this.selectedLink&&(console.log(this.selectedLink),this.selectedLink.click()),this.screenReaderStatus&&!0===e.ctrlKey&&"enter"===e.key.toLowerCase()){let e=document.getElementsByClassName("text_reader_link");console.log(e[this.linkIndex].tagName),this.selectedLink=e[this.linkIndex],this.selectedLink.focus(),"TEXTAREA"==e[this.linkIndex].tagName?(this.selectedLink.addEventListener("input",(()=>{console.log(this.selectedLink)})),this.talk("Seleccionado un text area",!0)):null!==this.selectedLink.textContent&&this.talk(this.selectedLink.textContent,!0),this.linkIndex===e.length-1?this.linkIndex=0:this.linkIndex+=1}}cancelReader(e){this.useScreenReader&&"escape"===e.key.toLowerCase()&&this.talk("")}reRead(e){this.useScreenReader&&!0===e.ctrlKey&&"backspace"===e.key.toLowerCase()&&null!=this.selectedArticle&&null!=this.selectedArticle.textContent&&this.talk(this.selectedArticle.textContent)}convertToHtmlElementsArray(e){let t=[];for(const s of e)t.push(s);return t}}class a{static addZoomMessageTextBoxClass(){const e=document.styleSheets[0];e.insertRule(".zoom-message-txtbox {  \n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 9999;\n          background-color: #FFFF00;\n          color: #000000;\n          font-size: 20rem;\n          text-align: center;\n          width: 80%;\n          height: 80%;\n          font-family: Arial, sans-serif;\n      }",e.cssRules.length)}}class r{constructor(){this.TRANSITION_DURATION=800,this.level=1,this.mouseX=0,this.mouseY=0,this.panEngageTimeout=-1,this.panUpdateInterval=-1,this.callbackTimeout=-1,this.supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,this.keyupEvent=e=>{1!==this.level&&27===e.keyCode&&this.out(void 0)},this.mouseMoveEvent=e=>{1!==this.level&&(this.mouseX=e.clientX,this.mouseY=e.clientY)},this.supportsTransforms&&(document.body.style.transition="transform "+this.TRANSITION_DURATION+"ms ease"),document.addEventListener("keyup",this.keyupEvent),document.addEventListener("mousemove",this.mouseMoveEvent)}magnify(e,t){var s=this.getScrollOffset();if(e.width=e.width||1,e.height=e.height||1,e.x-=(window.innerWidth-e.width*t)/2,e.y-=(window.innerHeight-e.height*t)/2,this.supportsTransforms)if(1===t)document.body.style.transform="";else{var i=s.x+"px "+s.y+"px",n="translate("+-e.x+"px,"+-e.y+"px) scale("+t+")";document.body.style.transformOrigin=i,document.body.style.transform=n}else 1===t?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height=""):(document.body.style.position="relative",document.body.style.left=-(s.x+e.x)/t+"px",document.body.style.top=-(s.y+e.y)/t+"px",document.body.style.width=100*t+"%",document.body.style.height=100*t+"%");this.level=t}pan(){var e=.12*window.innerWidth,t=.12*window.innerHeight,s=this.getScrollOffset();this.mouseY<t?window.scroll(s.x,s.y-(1-this.mouseY/t)*(14/this.level)):this.mouseY>window.innerHeight-t&&window.scroll(s.x,s.y+(1-(window.innerHeight-this.mouseY)/t)*(14/this.level)),this.mouseX<e?window.scroll(s.x-(1-this.mouseX/e)*(14/this.level),s.y):this.mouseX>window.innerWidth-e&&window.scroll(s.x+(1-(window.innerWidth-this.mouseX)/e)*(14/this.level),s.y)}getScrollOffset(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}to(e){if(1!==this.level)this.out(void 0);else{if(e.x=e.x||0,e.y=e.y||0,e.element){var t="number"==typeof e.padding?e.padding:20,s=e.element.getBoundingClientRect();e.x=s.left-t,e.y=s.top-t,e.width=s.width+2*t,e.height=s.height+2*t}void 0!==e.width&&void 0!==e.height&&(e.scale=Math.max(Math.min(window.innerWidth/e.width,window.innerHeight/e.height),1)),e.scale>1&&(e.x*=e.scale,e.y*=e.scale,e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),this.magnify(e,e.scale),!1!==e.pan&&(this.panEngageTimeout=setTimeout(this.calculatePanUpdateInterval,this.TRANSITION_DURATION)),"function"==typeof e.callback&&(this.callbackTimeout=setTimeout(e.callback,this.TRANSITION_DURATION)))}}calculatePanUpdateInterval(){this.panUpdateInterval=setInterval(this.pan,1e3/60)}out(e){clearTimeout(this.panEngageTimeout),clearInterval(this.panUpdateInterval),clearTimeout(this.callbackTimeout),this.magnify(new l(0,0,1),1),e&&"function"==typeof e.callback&&setTimeout(e.callback,this.TRANSITION_DURATION),this.level=1}}class l{constructor(e,t,s){this.x=0,this.y=0,this.scale=0,this.x=e,this.y=t,this.scale=s}}class c{constructor(e=!1){this.enableZoomOptions=e,this.zoomStatus=!1,this.active_message='<div id="zoom-status" class="zoom-message-txtbox">On</div>',this.deactive_message='<div id="zoom-status" class="zoom-message-txtbox">Off</div>',this.toogleZoom=e=>{this.zoomService.to(new l(e.x,e.y,10))},this.zoomService=new r}status(){return this.enableZoomOptions}toogleStatus(){this.enableZoomOptions=!this.enableZoomOptions}activeZoom(e,t){this.enableZoomOptions&&(e||!0!==t.ctrlKey||"backspace"!==t.key.toLowerCase()||(a.addZoomMessageTextBoxClass(),this.initialClickEvent(document.body)))}initialClickEvent(e){this.zoomStatus?this.showBoxMessage(e,this.deactive_message,!this.zoomStatus):this.showBoxMessage(e,this.active_message,!this.zoomStatus),this.zoomStatus=!this.zoomStatus}showBoxMessage(e,t,s){e.insertAdjacentHTML("beforebegin",t),setTimeout((()=>{const e=document.getElementById("zoom-status");null==e||e.remove()}),2e3),s?e.addEventListener("click",this.toogleZoom):e.removeEventListener("click",this.toogleZoom)}}class d{static mainMessage(e){return e.style.display="flex",e.style.alignItems="center",e.style.alignContent="center",e.style.justifyItems="center",e.style.justifyContent="center",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.backgroundColor="#F5F5DC",e.style.zIndex="999",e.style.color="#006400",e}static messageContent(e){return e.style.textAlign="center",e.style.flex="1",e.style.display="flex",e.style.alignContent="center",e.style.justifyContent="center",e}static closeButtom(e){return e.style.background="none",e.style.border="none",e.style.padding="0",e.style.margin="0",e.style.cursor="pointer",e.style.width="50px",e.style.height="50px",e.style.alignSelf="flex-end",e.style.color="#006400",e}static addFlyMenuStyle(){const e=document.styleSheets[0];e.insertRule("\n        .fly_menu {\n          position: fixed;\n          right: 70px;\n          width: 72px;\n          height: 72px;\n          border-radius: 50%;\n          background-color: #F5F5DC;\n          color: #006400;\n          text-align: center;\n          line-height: 50px;\n          flex-wrap: wrap;\n          cursor: pointer;\n          display: flex;\n          align-content: center;\n          justify-content: center;\n          z-index: 9999;\n        }\n    ",e.cssRules.length)}static svgHuman(e,t="34",s="38"){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",t),i.setAttribute("height",s),i.setAttribute("viewBox","0 0 34 38"),i.setAttribute("xmlns","http://www.w3.org/2000/svg");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M33.5 13.5H22.5V37.3333H18.8333V26.3333H15.1667V37.3333H11.5V13.5H0.5V9.83332H33.5M17 0.666656C17.9725 0.666656 18.9051 1.05296 19.5927 1.7406C20.2804 2.42823 20.6667 3.36086 20.6667 4.33332C20.6667 5.30578 20.2804 6.23841 19.5927 6.92605C18.9051 7.61368 17.9725 7.99999 17 7.99999C16.0275 7.99999 15.0949 7.61368 14.4073 6.92605C13.7196 6.23841 13.3333 5.30578 13.3333 4.33332C13.3333 2.29832 14.965 0.666656 17 0.666656Z"),n.setAttribute("fill",e),i.appendChild(n),i}static svgCloseButtom(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("fill",e),t.setAttribute("viewBox","0 0 32 32");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7.004 23.087l7.08-7.081-7.07-7.071L8.929 7.02l7.067 7.069L23.084 7l1.912 1.913-7.089 7.093 7.075 7.077-1.912 1.913-7.074-7.073L8.917 25z"),t.appendChild(s),t}static addBufferOptionsClass(){const e=document.styleSheets[0];e.insertRule("\n        .buffer_options {\n            position: fixed;\n            top: 130px;\n            right: 70px;\n            border-radius: 10px;\n            height: auto; \n            max-height: 100%;\n            overflow-y: auto; \n            z-index: 9999;\n            background-color: #F5F5DC;\n            color: #006400;\n        }\n    ",e.cssRules.length)}static toggleSwitchClasses(){this.toogleSwitchClass(),this.toggleSwitchCircle(),this.toggleSwitchActive(),this.toggleSwitchAnimation()}static toogleSwitchClass(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch {\n            width: 60px;\n            height: 30px;\n            background-color: #ccc;\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            cursor: pointer;\n            transition: background-color 0.3s, transform 0.3s;\n        }\n    ",e.cssRules.length)}static toggleSwitchCircle(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch-circle {\n            width: 30px;\n            height: 30px;\n            background-color: white;\n            border-radius: 50%;\n            transition: transform 0.3s;\n        }",e.cssRules.length)}static toggleSwitchActive(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch.active {\n            background-color: #2ecc71;\n        }",e.cssRules.length)}static toggleSwitchAnimation(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch.active .toggle-switch-circle {\n            transform: translateX(30px);\n        }",e.cssRules.length)}static addOptionFunctionsClass(){const e=document.styleSheets[0];e.insertRule("\n        .option_menu_eyeeassist {\n          display: flex;\n          padding: 10px;\n          justify-content: space-between;\n        }",e.cssRules.length)}}new class{constructor(e=!1,t=!1,i=!1,n=""){this.token=n,this.animacionEnProgreso=!1,this.initMessageClose=!1,this.viewOptionsOn=!1,this.buildOption=e=>{var t;const s=document.createElement("div");var i=document.createElement("div");s.id="option_menu_eyeassist_"+e.name;const n=document.createElement("div");n.textContent=e.display_name,n.style.paddingRight="20px";const o=document.createElement("div");o.className="toggle-switch",o.id="toggleSwitch"+e.name;const a=document.createElement("div");if(a.className="toggle-switch-circle",o.appendChild(a),o.addEventListener("click",(e=>{var t;switch(o.id){case"toggleSwitchZoom":this.ZoomObject.toogleStatus(),localStorage.setItem("zoomStatus",JSON.stringify(this.ZoomObject.status()));break;case"toggleSwitchColors":this.FilterObject.toggleStatus();var s=this.FilterObject.showFilterOptionsList();null===(t=i.parentElement)||void 0===t||t.append(s),localStorage.setItem("filterStatus",JSON.stringify(this.FilterObject.status()));break;case"toggleSwitchReader":this.ScreenReaderObject.toggleStatus(),localStorage.setItem("readerStatus",JSON.stringify(this.ScreenReaderObject.status()))}o.classList.toggle("active")})),i.className="option_menu_eyeeassist",i.append(n),i.append(o),s.append(i),e.status&&(o.classList.toggle("active"),"Colors"==e.name)){console.log("Agregando colores");var r=this.FilterObject.showFilterOptionsList();null===(t=i.parentElement)||void 0===t||t.append(r)}return s},this.showOptions=()=>{if(console.log("Mostrando opciones"),this.viewOptionsOn){const e=document.getElementById("buffer_options");return null==e||e.remove(),void(this.viewOptionsOn=!this.viewOptionsOn)}const e=document.createElement("div");e.id="buffer_options",e.className="buffer_options",[{name:"Zoom",status:this.ZoomObject.status(),display_name:"Zoom"},{name:"Colors",status:this.FilterObject.status(),display_name:"Filtros de color"},{name:"Reader",status:this.ScreenReaderObject.status(),display_name:"Lectura en voz alta"}].forEach((t=>{e.appendChild(this.buildOption(t))})),document.body.appendChild(e),this.viewOptionsOn=!this.viewOptionsOn},this.cerrarModal=()=>{if(!this.animacionEnProgreso){const e=document.getElementById("eyeeasist-initial-message"),t=document.getElementById("fly_menu");this.animacionEnProgreso=!0;const s=null==e?void 0:e.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-100%)"}],{duration:300,easing:"ease-out"}),i=null==t?void 0:t.animate([{top:"70px"},{top:"30px"}],{duration:1e3,easing:"ease"});s&&i&&(s.onfinish=()=>{e&&(e.style.display="none"),this.animacionEnProgreso=!1,localStorage.setItem("initMessageClose","true")},i.onfinish=()=>{t&&(t.style.top="30px")})}},"true"==localStorage.getItem("initMessageClose")&&(this.initMessageClose=!0),d.toggleSwitchClasses(),d.addBufferOptionsClass(),d.addFlyMenuStyle(),d.addOptionFunctionsClass(),this.zoomStatus=e,this.filterStatus=t,this.readerStatus=i;const a=localStorage.getItem("zoomStatus");a&&(console.log("Hay zoom status guardado",JSON.parse(a)),this.zoomStatus=JSON.parse(a));const r=localStorage.getItem("filterStatus");r&&(console.log("Hay filter status guardado",JSON.parse(r)),this.filterStatus=JSON.parse(r));const l=localStorage.getItem("readerStatus");l&&(console.log("Hay reader status guardado",JSON.parse(l)),this.readerStatus=JSON.parse(l)),this.ZoomObject=new c(this.zoomStatus),this.FilterObject=new s(this.filterStatus),this.ScreenReaderObject=new o(this.readerStatus,this.token)}start(){this.showInitMessage(),this.showFlyMenu(),document.addEventListener("keydown",(e=>{console.log(e.key),this.ZoomObject.activeZoom(this.ScreenReaderObject.enable(),e),this.ScreenReaderObject.keybindsScreenReader(e)}))}showFlyMenu(){const e=document.createElement("div");e.id="fly_menu",e.className="fly_menu",e.style.top=this.initMessageClose?"30px":"70px",e.appendChild(d.svgHuman("#006400")),e.addEventListener("click",this.showOptions),document.body.appendChild(e)}showInitMessage(){let e=document.createElement("div");e=d.mainMessage(e),e.id="eyeeasist-initial-message",this.initMessageClose&&(e.style.display="none");let t=document.createElement("div");t=d.messageContent(t);let s=document.createElement("span");s.textContent="Esta página cuenta con herramientas de accesibilidad. Para activar y/o desactivar estas herramientas presiona cmd + A o haz click en el botón";let i=document.createElement("button");i=d.closeButtom(i),i.addEventListener("click",this.cerrarModal),i.appendChild(d.svgCloseButtom("#006400")),t.appendChild(s),t.appendChild(d.svgHuman("#006400","20","20")),e.appendChild(t),e.appendChild(i),document.body.insertBefore(e,document.body.firstChild)}}(!0,!0,!0).start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFBTyxNQUFNQSxFQUNULFdBQUFDLEdBQ0lDLEtBQUtDLG1CQUFvQixFQUN6QkQsS0FBS0UsZUFBZ0IsRUFDckJGLEtBQUtHLHNCQUF3QixDQUN6QixhQUNBLGNBQ0EsZUFDQSxnQkFDQSxhQUNBLGNBQ0EsZ0JBQ0EsZ0JBQ0EsYUFFSkgsS0FBS0ksY0FBZ0IsQ0FDakIsdUJBQ0EscUJBQ0Esb0JBRUpKLEtBQUtLLFVBQVksb2lEQUVqQkwsS0FBS00sa0JBQW9CLGk3RUFnRjdCLENBQ0EsYUFBQUMsQ0FBY0MsR0FDSSxNQUFWQSxHQUlDUixLQUFLRSxjQUlORixLQUFLUyxZQUFZLGtCQUhqQlQsS0FBS1UsV0FBVyxpQkFBa0JGLEdBS3RDUixLQUFLRSxlQUFpQkYsS0FBS0UsZUFUdkJTLFFBQVFDLE1BQU0sc0VBVXRCLENBQ0EsVUFBQUYsQ0FBV0csRUFBVUMsR0FDWmQsS0FBS0Msb0JBQ05ELEtBQUtlLFlBQVlmLEtBQUtNLGtCQUFtQk4sS0FBS0ssV0FDOUNMLEtBQUtDLG1CQUFvQixHQUU3QkQsS0FBS1MsWUFBWUksR0FDakJHLFNBQVNDLGdCQUFnQkMsVUFBVUMsSUFBSUwsRUFDM0MsQ0FDQSxXQUFBQyxDQUFZSyxFQUFLQyxHQUNiTCxTQUFTTSxLQUFLQyxtQkFBbUIsWUFBYUgsR0FDOUNKLFNBQVNNLEtBQUtDLG1CQUFtQixZQUFhRixFQUNsRCxDQUNBLFdBQUFaLENBQVlJLEdBQ1IsR0FBZ0IsVUFBWkEsRUFDQSxJQUFLLElBQUlXLEVBQUksRUFBR0EsRUFBSXhCLEtBQUtJLGNBQWNxQixPQUFRRCxJQUMzQ1IsU0FBU0MsZ0JBQWdCQyxVQUFVUSxPQUFPMUIsS0FBS0ksY0FBY29CLFNBR2hFLEdBQWdCLGtCQUFaWCxFQUNMLElBQUssSUFBSVcsRUFBSSxFQUFHQSxFQUFJeEIsS0FBS0csc0JBQXNCc0IsT0FBUUQsSUFDbkRSLFNBQVNDLGdCQUFnQkMsVUFBVVEsT0FBTzFCLEtBQUtHLHNCQUFzQnFCLEdBR2pGLEVDM0lHLE1BQU1HLEVBQ1QsZ0NBQU9DLEdBQ0gsTUFBTUMsRUFBYWIsU0FBU2MsWUFBWSxHQVN4Q0QsRUFBV0UsV0FSVyw4S0FRZUYsRUFBV0csU0FBU1AsT0FDN0QsQ0FDQSxpQ0FBT1EsR0FDSCxNQUFNSixFQUFhYixTQUFTYyxZQUFZLEdBTXhDRCxFQUFXRSxXQUxXLDBFQUtlRixFQUFXRyxTQUFTUCxPQUM3RCxDQUNBLDBCQUFPUyxHQUNILE1BQU1MLEVBQWFiLFNBQVNjLFlBQVksR0FpQnhDRCxFQUFXRSxXQWhCVyw0WEFnQmVGLEVBQVdHLFNBQVNQLE9BQzdELEVDdkNHLE1BQU1VLEVBQ1QsV0FBQXBDLENBQVlxQyxHQUFlLEdBQ3ZCcEMsS0FBS29DLGFBQWVBLEVBQ3BCcEMsS0FBS3FDLGNBQWUsRUFDcEJyQyxLQUFLc0MsWUFBZUMsSUFDaEIsSUFBSUMsRUFFQWhDLEVBQTBDLFFBQWhDZ0MsRUFESUQsRUFBTUUsT0FDS0MsbUJBQWdDLElBQVBGLE9BQWdCLEVBQVNBLEVBQUdHLGNBQ2xGM0MsS0FBSzRDLGNBQWNyQyxjQUFjQyxFQUFPLEVBRTVDUixLQUFLNkMsc0JBQXdCLEtBQ3pCLElBQUs3QyxLQUFLb0MsYUFBYyxDQUNwQixJQUFJVSxFQUF5QjlCLFNBQVMrQixlQUFlLGlCQUNyRCxPQUE4QixNQUExQkQsT0FDQW5DLFFBQVFDLE1BQU0sNkNBR2xCa0MsRUFBdUJwQixTQUNoQixHQUNYLENBZ0JBLElBQUlzQixFQUF1QmhDLFNBQVNpQyxjQUFjLE9BVWxELE9BVEFELEVBQXFCRSxVQUFZLHFCQUNqQ0YsRUFBcUJHLEdBQUssZ0JBakJQLENBQ2YsQ0FBRUEsR0FBSSxhQUFjQyxLQUFNLGNBQzFCLENBQUVELEdBQUksY0FBZUMsS0FBTSxlQUMzQixDQUFFRCxHQUFJLGVBQWdCQyxLQUFNLGdCQUM1QixDQUFFRCxHQUFJLGdCQUFpQkMsS0FBTSxpQkFDN0IsQ0FBRUQsR0FBSSxhQUFjQyxLQUFNLGNBQzFCLENBQUVELEdBQUksY0FBZUMsS0FBTSxlQUMzQixDQUFFRCxHQUFJLGdCQUFpQkMsS0FBTSxpQkFDN0IsQ0FBRUQsR0FBSSxnQkFBaUJDLEtBQU0saUJBQzdCLENBQUVELEdBQUksWUFBYUMsS0FBTSxjQWFsQkMsU0FBU0MsSUFDaEJOLEVBQXFCTyxZQUFZdkQsS0FBS3dELGtCQUFrQkYsR0FBUSxJQUU3RE4sQ0FBb0IsRUFFL0JoRCxLQUFLNEMsY0FBZ0IsSUFBSTlDLEVBQ3pCNkIsRUFBaUJDLDRCQUNqQkQsRUFBaUJNLDRCQUNyQixDQUNBLE1BQUF3QixHQUNJLE9BQU96RCxLQUFLb0MsWUFDaEIsQ0FDQSxZQUFBc0IsR0FDSTFELEtBQUtvQyxjQUFnQnBDLEtBQUtvQyxZQUM5QixDQUNBLGlCQUFBdUIsR0FDSSxNQUFNQyxFQUFRNUMsU0FBU2lDLGNBQWMsT0FDckNXLEVBQU1DLElBQU0sK0VBQ1pELEVBQU1FLE1BQU1DLE1BQVEsT0FDcEJILEVBQU1FLE1BQU1FLGFBQWUsTUFDM0IsTUFBTUMsRUFBYWpELFNBQVNpQyxjQUFjLE9BQzFDZ0IsRUFBV2YsVUFBWSxnQkFDdkJlLEVBQVdkLEdBQUssZ0JBQ2hCYyxFQUFXVixZQUFZSyxHQUN2QkssRUFBV0MsaUJBQWlCLFFBQVNsRSxLQUFLNkMsdUJBQzFDbEIsRUFBaUJPLHNCQUNqQmxCLFNBQVNNLEtBQUtpQyxZQUFZVSxFQUM5QixDQUNBLGlCQUFBVCxDQUFrQlcsR0FDZCxJQUFJQyxFQUFtQnBELFNBQVNpQyxjQUFjLE9BQzlDbUIsRUFBaUJsQixVQUFZLGdCQUM3QmtCLEVBQWlCTixNQUFNTyxRQUFVLE9BQ2pDRCxFQUFpQmpCLEdBQUtnQixFQUFhaEIsR0FBSyxVQUN4Q2lCLEVBQWlCRixpQkFBaUIsUUFBU2xFLEtBQUtzQyxhQUNoRCxNQUFNZ0MsRUFBaUJ0RCxTQUFTaUMsY0FBYyxPQUN4Q3NCLEVBQWN2RCxTQUFTaUMsY0FBYyxTQUMzQ3NCLEVBQVlDLEtBQU8sUUFDbkJELEVBQVlULE1BQU1XLE9BQVMsSUFDM0JILEVBQWVSLE1BQU1ZLFdBQWEsTUFDbEMsTUFBTUMsRUFBYTNELFNBQVNpQyxjQUFjLFFBTTFDLE9BTEEwQixFQUFXakMsWUFBY3lCLEVBQWFmLEtBQ3RDdUIsRUFBV2IsTUFBTVksV0FBYSxPQUM5QkosRUFBZU0sT0FBT0wsR0FDdEJILEVBQWlCUSxPQUFPTixHQUN4QkYsRUFBaUJRLE9BQU9ELEdBQ2pCUCxDQUNYLEVDMUZHLE1BQU1TLEVBQ1QsV0FBQTlFLENBQVkrRSxHQUFhLEVBQU9DLEdBQzVCL0UsS0FBSzhFLFdBQWFBLEVBQ2xCOUUsS0FBSytFLEtBQU9BLEVBQ1ovRSxLQUFLZ0Ysb0JBQXVCekMsSUFDcEJBLEVBQU0wQyxPQUFTQyxHQUFHQyxZQUFZQyxRQUM5QkMsY0FBY3JGLEtBQUtzRixVQUVuQi9DLEVBQU0wQyxNQUFRQyxHQUFHQyxZQUFZSSxPQUM3QkYsY0FBY3JGLEtBQUtzRixVQUVuQi9DLEVBQU0wQyxPQUFTQyxHQUFHQyxZQUFZSyxVQUM5QnhGLEtBQUtzRixTQUFXRyxhQUFZLEtBQ3hCLElBQUlqRCxFQUFJa0QsRUFBSUMsRUFDWixNQUFNQyxFQUFxQyxRQUF0QnBELEVBQUt4QyxLQUFLNkYsY0FBMkIsSUFBUHJELE9BQWdCLEVBQVNBLEVBQUdzRCxpQkFDekVDLEVBQU9ILGFBQWlELEVBQVNBLEVBQVlJLFFBQVEsSUFDaEUsUUFBdEJOLEVBQUsxRixLQUFLaUcsY0FBMkIsSUFBUFAsT0FBZ0IsRUFBU0EsRUFBR1EsSUFBSUgsS0FFL0QvRixLQUFLK0UsS0FBNEIsUUFBdEJZLEVBQUszRixLQUFLaUcsY0FBMkIsSUFBUE4sT0FBZ0IsRUFBU0EsRUFBR08sSUFBSUgsR0FFN0UsR0FDRCxLQUNQLENBRVIsQ0FDQSxZQUFBckMsR0FDSTFELEtBQUs4RSxZQUFjOUUsS0FBSzhFLFVBQzVCLENBQ0EsT0FBQXFCLEdBQ0luRyxLQUFLOEUsWUFBYSxDQUN0QixDQUNBLHFCQUFBc0IsQ0FBc0I3RCxHQUNsQixJQUFJQyxFQUFJa0QsRUFBSUMsRUFDUjNGLEtBQUs4RSxhQUFpQyxJQUFuQnZDLEVBQU04RCxVQUFpRCxNQUE1QjlELEVBQU0rRCxJQUFJM0QsaUJBQzVCLFFBQXRCSCxFQUFLeEMsS0FBSzZGLGNBQTJCLElBQVByRCxPQUFnQixFQUFTQSxFQUFHK0QsbUJBQXFCckIsR0FBR0MsWUFBWUssUUFDekUsUUFBdEJFLEVBQUsxRixLQUFLNkYsY0FBMkIsSUFBUEgsR0FBeUJBLEVBQUdjLGFBR3BDLFFBQXRCYixFQUFLM0YsS0FBSzZGLGNBQTJCLElBQVBGLEdBQXlCQSxFQUFHYyxZQUd2RSxDQUNBLFlBQUFDLENBQWFDLEdBQ1QsSUFBSUMsRUFBU0QsRUFDYkMsRUFBT3pELEdBQUsseUJBQ1puRCxLQUFLaUcsT0FBU2pHLEtBQUs2RyxVQUFVRCxFQUFPL0MsS0FDcEMsTUFBTWlELEVBQW9CRixFQUFPL0MsSUFBSWtELFFBQVEsS0FDN0NILEVBQU8vQyxJQUFNK0MsRUFBTy9DLElBQUltRCxVQUFVLEVBQUdGLEVBQW9CLEdBQUssaUJBQW1CRixFQUFPL0MsSUFBSW1ELFVBQVVGLEVBQW9CLEdBQzFIOUcsS0FBSzZGLE9BQVMsSUFBSVgsR0FBRytCLE9BQU9MLEVBQU96RCxHQUFJLENBQ25DK0QsT0FBUSxDQUNKLGNBQWlCbEgsS0FBS2dGLHNCQUdsQyxDQUNBLFNBQUE2QixDQUFVTSxHQUNOLE1BQU1DLEVBQVEsSUFBSUMsSUFNbEIsT0FMQUQsRUFBTUUsSUFBSSxNQUFPLHdCQUNqQkYsRUFBTUUsSUFBSSxPQUFRLGtEQUNsQkYsRUFBTUUsSUFBSSxPQUFRLDBDQUNsQkYsRUFBTUUsSUFBSSxPQUFRLHlCQUNsQkYsRUFBTUUsSUFBSSxPQUFRLGdCQUNYRixDQUNYLEVDOURKLElBQUlHLEVBQXdDLFNBQVVDLEVBQVNDLEVBQVlDLEVBQUdDLEdBRTFFLE9BQU8sSUFBS0QsSUFBTUEsRUFBSUUsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVQyxHQUFTLElBQU1DLEVBQUtOLEVBQVVPLEtBQUtGLEdBQVMsQ0FBRSxNQUFPRyxHQUFLTCxFQUFPSyxFQUFJLENBQUUsQ0FDMUYsU0FBU0MsRUFBU0osR0FBUyxJQUFNQyxFQUFLTixFQUFpQixNQUFFSyxHQUFTLENBQUUsTUFBT0csR0FBS0wsRUFBT0ssRUFBSSxDQUFFLENBQzdGLFNBQVNGLEVBQUtJLEdBSmxCLElBQWVMLEVBSWFLLEVBQU9DLEtBQU9ULEVBQVFRLEVBQU9MLFFBSjFDQSxFQUl5REssRUFBT0wsTUFKaERBLGFBQWlCTixFQUFJTSxFQUFRLElBQUlOLEdBQUUsU0FBVUcsR0FBV0EsRUFBUUcsRUFBUSxLQUlqQk8sS0FBS1IsRUFBV0ssRUFBVyxDQUM3R0gsR0FBTU4sRUFBWUEsRUFBVWEsTUFBTWhCLEVBQVNDLEdBQWMsS0FBS1MsT0FDbEUsR0FDSixFQUVPLE1BQU1PLEVBQ1QsV0FBQTFJLENBQVkySSxHQUFrQixFQUFPQyxFQUFRLElBQ3pDLElBQUluRyxFQXNCSixHQXJCQXhDLEtBQUswSSxnQkFBa0JBLEVBQ3ZCMUksS0FBSzJJLE1BQVFBLEVBQ2IzSSxLQUFLNEksTUFBUUMsT0FBT0MsZ0JBQ3BCOUksS0FBSytJLG9CQUFxQixFQUMxQi9JLEtBQUtnSixnQkFBa0IsS0FDdkJoSixLQUFLaUosYUFBZSxLQUNwQmpKLEtBQUtrSixjQUFnQixFQUNyQmxKLEtBQUttSixVQUFZLEVBQ2pCbkosS0FBS29KLFdBQWEsSUFBSUMsZ0JBQ3RCckosS0FBS3NKLGNBQWdCLEtBQ3JCdEosS0FBS3VKLEtBQU8sR0FDWnZKLEtBQUsrRSxLQUFPLENBQUN5RSxFQUFNQyxHQUFTLE1BQ3hCQSxHQUFTekosS0FBSzRJLE1BQU1hLFNBQ3BCekosS0FBSzRJLE1BQU1jLE1BQU0sSUFBSUMseUJBQXlCSCxHQUFNLEVBRXhEeEosS0FBSzRKLFdBQWEsS0FDVjVKLEtBQUtvSixZQUNMcEosS0FBS29KLFdBQVdTLFFBRXBCN0osS0FBSytFLEtBQUssR0FBRyxHQUVaL0UsS0FBSzBJLGdCQUNOLE9BRUosSUFBSW9CLEVBQU05SSxTQUFTaUMsY0FBYyxVQUNqQzZHLEVBQUlqRyxJQUFNLHFDQUNWLElBQUlrRyxFQUFpQi9JLFNBQVNnSixxQkFBcUIsVUFBVSxHQUN4QixRQUFwQ3hILEVBQUt1SCxFQUFlRSxrQkFBK0IsSUFBUHpILEdBQXlCQSxFQUFHMEgsYUFBYUosRUFBS0MsR0FDM0YvSixLQUFLc0osY0FBZ0IsSUFBSXpFLEdBQWMsRUFBTzdFLEtBQUsrRSxLQUN2RCxDQUNBLE1BQUF0QixHQUNJLE9BQU96RCxLQUFLMEksZUFDaEIsQ0FDQSxZQUFBaEYsR0FDSTFELEtBQUswSSxpQkFBbUIxSSxLQUFLMEksZUFDakMsQ0FDQSxNQUFBeUIsR0FDSSxPQUFPbkssS0FBSytJLGtCQUNoQixDQUNBLFVBQUFxQixHQUNJcEssS0FBSytFLEtBQUssa0dBQ2QsQ0FDQSxVQUFBc0YsR0FDSXJLLEtBQUsrRSxLQUFLLGtDQUNkLENBQ0Esb0JBQUF1RixDQUFxQi9ILEdBQ2pCLElBQUlDLEVBQ0p4QyxLQUFLdUssYUFBYWhJLEdBQ2xCdkMsS0FBS3dLLE9BQU9qSSxHQUNadkMsS0FBS3lLLG1CQUFtQmxJLEdBQ3hCdkMsS0FBSzBLLG1CQUFtQm5JLEdBQ3hCdkMsS0FBSzJLLGlCQUFpQnBJLEdBQ1EsUUFBN0JDLEVBQUt4QyxLQUFLc0oscUJBQWtDLElBQVA5RyxHQUF5QkEsRUFBRzRELHNCQUFzQjdELEVBQzVGLENBQ0EsUUFBQXFJLENBQVMvRyxHQUNMLE9BQU8wRCxFQUFVdkgsVUFBTSxPQUFRLEdBQVEsWUFFbkMsYUFEdUI2SyxNQUFNaEgsRUFFakMsR0FDSixDQUNBLGNBQUFpSCxDQUFlQyxHQUNYLE9BQU94RCxFQUFVdkgsVUFBTSxPQUFRLEdBQVEsWUFDbkNBLEtBQUtvSixXQUFhLElBQUlDLGdCQUN0QixNQUFNMkIsRUFBVyxJQUFJQyxTQUNyQkQsRUFBU3BHLE9BQU8sT0FBUW1HLEVBQU0sY0FDOUIsTUFBTUcsRUFBVSxDQUNaQyxPQUFRLE9BQ1I3SixLQUFNMEosRUFDTkksUUFBUyxDQUNMLGNBQWlCLFVBQVlwTCxLQUFLMkksT0FFdEMwQyxPQUFRckwsS0FBS29KLFdBQVdpQyxRQUV0QkMsUUFBaUJULE1BQU0sZ0NBQWlDSyxHQUN6REssT0FBTzNLLElBQ1csZUFBZkEsRUFBTXdDLE1BQ056QyxRQUFRQyxNQUFNQSxFQUNsQixJQUVKLE9BQWdCNEssTUFBWkYsU0FDMEJBLEVBQVNHLFFBQ2hCQyxRQUFRLEdBRXhCLEVBQ1gsR0FDSixDQUNBLFVBQUFDLENBQVdDLEdBQ1AsSUFBSXBKLEVBQUlrRCxFQUFJQyxFQUNaLE9BQU80QixFQUFVdkgsVUFBTSxPQUFRLEdBQVEsWUFNbkMsR0FMd0IsVUFBcEI0TCxFQUFRQyxXQUNSN0wsS0FBSytFLEtBQUssc0ZBQ29CLFFBQTdCdkMsRUFBS3hDLEtBQUtzSixxQkFBa0MsSUFBUDlHLEdBQXlCQSxFQUFHa0IsZUFDcEMsUUFBN0JnQyxFQUFLMUYsS0FBS3NKLHFCQUFrQyxJQUFQNUQsR0FBeUJBLEVBQUdnQixhQUFha0YsSUFFM0QsT0FBcEJBLEVBQVFDLFNBQW1CLENBQzNCN0wsS0FBSytFLEtBQUsscUJBQXFCLEdBQy9CLElBQUkrRyxFQUFNRixFQUNWLEdBQWUsSUFBWEUsRUFBSUMsSUFDSi9MLEtBQUsrRSxLQUFLLElBQ1YvRSxLQUFLK0UsS0FBSyxhQUFlK0csRUFBSUMsS0FBSyxPQUVqQyxDQUNELE1BQU1ULFFBQWlCdEwsS0FBSzRLLFNBQVNrQixFQUFJakksS0FDbkNrSCxRQUFhTyxFQUFTUCxPQUM1Qi9LLEtBQUsrRSxLQUFLLHVCQUF1QixHQUNqQyxNQUFNaUgsUUFBb0JoTSxLQUFLOEssZUFBZUMsR0FDM0IsSUFBZmlCLEVBQ0FoTSxLQUFLK0UsS0FBSyxhQUFlaUgsR0FBYSxHQUd0Q2hNLEtBQUsrRSxLQUFLLGlFQUFpRSxFQUVuRixDQUNKLENBQ0k2RyxFQUFRSyxVQUFZQyxLQUFLQyxZQUE2QyxRQUE5QnhHLEVBQUtpRyxFQUFRbEosbUJBQWdDLElBQVBpRCxPQUFnQixFQUFTQSxFQUFHeUcsU0FDMUdwTSxLQUFLK0UsS0FBSzZHLEVBQVFsSixhQUFhLEdBRW5DLElBQUssTUFBTTJKLEtBQVNDLE1BQU1DLEtBQUtYLEVBQVFZLGtCQUM3QnhNLEtBQUsyTCxXQUFXVSxFQUU5QixHQUNKLENBQ0Esa0JBQUEzQixDQUFtQm5JLEdBQ2YsR0FBd0IsR0FBcEJ2QyxLQUFLdUosS0FBSzlILE9BQWQsQ0FHQSxHQUFJekIsS0FBSytJLHFCQUNhLElBQWxCeEcsRUFBTWtLLFNBQ3NCLGVBQTVCbEssRUFBTStELElBQUkzRCxjQUFnQyxDQUMxQyxJQUFJcUcsRUFBa0JoSixLQUFLdUosS0FBS21ELFFBQ2hDMU0sS0FBS3VKLEtBQUtvRCxLQUFLM0QsR0FDZmhKLEtBQUs0SixhQUNMNUosS0FBSzJMLFdBQVczQyxFQUNwQixDQUNBLEdBQUloSixLQUFLK0kscUJBQ2EsSUFBbEJ4RyxFQUFNa0ssU0FDc0IsY0FBNUJsSyxFQUFNK0QsSUFBSTNELGNBQStCLENBQ3pDLElBQUlxRyxFQUFrQmhKLEtBQUt1SixLQUFLcUQsTUFDaEM1TSxLQUFLdUosS0FBS3NELFFBQVE3RCxHQUNsQmhKLEtBQUs0SixhQUNMNUosS0FBSzJMLFdBQVczQyxFQUNwQixDQWhCQSxDQWlCSixDQUNBLGtCQUFBeUIsQ0FBbUJsSSxHQUNYdkMsS0FBSzBJLGtCQUFxQyxJQUFsQm5HLEVBQU1rSyxTQUFnRCxNQUE1QmxLLEVBQU0rRCxJQUFJM0QsZ0JBQ3ZEM0MsS0FBSytJLG9CQUtOL0ksS0FBS3VKLEtBQU8sR0FDWnZKLEtBQUtxSyxlQUxMckssS0FBS3VKLEtBQU92SixLQUFLOE0sMkJBQTJCOUwsU0FBU2dKLHFCQUFxQixZQUMxRWhLLEtBQUtvSyxjQU1UcEssS0FBSytJLG9CQUFzQi9JLEtBQUsrSSxtQkFFeEMsQ0FDQSxnQkFBQTRCLENBQWlCcEksR0FRYixHQVBJdkMsS0FBSytJLHFCQUNhLElBQWxCeEcsRUFBTWtLLFNBQ3NCLFVBQTVCbEssRUFBTStELElBQUkzRCxlQUNXLE1BQXJCM0MsS0FBS2lKLGVBQ0x0SSxRQUFRb00sSUFBSS9NLEtBQUtpSixjQUNqQmpKLEtBQUtpSixhQUFhK0QsU0FFbEJoTixLQUFLK0kscUJBQ2EsSUFBbEJ4RyxFQUFNa0ssU0FDc0IsVUFBNUJsSyxFQUFNK0QsSUFBSTNELGNBQTJCLENBQ3JDLElBQUlzSyxFQUFRak0sU0FBU2tNLHVCQUF1QixvQkFDNUN2TSxRQUFRb00sSUFBSUUsRUFBTWpOLEtBQUttSixXQUFXZ0UsU0FDbENuTixLQUFLaUosYUFBZWdFLEVBQU1qTixLQUFLbUosV0FDL0JuSixLQUFLaUosYUFBYW1FLFFBQ21CLFlBQWpDSCxFQUFNak4sS0FBS21KLFdBQVdnRSxTQUN0Qm5OLEtBQUtpSixhQUFhL0UsaUJBQWlCLFNBQVMsS0FDeEN2RCxRQUFRb00sSUFBSS9NLEtBQUtpSixhQUFhLElBRWxDakosS0FBSytFLEtBQUssNkJBQTZCLElBR0QsT0FBbEMvRSxLQUFLaUosYUFBYXZHLGFBQ2xCMUMsS0FBSytFLEtBQUsvRSxLQUFLaUosYUFBYXZHLGFBQWEsR0FHN0MxQyxLQUFLbUosWUFBYzhELEVBQU14TCxPQUFTLEVBQ2xDekIsS0FBS21KLFVBQVksRUFHakJuSixLQUFLbUosV0FBYSxDQUUxQixDQUNKLENBQ0EsWUFBQW9CLENBQWFoSSxHQUNMdkMsS0FBSzBJLGlCQUErQyxXQUE1Qm5HLEVBQU0rRCxJQUFJM0QsZUFDbEMzQyxLQUFLK0UsS0FBSyxHQUVsQixDQUNBLE1BQUF5RixDQUFPakksR0FDQ3ZDLEtBQUswSSxrQkFBcUMsSUFBbEJuRyxFQUFNa0ssU0FBZ0QsY0FBNUJsSyxFQUFNK0QsSUFBSTNELGVBQ2hDLE1BQXhCM0MsS0FBS2dKLGlCQUNtQyxNQUFwQ2hKLEtBQUtnSixnQkFBZ0J0RyxhQUNyQjFDLEtBQUsrRSxLQUFLL0UsS0FBS2dKLGdCQUFnQnRHLFlBSS9DLENBQ0EsMEJBQUFvSyxDQUEyQnZELEdBQ3ZCLElBQUlsQixFQUFTLEdBQ2IsSUFBSyxNQUFNeUIsS0FBT1AsRUFDZGxCLEVBQU9zRSxLQUFLN0MsR0FFaEIsT0FBT3pCLENBQ1gsRUMvTkcsTUFBTWdGLEVBQ1QsaUNBQU9DLEdBQ0gsTUFBTXpMLEVBQWFiLFNBQVNjLFlBQVksR0FrQnhDRCxFQUFXRSxXQWpCRyx1ZUFpQmlCRixFQUFXRyxTQUFTUCxPQUN2RCxFQ3JCRyxNQUFNOEwsRUFDVCxXQUFBeE4sR0FDSUMsS0FBS3dOLG9CQUFzQixJQUMzQnhOLEtBQUt5TixNQUFRLEVBQ2J6TixLQUFLME4sT0FBUyxFQUNkMU4sS0FBSzJOLE9BQVMsRUFDZDNOLEtBQUs0TixrQkFBb0IsRUFDekI1TixLQUFLNk4sbUJBQXFCLEVBQzFCN04sS0FBSzhOLGlCQUFtQixFQUN4QjlOLEtBQUsrTixtQkFBcUIsb0JBQXFCL00sU0FBU00sS0FBS3dDLE9BQ3pELGlCQUFrQjlDLFNBQVNNLEtBQUt3QyxPQUNoQyxnQkFBaUI5QyxTQUFTTSxLQUFLd0MsT0FDL0IsZUFBZ0I5QyxTQUFTTSxLQUFLd0MsT0FDOUIsY0FBZTlDLFNBQVNNLEtBQUt3QyxNQUNqQzlELEtBQUtnTyxXQUFjekwsSUFDSSxJQUFmdkMsS0FBS3lOLE9BQWlDLEtBQWxCbEwsRUFBTTBMLFNBQzFCak8sS0FBS2tPLFNBQUkxQyxFQUNiLEVBRUp4TCxLQUFLbU8sZUFBa0I1TCxJQUNBLElBQWZ2QyxLQUFLeU4sUUFDTHpOLEtBQUswTixPQUFTbkwsRUFBTTZMLFFBQ3BCcE8sS0FBSzJOLE9BQVNwTCxFQUFNOEwsUUFDeEIsRUFFQXJPLEtBQUsrTixxQkFFTC9NLFNBQVNNLEtBQUt3QyxNQUFNd0ssV0FBYSxhQUFldE8sS0FBS3dOLG9CQUFzQixXQU0vRXhNLFNBQVNrRCxpQkFBaUIsUUFBU2xFLEtBQUtnTyxZQUN4Q2hOLFNBQVNrRCxpQkFBaUIsWUFBYWxFLEtBQUttTyxlQUNoRCxDQUNBLE9BQUFJLENBQVFDLEVBQU1DLEdBQ1YsSUFBSUMsRUFBZTFPLEtBQUsyTyxrQkFPeEIsR0FMQUgsRUFBS3pLLE1BQVF5SyxFQUFLekssT0FBUyxFQUMzQnlLLEVBQUtJLE9BQVNKLEVBQUtJLFFBQVUsRUFFN0JKLEVBQUtLLElBQU1oRyxPQUFPaUcsV0FBY04sRUFBS3pLLE1BQVEwSyxHQUFVLEVBQ3ZERCxFQUFLTyxJQUFNbEcsT0FBT21HLFlBQWVSLEVBQUtJLE9BQVNILEdBQVUsRUFDckR6TyxLQUFLK04sbUJBRUwsR0FBYyxJQUFWVSxFQUNBek4sU0FBU00sS0FBS3dDLE1BQU1tTCxVQUFZLE9BTy9CLENBQ0QsSUFBSUMsRUFBU1IsRUFBYUcsRUFBSSxNQUFRSCxFQUFhSyxFQUFJLEtBQU1FLEVBQVksY0FBZ0JULEVBQUtLLEVBQUksT0FBU0wsRUFBS08sRUFBSSxhQUFlTixFQUFRLElBQzNJek4sU0FBU00sS0FBS3dDLE1BQU1xTCxnQkFBa0JELEVBS3RDbE8sU0FBU00sS0FBS3dDLE1BQU1tTCxVQUFZQSxDQUtwQyxNQUljLElBQVZSLEdBQ0F6TixTQUFTTSxLQUFLd0MsTUFBTXNMLFNBQVcsR0FDL0JwTyxTQUFTTSxLQUFLd0MsTUFBTXVMLEtBQU8sR0FDM0JyTyxTQUFTTSxLQUFLd0MsTUFBTXdMLElBQU0sR0FDMUJ0TyxTQUFTTSxLQUFLd0MsTUFBTUMsTUFBUSxHQUM1Qi9DLFNBQVNNLEtBQUt3QyxNQUFNOEssT0FBUyxLQUs3QjVOLFNBQVNNLEtBQUt3QyxNQUFNc0wsU0FBVyxXQUMvQnBPLFNBQVNNLEtBQUt3QyxNQUFNdUwsT0FBVVgsRUFBYUcsRUFBSUwsRUFBS0ssR0FBS0osRUFBUyxLQUNsRXpOLFNBQVNNLEtBQUt3QyxNQUFNd0wsTUFBU1osRUFBYUssRUFBSVAsRUFBS08sR0FBS04sRUFBUyxLQUNqRXpOLFNBQVNNLEtBQUt3QyxNQUFNQyxNQUFpQixJQUFSMEssRUFBZSxJQUM1Q3pOLFNBQVNNLEtBQUt3QyxNQUFNOEssT0FBa0IsSUFBUkgsRUFBZSxLQUlyRHpPLEtBQUt5TixNQUFRZ0IsQ0FDakIsQ0FDQSxHQUFBYyxHQUNJLElBQWtCQyxFQUFOLElBQWUzRyxPQUFPaUcsV0FBb0JXLEVBQTFDLElBQW1ENUcsT0FBT21HLFlBQXFCTixFQUFlMU8sS0FBSzJPLGtCQUUzRzNPLEtBQUsyTixPQUFTOEIsRUFDZDVHLE9BQU82RyxPQUFPaEIsRUFBYUcsRUFBR0gsRUFBYUssR0FBSyxFQUFLL08sS0FBSzJOLE9BQVM4QixJQUFZLEdBQUt6UCxLQUFLeU4sUUFHcEZ6TixLQUFLMk4sT0FBUzlFLE9BQU9tRyxZQUFjUyxHQUN4QzVHLE9BQU82RyxPQUFPaEIsRUFBYUcsRUFBR0gsRUFBYUssR0FBSyxHQUFLbEcsT0FBT21HLFlBQWNoUCxLQUFLMk4sUUFBVThCLElBQVcsR0FBS3pQLEtBQUt5TixRQUc5R3pOLEtBQUswTixPQUFTOEIsRUFDZDNHLE9BQU82RyxPQUFPaEIsRUFBYUcsR0FBSyxFQUFLN08sS0FBSzBOLE9BQVM4QixJQUFZLEdBQUt4UCxLQUFLeU4sT0FBUWlCLEVBQWFLLEdBR3pGL08sS0FBSzBOLE9BQVM3RSxPQUFPaUcsV0FBYVUsR0FDdkMzRyxPQUFPNkcsT0FBT2hCLEVBQWFHLEdBQUssR0FBS2hHLE9BQU9pRyxXQUFhOU8sS0FBSzBOLFFBQVU4QixJQUFXLEdBQUt4UCxLQUFLeU4sT0FBUWlCLEVBQWFLLEVBRTFILENBQ0EsZUFBQUosR0FDSSxNQUFPLENBQ0hFLE9BQXNCckQsSUFBbkIzQyxPQUFPOEcsUUFBd0I5RyxPQUFPOEcsUUFBVTlHLE9BQU8rRyxZQUMxRGIsT0FBc0J2RCxJQUFuQjNDLE9BQU9nSCxRQUF3QmhILE9BQU9nSCxRQUFVaEgsT0FBT2lILFlBRWxFLENBQ0EsRUFBQUMsQ0FBRzdFLEdBQ0MsR0FBbUIsSUFBZmxMLEtBQUt5TixNQUNMek4sS0FBS2tPLFNBQUkxQyxPQUVSLENBSUQsR0FIQU4sRUFBUTJELEVBQUkzRCxFQUFRMkQsR0FBSyxFQUN6QjNELEVBQVE2RCxFQUFJN0QsRUFBUTZELEdBQUssRUFFbkI3RCxFQUFROEUsUUFBUyxDQUVuQixJQUFJQyxFQUFxQyxpQkFBcEIvRSxFQUFRK0UsUUFBdUIvRSxFQUFRK0UsUUFBVSxHQUNsRUMsRUFBU2hGLEVBQVE4RSxRQUFRRyx3QkFDN0JqRixFQUFRMkQsRUFBSXFCLEVBQU9iLEtBQU9ZLEVBQzFCL0UsRUFBUTZELEVBQUltQixFQUFPWixJQUFNVyxFQUN6Qi9FLEVBQVFuSCxNQUFRbU0sRUFBT25NLE1BQW1CLEVBQVZrTSxFQUNoQy9FLEVBQVEwRCxPQUFTc0IsRUFBT3RCLE9BQW9CLEVBQVZxQixDQUN0QyxNQUVzQnpFLElBQWxCTixFQUFRbkgsWUFBMEN5SCxJQUFuQk4sRUFBUTBELFNBQ3ZDMUQsRUFBUXVELE1BQVEyQixLQUFLQyxJQUFJRCxLQUFLRSxJQUFJekgsT0FBT2lHLFdBQWE1RCxFQUFRbkgsTUFBTzhFLE9BQU9tRyxZQUFjOUQsRUFBUTBELFFBQVMsSUFFM0cxRCxFQUFRdUQsTUFBUSxJQUNoQnZELEVBQVEyRCxHQUFLM0QsRUFBUXVELE1BQ3JCdkQsRUFBUTZELEdBQUs3RCxFQUFRdUQsTUFDckJ2RCxFQUFRMkQsRUFBSXVCLEtBQUtDLElBQUluRixFQUFRMkQsRUFBRyxHQUNoQzNELEVBQVE2RCxFQUFJcUIsS0FBS0MsSUFBSW5GLEVBQVE2RCxFQUFHLEdBQ2hDL08sS0FBS3VPLFFBQVFyRCxFQUFTQSxFQUFRdUQsUUFDVixJQUFoQnZELEVBQVFxRSxNQUNSdlAsS0FBSzROLGlCQUFtQjJDLFdBQVd2USxLQUFLd1EsMkJBQTRCeFEsS0FBS3dOLHNCQUU3QyxtQkFBckJ0QyxFQUFRdUYsV0FDZnpRLEtBQUs4TixnQkFBa0J5QyxXQUFXckYsRUFBUXVGLFNBQVV6USxLQUFLd04sc0JBR3JFLENBQ0osQ0FDQSwwQkFBQWdELEdBQ0l4USxLQUFLNk4sa0JBQW9CcEksWUFBWXpGLEtBQUt1UCxJQUFLLElBQU8sR0FDMUQsQ0FDQSxHQUFBckIsQ0FBSWhELEdBQ0F3RixhQUFhMVEsS0FBSzROLGtCQUNsQnZJLGNBQWNyRixLQUFLNk4sbUJBQ25CNkMsYUFBYTFRLEtBQUs4TixpQkFDbEI5TixLQUFLdU8sUUFBUSxJQUFJb0MsRUFBWSxFQUFHLEVBQUcsR0FBSSxHQUNuQ3pGLEdBQXVDLG1CQUFyQkEsRUFBUXVGLFVBQzFCRixXQUFXckYsRUFBUXVGLFNBQVV6USxLQUFLd04scUJBRXRDeE4sS0FBS3lOLE1BQVEsQ0FDakIsRUFFRyxNQUFNa0QsRUFDVCxXQUFBNVEsQ0FBWThPLEVBQUdFLEVBQUdOLEdBQ2R6TyxLQUFLNk8sRUFBSSxFQUNUN08sS0FBSytPLEVBQUksRUFDVC9PLEtBQUt5TyxNQUFRLEVBQ2J6TyxLQUFLNk8sRUFBSUEsRUFDVDdPLEtBQUsrTyxFQUFJQSxFQUNUL08sS0FBS3lPLE1BQVFBLENBQ2pCLEVDM0tHLE1BQU1tQyxFQUNULFdBQUE3USxDQUFZOFEsR0FBb0IsR0FDNUI3USxLQUFLNlEsa0JBQW9CQSxFQUN6QjdRLEtBQUs4USxZQUFhLEVBQ2xCOVEsS0FBSytRLGVBQWlCLDZEQUN0Qi9RLEtBQUtnUixpQkFBbUIsOERBQ3hCaFIsS0FBS2lSLFdBQWMxTyxJQUNmdkMsS0FBS2tSLFlBQVluQixHQUFHLElBQUlZLEVBQVlwTyxFQUFNc00sRUFBR3RNLEVBQU13TSxFQUFHLElBQUksRUFFOUQvTyxLQUFLa1IsWUFBYyxJQUFJM0QsQ0FDM0IsQ0FDQSxNQUFBOUosR0FDSSxPQUFPekQsS0FBSzZRLGlCQUNoQixDQUNBLFlBQUFNLEdBQ0luUixLQUFLNlEsbUJBQXFCN1EsS0FBSzZRLGlCQUNuQyxDQUNBLFVBQUFPLENBQVdDLEVBQW9COU8sR0FDdEJ2QyxLQUFLNlEsb0JBR0xRLElBQXdDLElBQWxCOU8sRUFBTWtLLFNBQWdELGNBQTVCbEssRUFBTStELElBQUkzRCxnQkFDM0QwSyxFQUFXQyw2QkFDWHROLEtBQUtzUixrQkFBa0J0USxTQUFTTSxPQUV4QyxDQUNBLGlCQUFBZ1EsQ0FBa0JoUSxHQUNUdEIsS0FBSzhRLFdBSU45USxLQUFLdVIsZUFBZWpRLEVBQU10QixLQUFLZ1Isa0JBQW1CaFIsS0FBSzhRLFlBSHZEOVEsS0FBS3VSLGVBQWVqUSxFQUFNdEIsS0FBSytRLGdCQUFpQi9RLEtBQUs4USxZQUt6RDlRLEtBQUs4USxZQUFjOVEsS0FBSzhRLFVBQzVCLENBQ0EsY0FBQVMsQ0FBZWpRLEVBQU1vSyxFQUFTakksR0FDMUJuQyxFQUFLQyxtQkFBbUIsY0FBZW1LLEdBQ3ZDNkUsWUFBVyxLQUNQLE1BQU1pQixFQUFleFEsU0FBUytCLGVBQWUsZUFDN0N5TyxTQUE0REEsRUFBYTlQLFFBQVEsR0FDbEYsS0FDSCtCLEVBQVNuQyxFQUFLNEMsaUJBQWlCLFFBQVNsRSxLQUFLaVIsWUFBYzNQLEVBQUttUSxvQkFBb0IsUUFBU3pSLEtBQUtpUixXQUN0RyxFQzVDRyxNQUFNUyxFQUNULGtCQUFPQyxDQUFZQyxHQWFmLE9BWkFBLEVBQUk5TixNQUFNTyxRQUFVLE9BQ3BCdU4sRUFBSTlOLE1BQU0rTixXQUFhLFNBQ3ZCRCxFQUFJOU4sTUFBTWdPLGFBQWUsU0FDekJGLEVBQUk5TixNQUFNaU8sYUFBZSxTQUN6QkgsRUFBSTlOLE1BQU1rTyxlQUFpQixTQUMzQkosRUFBSTlOLE1BQU1zTCxTQUFXLFFBQ3JCd0MsRUFBSTlOLE1BQU13TCxJQUFNLElBQ2hCc0MsRUFBSTlOLE1BQU11TCxLQUFPLElBQ2pCdUMsRUFBSTlOLE1BQU1DLE1BQVEsT0FDbEI2TixFQUFJOU4sTUFBTW1PLGdCQUFrQixVQUM1QkwsRUFBSTlOLE1BQU1vTyxPQUFTLE1BQ25CTixFQUFJOU4sTUFBTXFPLE1BQVEsVUFDWFAsQ0FDWCxDQUNBLHFCQUFPUSxDQUFlUixHQU1sQixPQUxBQSxFQUFJOU4sTUFBTXVPLFVBQVksU0FDdEJULEVBQUk5TixNQUFNd08sS0FBTyxJQUNqQlYsRUFBSTlOLE1BQU1PLFFBQVUsT0FDcEJ1TixFQUFJOU4sTUFBTWdPLGFBQWUsU0FDekJGLEVBQUk5TixNQUFNa08sZUFBaUIsU0FDcEJKLENBQ1gsQ0FDQSxrQkFBT1csQ0FBWUMsR0FVZixPQVRBQSxFQUFPMU8sTUFBTTJPLFdBQWEsT0FDMUJELEVBQU8xTyxNQUFNNE8sT0FBUyxPQUN0QkYsRUFBTzFPLE1BQU1tTSxRQUFVLElBQ3ZCdUMsRUFBTzFPLE1BQU1XLE9BQVMsSUFDdEIrTixFQUFPMU8sTUFBTTZPLE9BQVMsVUFDdEJILEVBQU8xTyxNQUFNQyxNQUFRLE9BQ3JCeU8sRUFBTzFPLE1BQU04SyxPQUFTLE9BQ3RCNEQsRUFBTzFPLE1BQU04TyxVQUFZLFdBQ3pCSixFQUFPMU8sTUFBTXFPLE1BQVEsVUFDZEssQ0FDWCxDQUNBLHNCQUFPSyxHQUNILE1BQU1oUixFQUFhYixTQUFTYyxZQUFZLEdBb0J4Q0QsRUFBV0UsV0FuQk0sNmRBbUJlRixFQUFXRyxTQUFTUCxPQUN4RCxDQUNBLGVBQU9xUixDQUFTWCxFQUFPcE8sRUFBUSxLQUFNNkssRUFBUyxNQUMxQyxNQUFNbUUsRUFBYS9SLFNBQVNnUyxnQkFBZ0IsNkJBQThCLE9BRTFFRCxFQUFXRSxhQUFhLFFBQVNsUCxHQUNqQ2dQLEVBQVdFLGFBQWEsU0FBVXJFLEdBQ2xDbUUsRUFBV0UsYUFBYSxVQUFXLGFBQ25DRixFQUFXRSxhQUFhLFFBQVMsOEJBRWpDLE1BQU1DLEVBQWNsUyxTQUFTZ1MsZ0JBQWdCLDZCQUE4QixRQUszRSxPQUpBRSxFQUFZRCxhQUFhLElBQUssMGFBQzlCQyxFQUFZRCxhQUFhLE9BQVFkLEdBRWpDWSxFQUFXeFAsWUFBWTJQLEdBQ2hCSCxDQUNYLENBQ0EscUJBQU9JLENBQWVoQixHQUVsQixNQUFNWSxFQUFhL1IsU0FBU2dTLGdCQUFnQiw2QkFBOEIsT0FDMUVELEVBQVdFLGFBQWEsT0FBUWQsR0FDaENZLEVBQVdFLGFBQWEsVUFBVyxhQUVuQyxNQUFNQyxFQUFjbFMsU0FBU2dTLGdCQUFnQiw2QkFBOEIsUUFJM0UsT0FIQUUsRUFBWUQsYUFBYSxJQUFLLDZJQUU5QkYsRUFBV3hQLFlBQVkyUCxHQUNoQkgsQ0FDWCxDQUNBLDRCQUFPSyxHQUNILE1BQU12UixFQUFhYixTQUFTYyxZQUFZLEdBZXhDRCxFQUFXRSxXQWRZLDhWQWNlRixFQUFXRyxTQUFTUCxPQUM5RCxDQUNBLDBCQUFPNFIsR0FDSHJULEtBQUtzVCxvQkFDTHRULEtBQUt1VCxxQkFDTHZULEtBQUt3VCxxQkFDTHhULEtBQUt5VCx1QkFDVCxDQUNBLHdCQUFPSCxHQUNILE1BQU16UixFQUFhYixTQUFTYyxZQUFZLEdBYXhDRCxFQUFXRSxXQVpXLHNVQVllRixFQUFXRyxTQUFTUCxPQUM3RCxDQUNBLHlCQUFPOFIsR0FDSCxNQUFNMVIsRUFBYWIsU0FBU2MsWUFBWSxHQVN4Q0QsRUFBV0UsV0FSa0Isb05BUWVGLEVBQVdHLFNBQVNQLE9BQ3BFLENBQ0EseUJBQU8rUixHQUNILE1BQU0zUixFQUFhYixTQUFTYyxZQUFZLEdBS3hDRCxFQUFXRSxXQUprQix1RkFJZUYsRUFBV0csU0FBU1AsT0FDcEUsQ0FDQSw0QkFBT2dTLEdBQ0gsTUFBTTVSLEVBQWFiLFNBQVNjLFlBQVksR0FLeENELEVBQVdFLFdBSnFCLCtHQUllRixFQUFXRyxTQUFTUCxPQUN2RSxDQUNBLDhCQUFPaVMsR0FDSCxNQUFNN1IsRUFBYWIsU0FBU2MsWUFBWSxHQU94Q0QsRUFBV0UsV0FOYyxnSkFNZUYsRUFBV0csU0FBU1AsT0FDaEUsRUNsS2UsSUNHWixNQUNILFdBQUExQixDQUFZK1EsR0FBYSxFQUFPNkMsR0FBZSxFQUFPQyxHQUFlLEVBQU9qTCxFQUFRLElBQ2hGM0ksS0FBSzJJLE1BQVFBLEVBQ2IzSSxLQUFLNlQscUJBQXNCLEVBQzNCN1QsS0FBSzhULGtCQUFtQixFQUN4QjlULEtBQUsrVCxlQUFnQixFQUNyQi9ULEtBQUtnVSxZQUFlQyxJQUNoQixJQUFJelIsRUFDSixNQUFNMFIsRUFBU2xULFNBQVNpQyxjQUFjLE9BQ3RDLElBQUlrUixFQUFrQm5ULFNBQVNpQyxjQUFjLE9BQzdDaVIsRUFBTy9RLEdBQUsseUJBQTJCOFEsRUFBTzdRLEtBQzlDLE1BQU1nUixFQUFvQnBULFNBQVNpQyxjQUFjLE9BQ2pEbVIsRUFBa0IxUixZQUFjdVIsRUFBT0ksYUFDdkNELEVBQWtCdFEsTUFBTXdRLGFBQWUsT0FDdkMsTUFBTUMsRUFBZXZULFNBQVNpQyxjQUFjLE9BQzVDc1IsRUFBYXJSLFVBQVksZ0JBQ3pCcVIsRUFBYXBSLEdBQUssZUFBaUI4USxFQUFPN1EsS0FDMUMsTUFBTW1RLEVBQXFCdlMsU0FBU2lDLGNBQWMsT0EyQmxELEdBMUJBc1EsRUFBbUJyUSxVQUFZLHVCQUMvQnFSLEVBQWFoUixZQUFZZ1EsR0FDekJnQixFQUFhclEsaUJBQWlCLFNBQVUzQixJQUNwQyxJQUFJQyxFQUNKLE9BQVErUixFQUFhcFIsSUFDakIsSUFBSyxtQkFDRG5ELEtBQUt3VSxXQUFXckQsZUFDaEJzRCxhQUFhQyxRQUFRLGFBQWNDLEtBQUtDLFVBQVU1VSxLQUFLd1UsV0FBVy9RLFdBQ2xFLE1BQ0osSUFBSyxxQkFDRHpELEtBQUs2VSxhQUFhblIsZUFDbEIsSUFBSW9SLEVBQWM5VSxLQUFLNlUsYUFBYWhTLHdCQUNLLFFBQXhDTCxFQUFLMlIsRUFBZ0JZLHFCQUFrQyxJQUFQdlMsR0FBeUJBLEVBQUdvQyxPQUFPa1EsR0FDcEZMLGFBQWFDLFFBQVEsZUFBZ0JDLEtBQUtDLFVBQVU1VSxLQUFLNlUsYUFBYXBSLFdBQ3RFLE1BQ0osSUFBSyxxQkFDRHpELEtBQUtnVixtQkFBbUJ0UixlQUN4QitRLGFBQWFDLFFBQVEsZUFBZ0JDLEtBQUtDLFVBQVU1VSxLQUFLZ1YsbUJBQW1CdlIsV0FHcEY4USxFQUFhclQsVUFBVStULE9BQU8sU0FBUyxJQUUzQ2QsRUFBZ0JqUixVQUFZLHlCQUM1QmlSLEVBQWdCdlAsT0FBT3dQLEdBQ3ZCRCxFQUFnQnZQLE9BQU8yUCxHQUN2QkwsRUFBT3RQLE9BQU91UCxHQUNWRixFQUFPeFEsU0FDUDhRLEVBQWFyVCxVQUFVK1QsT0FBTyxVQUNYLFVBQWZoQixFQUFPN1EsTUFBa0IsQ0FDekJ6QyxRQUFRb00sSUFBSSxxQkFDWixJQUFJK0gsRUFBYzlVLEtBQUs2VSxhQUFhaFMsd0JBQ0ssUUFBeENMLEVBQUsyUixFQUFnQlkscUJBQWtDLElBQVB2UyxHQUF5QkEsRUFBR29DLE9BQU9rUSxFQUN4RixDQUVKLE9BQU9aLENBQU0sRUFFakJsVSxLQUFLa1YsWUFBYyxLQUVmLEdBREF2VSxRQUFRb00sSUFBSSxzQkFDUi9NLEtBQUsrVCxjQUFlLENBQ3BCLE1BQU1vQixFQUFvQm5VLFNBQVMrQixlQUFlLGtCQUdsRCxPQUZBb1MsU0FBc0VBLEVBQWtCelQsY0FDeEYxQixLQUFLK1QsZUFBaUIvVCxLQUFLK1QsY0FFL0IsQ0FDQSxNQUFNb0IsRUFBb0JuVSxTQUFTaUMsY0FBYyxPQUNqRGtTLEVBQWtCaFMsR0FBSyxpQkFDdkJnUyxFQUFrQmpTLFVBQVksaUJBRWIsQ0FDYixDQUFFRSxLQUFNLE9BQVFLLE9BQVF6RCxLQUFLd1UsV0FBVy9RLFNBQVU0USxhQUFjLFFBQ2hFLENBQUVqUixLQUFNLFNBQVVLLE9BQVF6RCxLQUFLNlUsYUFBYXBSLFNBQVU0USxhQUFjLG9CQUNwRSxDQUFFalIsS0FBTSxTQUFVSyxPQUFRekQsS0FBS2dWLG1CQUFtQnZSLFNBQVU0USxhQUFjLHdCQUVyRWhSLFNBQVM0USxJQUNka0IsRUFBa0I1UixZQUFZdkQsS0FBS2dVLFlBQVlDLEdBQVEsSUFFM0RqVCxTQUFTTSxLQUFLaUMsWUFBWTRSLEdBQzFCblYsS0FBSytULGVBQWlCL1QsS0FBSytULGFBQWEsRUFFNUMvVCxLQUFLb1YsWUFBYyxLQUNmLElBQUtwVixLQUFLNlQsb0JBQXFCLENBQzNCLE1BQU13QixFQUFVclUsU0FBUytCLGVBQWUsNkJBQ2xDdVMsRUFBVXRVLFNBQVMrQixlQUFlLFlBQ3hDL0MsS0FBSzZULHFCQUFzQixFQUUzQixNQUFNMEIsRUFBWUYsYUFBeUMsRUFBU0EsRUFBUUcsUUFBUSxDQUNoRixDQUFFQyxRQUFTLEVBQUd4RyxVQUFXLGlCQUN6QixDQUFFd0csUUFBUyxFQUFHeEcsVUFBVyxzQkFDMUIsQ0FDQ3lHLFNBQVUsSUFDVkMsT0FBUSxhQUVOQyxFQUFlTixhQUF5QyxFQUFTQSxFQUFRRSxRQUFRLENBQ25GLENBQUVsRyxJQUFLLFFBQ1AsQ0FBRUEsSUFBSyxTQUNSLENBQ0NvRyxTQUFVLElBQ1ZDLE9BQVEsU0FFUkosR0FBYUssSUFDYkwsRUFBVU0sU0FBVyxLQUNiUixJQUNBQSxFQUFRdlIsTUFBTU8sUUFBVSxRQUU1QnJFLEtBQUs2VCxxQkFBc0IsRUFDM0JZLGFBQWFDLFFBQVEsbUJBQW9CLE9BQU8sRUFFcERrQixFQUFhQyxTQUFXLEtBQ2hCUCxJQUNBQSxFQUFReFIsTUFBTXdMLElBQU0sT0FDeEIsRUFHWixHQUdxQixRQURDbUYsYUFBYXFCLFFBQVEsc0JBRTNDOVYsS0FBSzhULGtCQUFtQixHQUU1QnBDLEVBQXFCMkIsc0JBQ3JCM0IsRUFBcUIwQix3QkFDckIxQixFQUFxQm1CLGtCQUNyQm5CLEVBQXFCZ0MsMEJBQ3JCMVQsS0FBSzhRLFdBQWFBLEVBQ2xCOVEsS0FBSzJULGFBQWVBLEVBQ3BCM1QsS0FBSzRULGFBQWVBLEVBQ3BCLE1BQU1tQyxFQUFrQnRCLGFBQWFxQixRQUFRLGNBQ3pDQyxJQUNBcFYsUUFBUW9NLElBQUksMkJBQTRCNEgsS0FBS3FCLE1BQU1ELElBQ25EL1YsS0FBSzhRLFdBQWE2RCxLQUFLcUIsTUFBTUQsSUFFakMsTUFBTUUsRUFBb0J4QixhQUFhcUIsUUFBUSxnQkFDM0NHLElBQ0F0VixRQUFRb00sSUFBSSw2QkFBOEI0SCxLQUFLcUIsTUFBTUMsSUFDckRqVyxLQUFLMlQsYUFBZWdCLEtBQUtxQixNQUFNQyxJQUVuQyxNQUFNQyxFQUFvQnpCLGFBQWFxQixRQUFRLGdCQUMzQ0ksSUFDQXZWLFFBQVFvTSxJQUFJLDZCQUE4QjRILEtBQUtxQixNQUFNRSxJQUNyRGxXLEtBQUs0VCxhQUFlZSxLQUFLcUIsTUFBTUUsSUFFbkNsVyxLQUFLd1UsV0FBYSxJQUFJNUQsRUFBSzVRLEtBQUs4USxZQUNoQzlRLEtBQUs2VSxhQUFlLElBQUkxUyxFQUFPbkMsS0FBSzJULGNBQ3BDM1QsS0FBS2dWLG1CQUFxQixJQUFJdk0sRUFBYXpJLEtBQUs0VCxhQUFjNVQsS0FBSzJJLE1BQ3ZFLENBQ0EsS0FBQXdOLEdBQ0luVyxLQUFLb1csa0JBQ0xwVyxLQUFLcVcsY0FDTHJWLFNBQVNrRCxpQkFBaUIsV0FBWTNCLElBQ2xDNUIsUUFBUW9NLElBQUl4SyxFQUFNK0QsS0FDbEJ0RyxLQUFLd1UsV0FBV3BELFdBQVdwUixLQUFLZ1YsbUJBQW1CN0ssU0FBVTVILEdBQzdEdkMsS0FBS2dWLG1CQUFtQjFLLHFCQUFxQi9ILEVBQU0sR0FFM0QsQ0FDQSxXQUFBOFQsR0FDSSxNQUFNcFMsRUFBYWpELFNBQVNpQyxjQUFjLE9BQzFDZ0IsRUFBV2QsR0FBSyxXQUNoQmMsRUFBV2YsVUFBWSxXQUN2QmUsRUFBV0gsTUFBTXdMLElBQU10UCxLQUFLOFQsaUJBQW1CLE9BQVMsT0FDeEQ3UCxFQUFXVixZQUFZbU8sRUFBcUJvQixTQUFTLFlBQ3JEN08sRUFBV0MsaUJBQWlCLFFBQVNsRSxLQUFLa1YsYUFDMUNsVSxTQUFTTSxLQUFLaUMsWUFBWVUsRUFDOUIsQ0FDQSxlQUFBbVMsR0FDSSxJQUFJblMsRUFBYWpELFNBQVNpQyxjQUFjLE9BQ3hDZ0IsRUFBYXlOLEVBQXFCQyxZQUFZMU4sR0FDOUNBLEVBQVdkLEdBQUssNEJBQ1puRCxLQUFLOFQsbUJBQ0w3UCxFQUFXSCxNQUFNTyxRQUFVLFFBRS9CLElBQUlpUyxFQUFzQnRWLFNBQVNpQyxjQUFjLE9BQ2pEcVQsRUFBc0I1RSxFQUFxQlUsZUFBZWtFLEdBQzFELElBQUlDLEVBQWN2VixTQUFTaUMsY0FBYyxRQUN6Q3NULEVBQVk3VCxZQUFjLGdKQUMxQixJQUFJOFQsRUFBZ0J4VixTQUFTaUMsY0FBYyxVQUMzQ3VULEVBQWdCOUUsRUFBcUJhLFlBQVlpRSxHQUNqREEsRUFBY3RTLGlCQUFpQixRQUFTbEUsS0FBS29WLGFBQzdDb0IsRUFBY2pULFlBQVltTyxFQUFxQnlCLGVBQWUsWUFDOURtRCxFQUFvQi9TLFlBQVlnVCxHQUNoQ0QsRUFBb0IvUyxZQUFZbU8sRUFBcUJvQixTQUFTLFVBQVcsS0FBTSxPQUMvRTdPLEVBQVdWLFlBQVkrUyxHQUN2QnJTLEVBQVdWLFlBQVlpVCxHQUN2QnhWLFNBQVNNLEtBQUs0SSxhQUFhakcsRUFBWWpELFNBQVNNLEtBQUttVixXQUN6RCxJRHhMOEIsR0FBTSxHQUFNLEdBQ25DTixPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL2ZpbHRlci1tb2R1bGUvZmlsdGVyX3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL3N0eWxlcy9jc3MtZmlsdGVyLWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL2ZpbHRlci50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9zY3JlZW5fcmVhZGVyL3ZpZGVvLXByb2Nlc29yLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3NjcmVlbl9yZWFkZXIvc2NyZWVuX3JlYWRlci50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy96b29tL3N0eWxlcy9jc3Mtem9vbS1jbGFzc2VzLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3pvb20vem9vbS1tb2R1bGUvem9vbV9zZXJ2aWNlLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3pvb20vem9vbS50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9tYWluL3N0eWxlcy9jc3MtZXllZWFzc2lzdC1jbGFzc2VzLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9tYWluL2V5ZWVhc3Npc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEZpbHRlclNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhc0luc2VydGVkQWNjZXNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWN0aXZlX2ZpbHRlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbG9yQmxpbmRuZXNzQ2xhc3NlcyA9IFtcbiAgICAgICAgICAgIFwicHJvdGFub3BpYVwiLFxuICAgICAgICAgICAgXCJwcm90YW5vbWFseVwiLFxuICAgICAgICAgICAgXCJkZXV0ZXJhbm9waWFcIixcbiAgICAgICAgICAgIFwiZGV1dGVyYW5vbWFseVwiLFxuICAgICAgICAgICAgXCJ0cml0YW5vcGlhXCIsXG4gICAgICAgICAgICBcInRyaXRhbm9tYWx5XCIsXG4gICAgICAgICAgICBcImFjaHJvbWF0b3BzaWFcIixcbiAgICAgICAgICAgIFwiYWNocm9tYXRvbWFseVwiLFxuICAgICAgICAgICAgXCJncmF5c2NhbGVcIlxuICAgICAgICBdO1xuICAgICAgICB0aGlzLnZpc2lvbkNsYXNzZXMgPSBbXG4gICAgICAgICAgICBcInZpc2lvbi1sb3NzLW1vZGVyYXRlXCIsXG4gICAgICAgICAgICBcInZpc2lvbi1sb3NzLXNldmVyZVwiLFxuICAgICAgICAgICAgXCJ2aXNpb24tYmxpbmRuZXNzXCJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5jc3NGaWx0ZXIgPSBgXHJcbiAgPHN0eWxlPi5wcm90YW5vcGlhey13ZWJraXQtZmlsdGVyOnVybCgjcHJvdGFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNwcm90YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5wcm90YW5vbWFseXstd2Via2l0LWZpbHRlcjp1cmwoI3Byb3Rhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3Byb3Rhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5kZXV0ZXJhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNkZXV0ZXJhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjZGV1dGVyYW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5kZXV0ZXJhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjZGV1dGVyYW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNkZXV0ZXJhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS50cml0YW5vcGlhey13ZWJraXQtZmlsdGVyOnVybCgjdHJpdGFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCN0cml0YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS50cml0YW5vbWFseXstd2Via2l0LWZpbHRlcjp1cmwoI3RyaXRhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3RyaXRhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5hY2hyb21hdG9wc2lhey13ZWJraXQtZmlsdGVyOnVybCgjYWNocm9tYXRvcHNpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNhY2hyb21hdG9wc2lhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5hY2hyb21hdG9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjYWNocm9tYXRvbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNhY2hyb21hdG9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50fS5ncmF5c2NhbGV7LXdlYmtpdC1maWx0ZXI6Z3JheXNjYWxlKDEwMCUpIWltcG9ydGFudDtmaWx0ZXI6Z3JheXNjYWxlKDEwMCUpIWltcG9ydGFudH0udmlzaW9uLWxvc3MtbW9kZXJhdGUgYm9keT4qey13ZWJraXQtZmlsdGVyOmJsdXIoMXB4KSFpbXBvcnRhbnQ7ZmlsdGVyOmJsdXIoMXB4KSFpbXBvcnRhbnR9LnZpc2lvbi1sb3NzLXNldmVyZSBib2R5Pip7LXdlYmtpdC1maWx0ZXI6Ymx1cigxMHB4KSFpbXBvcnRhbnQ7ZmlsdGVyOmJsdXIoMTBweCkhaW1wb3J0YW50fS52aXNpb24tYmxpbmRuZXNzIGJvZHk+KntiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50Oy13ZWJraXQtZmlsdGVyOmJyaWdodG5lc3MoMCkhaW1wb3J0YW50O2ZpbHRlcjpicmlnaHRuZXNzKDApIWltcG9ydGFudH0jYWNjZXNzLWZpbHRlcntib3JkZXI6MDtjbGlwOnJlY3QoMXB4LDFweCwxcHgsMXB4KTstd2Via2l0LWNsaXAtcGF0aDppbnNldCg1MCUpO2NsaXAtcGF0aDppbnNldCg1MCUpO2hlaWdodDoxcHg7bWFyZ2luOi0xcHg7d2lkdGg6MXB4O292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7d29yZC13cmFwOm5vcm1hbCFpbXBvcnRhbnR9PC9zdHlsZT5gO1xuICAgICAgICB0aGlzLnN2Z0ZpbHRlclRlbXBsYXRlID0gYDxzdmcgXHJcbiAgaWQ9XCJhY2Nlc3MtZmlsdGVyXCJcclxuICBhcmlhLWhpZGRlbj1cInRydWVcIlxyXG4gIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gIHZlcnNpb249XCIxLjFcIj5cclxuICA8ZGVmcz5cclxuICAgIDxmaWx0ZXIgaWQ9XCJwcm90YW5vcGlhXCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjU2NywgMC40MzMsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjU1OCwgMC40NDIsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4yNDIsIDAuNzU4LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwicHJvdGFub21hbHlcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuODE3LCAwLjE4MywgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuMzMzLCAwLjY2NywgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjEyNSwgMC44NzUsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJkZXV0ZXJhbm9waWFcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuNjI1LCAwLjM3NSwgMCwgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjcsICAgMC4zLCAgIDAsICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMywgICAwLjcsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwiZGV1dGVyYW5vbWFseVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC44LCAgIDAuMiwgICAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4yNTgsIDAuNzQyLCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMTQyLCAwLjg1OCwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cInRyaXRhbm9waWFcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuOTUsIDAuMDUsICAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgMC40MzMsIDAuNTY3LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAwLjQ3NSwgMC41MjUsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cInRyaXRhbm9tYWx5XCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjk2NywgMC4wMzMsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC43MzMsIDAuMjY3LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4xODMsIDAuODE3LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwiYWNocm9tYXRvcHNpYVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC4yOTksIDAuNTg3LCAwLjExNCwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4yOTksIDAuNTg3LCAwLjExNCwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC4yOTksIDAuNTg3LCAwLjExNCwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cImFjaHJvbWF0b21hbHlcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuNjE4LCAwLjMyMCwgMC4wNjIsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuMTYzLCAwLjc3NSwgMC4wNjIsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuMTYzLCAwLjMyMCwgMC41MTYsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICA8L2RlZnM+XHJcbjwvc3ZnPmA7XG4gICAgfVxuICAgIGFwbGljYXJGaWx0cm8oZmlsdHJvKSB7XG4gICAgICAgIGlmIChmaWx0cm8gPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgYXBsaWNhciBsb3MgZmlsdHJvcywgbGEgb3BjaW9uIG5vIHNlIHBpbnRhZGEgY29ycmVjdGFtZW50ZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVfZmlsdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVRlc3QoXCJjb2xvckJsaW5kbmVzc1wiLCBmaWx0cm8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVUZXN0cyhcImNvbG9yQmxpbmRuZXNzXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlX2ZpbHRlciA9ICF0aGlzLmFjdGl2ZV9maWx0ZXI7XG4gICAgfVxuICAgIHRvZ2dsZVRlc3QodGVzdFR5cGUsIHRlc3RDbGFzcykge1xuICAgICAgICBpZiAoIXRoaXMuaGFzSW5zZXJ0ZWRBY2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0RmlsZXModGhpcy5zdmdGaWx0ZXJUZW1wbGF0ZSwgdGhpcy5jc3NGaWx0ZXIpO1xuICAgICAgICAgICAgdGhpcy5oYXNJbnNlcnRlZEFjY2VzcyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVUZXN0cyh0ZXN0VHlwZSk7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRlc3RDbGFzcyk7XG4gICAgfVxuICAgIGluc2VydEZpbGVzKHN2ZywgY3NzKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHN2Zyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGNzcyk7XG4gICAgfVxuICAgIHJlbW92ZVRlc3RzKHRlc3RUeXBlKSB7XG4gICAgICAgIGlmICh0ZXN0VHlwZSA9PSBcInZpc2lvblwiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmlzaW9uQ2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMudmlzaW9uQ2xhc3Nlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGVzdFR5cGUgPT0gXCJjb2xvckJsaW5kbmVzc1wiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29sb3JCbGluZG5lc3NDbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENzc0ZpbHRlckNsYXNzZXMge1xuICAgIHN0YXRpYyBhZGRGaWx0ZXJCdWZmZXJTdHlsZUNsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCBmaWx0ZXJfYnVmZmVyID0gYFxyXG4gICAgICAgIC5maWx0ZXItbGlzdC1idWZmZXIge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZpbHRlcl9idWZmZXIsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCBmaWx0ZXJfb3B0aW9uID0gYFxyXG4gICAgICAgIC5maWx0ZXItb3B0aW9uIHtcclxuICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcclxuICAgICAgICB9XHJcbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX29wdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmlsdGVyU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX2J1dHRvbiA9IGBcclxuICAgICAgICAuZmlsdGVyX2J1dHRvbiB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICB0b3A6IDIwcHg7XHJcbiAgICAgICAgICByaWdodDogMjBweDtcclxuICAgICAgICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzI0M2M1YTtcclxuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShmaWx0ZXJfYnV0dG9uLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyU2VydmljZSB9IGZyb20gXCIuL2ZpbHRlci1tb2R1bGUvZmlsdGVyX3NlcnZpY2VcIjtcbmltcG9ydCB7IENzc0ZpbHRlckNsYXNzZXMgfSBmcm9tIFwiLi9zdHlsZXMvY3NzLWZpbHRlci1jbGFzc2VzXCI7XG5leHBvcnQgY2xhc3MgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbmFibGVGaWx0ZXIgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVuYWJsZUZpbHRlciA9IGVuYWJsZUZpbHRlcjtcbiAgICAgICAgdGhpcy5maWx0ZXJWaWV3T24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydEZpbHRlciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgdmFyIGZpbHRybyA9IChfYSA9IGNvbXBvbmVudC50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UuYXBsaWNhckZpbHRybyhmaWx0cm8pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3dGaWx0ZXJPcHRpb25zTGlzdCA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5lbmFibGVGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsdGVyX2J1ZmZlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGhheSBpbnN0YW5jaWEgZGVsIGJ1ZmZlciBkZSBvcGNpb25lcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmlsdGVyTGlzdCA9IFtcbiAgICAgICAgICAgICAgICB7IGlkOiBcInByb3Rhbm9waWFcIiwgbmFtZTogXCJQcm90YW5vcGlhXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInByb3Rhbm9tYWx5XCIsIG5hbWU6IFwiUHJvdGFub21hbHlcIiB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwiZGV1dGVyYW5vcGlhXCIsIG5hbWU6IFwiRGV1dGVyb25vcGlhXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcImRldXRlcmFub21hbHlcIiwgbmFtZTogXCJEZXV0ZXJhbm9tYWx5XCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInRyaXRhbm9waWFcIiwgbmFtZTogXCJUcml0YW5vcGlhXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInRyaXRhbm9tYWx5XCIsIG5hbWU6IFwiVHJpdGFub21hbHlcIiB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwiYWNocm9tYXRvcHNpYVwiLCBuYW1lOiBcIkFjaHJvbWF0b3BzaWFcIiB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwiYWNocm9tYXRvbWFseVwiLCBuYW1lOiBcIkFjaHJvbWF0b21hbHlcIiB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6IFwiZ3JheXNjYWxlXCIsIG5hbWU6IFwiR3JheXNjYWxlXCIgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBjb25zdCBjb2xvck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgXCJjb2xvcnNcIixcbiAgICAgICAgICAgICAgICBcImZpbHRlclwiXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgdmFyIGJ1ZmZlckxpc3REaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBidWZmZXJMaXN0RGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmlsdGVyLWxpc3QtYnVmZmVyJztcbiAgICAgICAgICAgIGJ1ZmZlckxpc3REaXZFbGVtZW50LmlkID0gJ2ZpbHRlcl9idWZmZXInO1xuICAgICAgICAgICAgLypjb2xvck9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlcl9idWZmZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbHRlcl9idWZmZXJcIik7XG4gICAgICAgICAgICAgIGZpbHRlcl9idWZmZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGJ1aWxkQ29sb3JPcHRpb25zKG9wdGlvbikpO1xuICAgICAgICAgICAgfSkqL1xuICAgICAgICAgICAgZmlsdGVyTGlzdC5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBidWZmZXJMaXN0RGl2RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmJ1aWxkRmlsdGVyT3B0aW9uKGZpbHRlcikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyTGlzdERpdkVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZmlsdGVyU2VydmljZSA9IG5ldyBGaWx0ZXJTZXJ2aWNlKCk7XG4gICAgICAgIENzc0ZpbHRlckNsYXNzZXMuYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcygpO1xuICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzKCk7XG4gICAgfVxuICAgIHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlRmlsdGVyO1xuICAgIH1cbiAgICB0b2dnbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlRmlsdGVyID0gIXRoaXMuZW5hYmxlRmlsdGVyO1xuICAgIH1cbiAgICBzaG93RmlsdGVyT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gXCJodHRwczovL2dpdGh1Yi5jb20vRXllZUFzc2lzdC9kb2NzL2Jsb2IvZGV2ZWxvcC9zcmMvYXNzZXRzL2xvZ28ucG5nP3Jhdz10cnVlXCI7XG4gICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gJzUwcHgnO1xuICAgICAgICBpbWFnZS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXJfYnV0dG9uJztcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdmaWx0ZXJfYnV0dG9uJztcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICAgIGRpdkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dGaWx0ZXJPcHRpb25zTGlzdCk7XG4gICAgICAgIENzc0ZpbHRlckNsYXNzZXMuYWRkRmlsdGVyU3R5bGVDbGFzcygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgIH1cbiAgICBidWlsZEZpbHRlck9wdGlvbihmaWx0ZXJPcHRpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbkRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmlsdGVyLW9wdGlvbic7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5pZCA9IGZpbHRlck9wdGlvbi5pZCArICdfb3B0aW9uJztcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3RhcnRGaWx0ZXIpO1xuICAgICAgICBjb25zdCByYWRpb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb25zdCByYWRpb0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHJhZGlvQnV0dG9uLnR5cGUgPSBcInJhZGlvXCI7XG4gICAgICAgIHJhZGlvQnV0dG9uLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgcmFkaW9Db250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9ICc2cHgnO1xuICAgICAgICBjb25zdCBvcHRpb25UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBvcHRpb25UZXh0LnRleHRDb250ZW50ID0gZmlsdGVyT3B0aW9uLm5hbWU7XG4gICAgICAgIG9wdGlvblRleHQuc3R5bGUubWFyZ2luTGVmdCA9ICcxMnB4JztcbiAgICAgICAgcmFkaW9Db250YWluZXIuYXBwZW5kKHJhZGlvQnV0dG9uKTtcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5hcHBlbmQocmFkaW9Db250YWluZXIpO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmFwcGVuZChvcHRpb25UZXh0KTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbkRpdkVsZW1lbnQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFZpZGVvUHJvY2Vzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZvdW5kVmlkZW8gPSBmYWxzZSwgdGFsaykge1xuICAgICAgICB0aGlzLmZvdW5kVmlkZW8gPSBmb3VuZFZpZGVvO1xuICAgICAgICB0aGlzLnRhbGsgPSB0YWxrO1xuICAgICAgICB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhID09PSBZVC5QbGF5ZXJTdGF0ZS5QQVVTRUQpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT0gWVQuUGxheWVyU3RhdGUuRU5ERUQpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IFlULlBsYXllclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSAoX2EgPSB0aGlzLnBsYXllcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBjdXJyZW50VGltZSA9PT0gbnVsbCB8fCBjdXJyZW50VGltZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudFRpbWUudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChfYiA9IHRoaXMuc2NyaXB0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0KHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMucGxheWVyPy5wYXVzZVZpZGVvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygoX2MgPSB0aGlzLnNjcmlwdCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdldCh0aW1lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMucGxheWVyPy5wbGF5VmlkZW8oKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9nZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLmZvdW5kVmlkZW8gPSAhdGhpcy5mb3VuZFZpZGVvO1xuICAgIH1cbiAgICB0dXJuT2ZmKCkge1xuICAgICAgICB0aGlzLmZvdW5kVmlkZW8gPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnRBdWRpb0Rlc2NyaXB0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAodGhpcy5mb3VuZFZpZGVvICYmIGV2ZW50LnNoaWZ0S2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImtcIikge1xuICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnBsYXllcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBsYXllclN0YXRlKCkpID09IFlULlBsYXllclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnBsYXllcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhdXNlVmlkZW8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIChfYyA9IHRoaXMucGxheWVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucGxheVZpZGVvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlUGxheWVyKG5vZGUpIHtcbiAgICAgICAgbGV0IGlmcmFtZSA9IG5vZGU7XG4gICAgICAgIGlmcmFtZS5pZCA9ICdzaW5nbGUtdmlkZW8tZXllZWFzc2l0JztcbiAgICAgICAgdGhpcy5zY3JpcHQgPSB0aGlzLmdldFNjcmlwdChpZnJhbWUuc3JjKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25NYXJrSW5kZXggPSBpZnJhbWUuc3JjLmluZGV4T2YoJz8nKTtcbiAgICAgICAgaWZyYW1lLnNyYyA9IGlmcmFtZS5zcmMuc3Vic3RyaW5nKDAsIHF1ZXN0aW9uTWFya0luZGV4ICsgMSkgKyAnZW5hYmxlanNhcGk9MSYnICsgaWZyYW1lLnNyYy5zdWJzdHJpbmcocXVlc3Rpb25NYXJrSW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGlmcmFtZS5pZCwge1xuICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFNjcmlwdCh1cmwpIHtcbiAgICAgICAgY29uc3QgbXlNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIG15TWFwLnNldCgnMS4wJywgJ1BhaXNhamUgZGUgdW5hIHBsYXlhJyk7XG4gICAgICAgIG15TWFwLnNldCgnMTMuMCcsICdQYWlzYWplIGRlIHVuYXMgbW90YcOxYXMgeSB1bmEgYmFuZGVyYSBvbmRlYW5kbycpO1xuICAgICAgICBteU1hcC5zZXQoJzI4LjAnLCAnUGFpc2FqZSBjb24gdW5hIGNvc3RhIHkgb2xhcyByb21waWVuZG8nKTtcbiAgICAgICAgbXlNYXAuc2V0KCc0MC4wJywgJ1VuYSBsYWd1bmEgYXJ0aWZpY2lhbCcpO1xuICAgICAgICBteU1hcC5zZXQoJzU2LjAnLCAnVW4gcmlvIGxhcmdvJyk7XG4gICAgICAgIHJldHVybiBteU1hcDtcbiAgICB9XG59XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IFZpZGVvUHJvY2Vzb3IgfSBmcm9tIFwiLi92aWRlby1wcm9jZXNvclwiO1xuZXhwb3J0IGNsYXNzIFNjcmVlblJlYWRlciB7XG4gICAgY29uc3RydWN0b3IodXNlU2NyZWVuUmVhZGVyID0gZmFsc2UsIHRva2VuID0gXCJcIikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudXNlU2NyZWVuUmVhZGVyID0gdXNlU2NyZWVuUmVhZGVyO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuc3ludGggPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzO1xuICAgICAgICB0aGlzLnNjcmVlblJlYWRlclN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbnVsbDtcbiAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5saW5rSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyO1xuICAgICAgICB0aGlzLnZpZGVvUHJvY2Vzb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICAgICAgdGhpcy50YWxrID0gKHRleHQsIGNhbmNlbCA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbCA/IHRoaXMuc3ludGguY2FuY2VsKCkgOiBcIiBcIjtcbiAgICAgICAgICAgIHRoaXMuc3ludGguc3BlYWsobmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSh0ZXh0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2FuY2VsVGFsayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGFsayhcIlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLnVzZVNjcmVlblJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xuICAgICAgICBsZXQgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgICAgIChfYSA9IGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gICAgICAgIHRoaXMudmlkZW9Qcm9jZXNvciA9IG5ldyBWaWRlb1Byb2Nlc29yKGZhbHNlLCB0aGlzLnRhbGspO1xuICAgIH1cbiAgICBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZVNjcmVlblJlYWRlcjtcbiAgICB9XG4gICAgdG9nZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLnVzZVNjcmVlblJlYWRlciA9ICF0aGlzLnVzZVNjcmVlblJlYWRlcjtcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5SZWFkZXJTdGF0dXM7XG4gICAgfVxuICAgIHNheVdlbGNvbWUoKSB7XG4gICAgICAgIHRoaXMudGFsayhcIkhvbGEgYmllbnZlbmlkbyBhIGxhIHBhZ2luYSBYLCBzaSBkZXNlYSBsZWVyIGxhcyBhY2Npb25lcyBkZSBsYSBwYWdpbmEgcHJlc2lvbmUgY29udHJvbCB5IGVudGVyXCIpO1xuICAgIH1cbiAgICBzYXlHb29kYmF5KCkge1xuICAgICAgICB0aGlzLnRhbGsoXCJHcmFjaWFzIHBvciB1dGlsaXphciBleWVlYXNzaXN0XCIpO1xuICAgIH1cbiAgICBrZXliaW5kc1NjcmVlblJlYWRlcihldmVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY2FuY2VsUmVhZGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy5yZVJlYWQoZXZlbnQpO1xuICAgICAgICB0aGlzLmFjdGl2ZVNjcmVlblJlYWRlcihldmVudCk7XG4gICAgICAgIHRoaXMubW92ZUJldHdlZW5Db250ZW50KGV2ZW50KTtcbiAgICAgICAgdGhpcy5tb3ZlQmV0d2VlbkxpbmtzKGV2ZW50KTtcbiAgICAgICAgKF9hID0gdGhpcy52aWRlb1Byb2Nlc29yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRBdWRpb0Rlc2NyaXB0aW9uKGV2ZW50KTtcbiAgICB9XG4gICAgZ2V0SW1hZ2Uoc3JjKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXREZXNjcmlwdGlvbihibG9iKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYmxvYiwgJ2ltYWdlbi5qcGcnKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRoaXMudG9rZW5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9jYXB0aW9uJywgb3B0aW9ucylcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHlpZWxkIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb24ubWVzc2FnZVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVhZENoaWxkcyhhcnRpY2xlKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKGFydGljbGUubm9kZU5hbWUgPT0gJ0lGUkFNRScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ1ZpZGVvIGVuY29udHJhZG8sIHByZWNpb25lIHNoaWZ0IG1hcyBrIHBhcmEgaW5pY2lhciBlbCB2aWRlbyBjb24gYXVkaW8gZGVzY3JpcGNpb24nKTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnZpZGVvUHJvY2Vzb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b2dnbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnZpZGVvUHJvY2Vzb3IpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jcmVhdGVQbGF5ZXIoYXJ0aWNsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlTmFtZSA9PSAnSU1HJykge1xuICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGVuY29udHJhZGEnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgbGV0IGltZyA9IGFydGljbGU7XG4gICAgICAgICAgICAgICAgaWYgKGltZy5hbHQgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGRlICcgKyBpbWcuYWx0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuZ2V0SW1hZ2UoaW1nLnNyYyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSB5aWVsZCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnZGVzY3JpYmllbmRvIGltYWdlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB5aWVsZCB0aGlzLmdldERlc2NyaXB0aW9uKGJsb2IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24gIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKCdJbWFnZW4gZGUgJyArIGRlc2NyaXB0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ05vIHNlIHB1ZG8gZ2VuZXJhciB1bmEgZGVzY3JpcGNpb24gcGFyYSBsYSBpbWFnZW4gZW5jb250cmFkYS4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJ0aWNsZS5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERSAmJiAoKF9jID0gYXJ0aWNsZS50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRyaW0oKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoYXJ0aWNsZS50ZXh0Q29udGVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBBcnJheS5mcm9tKGFydGljbGUuY2hpbGROb2RlcykpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB0aGlzLnJlYWRDaGlsZHMoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbW92ZUJldHdlZW5Db250ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnRhZ3MubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgJiZcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImFycm93cmlnaHRcIikge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkQXJ0aWNsZSA9IHRoaXMudGFncy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy50YWdzLnB1c2goc2VsZWN0ZWRBcnRpY2xlKTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsVGFsaygpO1xuICAgICAgICAgICAgdGhpcy5yZWFkQ2hpbGRzKHNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJhcnJvd2xlZnRcIikge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkQXJ0aWNsZSA9IHRoaXMudGFncy5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMudGFncy51bnNoaWZ0KHNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFRhbGsoKTtcbiAgICAgICAgICAgIHRoaXMucmVhZENoaWxkcyhzZWxlY3RlZEFydGljbGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjdGl2ZVNjcmVlblJlYWRlcihldmVudCkge1xuICAgICAgICBpZiAodGhpcy51c2VTY3JlZW5SZWFkZXIgJiYgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJiBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCIgXCIpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSB0aGlzLmNvbnZlcnRUb0h0bWxFbGVtZW50c0FycmF5KGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYXJ0aWNsZVwiKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXlXZWxjb21lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnNheUdvb2RiYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzID0gIXRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdmVCZXR3ZWVuTGlua3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiZW50ZXJcIiAmJlxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZExpbmspO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgJiZcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVudGVyXCIpIHtcbiAgICAgICAgICAgIGxldCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZXh0X3JlYWRlcl9saW5rXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobGlua3NbdGhpcy5saW5rSW5kZXhdLnRhZ05hbWUpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgPSBsaW5rc1t0aGlzLmxpbmtJbmRleF07XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluay5mb2N1cygpO1xuICAgICAgICAgICAgaWYgKGxpbmtzW3RoaXMubGlua0luZGV4XS50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoXCJTZWxlY2Npb25hZG8gdW4gdGV4dCBhcmVhXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRMaW5rLnRleHRDb250ZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnNlbGVjdGVkTGluay50ZXh0Q29udGVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGlua0luZGV4ID09PSBsaW5rcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rSW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxSZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlU2NyZWVuUmVhZGVyICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVzY2FwZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnRhbGsoXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVSZWFkKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnVzZVNjcmVlblJlYWRlciAmJiBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXJ0aWNsZS50ZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnNlbGVjdGVkQXJ0aWNsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnZlcnRUb0h0bWxFbGVtZW50c0FycmF5KHRhZ3MpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh0YWcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENzc0NsYXNzZXMge1xuICAgIHN0YXRpYyBhZGRab29tTWVzc2FnZVRleHRCb3hDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdO1xuICAgICAgICB2YXIgY3NzUnVsZSA9IGAuem9vbS1tZXNzYWdlLXR4dGJveCB7ICBcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGMDA7XHJcbiAgICAgICAgICBjb2xvcjogIzAwMDAwMDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMjByZW07XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB3aWR0aDogODAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiA4MCU7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoY3NzUnVsZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBab29tU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiA9IDgwMDtcbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgICAgIHRoaXMubW91c2VYID0gMDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwO1xuICAgICAgICB0aGlzLnBhbkVuZ2FnZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5wYW5VcGRhdGVJbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLmNhbGxiYWNrVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnN1cHBvcnRzVHJhbnNmb3JtcyA9ICdXZWJraXRUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdNb3pUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdtc1RyYW5zZm9ybScgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSB8fFxuICAgICAgICAgICAgJ09UcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gICAgICAgIHRoaXMua2V5dXBFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEgJiYgZXZlbnQua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdXNlTW92ZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgLy8gVGhlIGVhc2luZyB0aGF0IHdpbGwgYmUgYXBwbGllZCB3aGVuIHdlIHpvb20gaW4vb3V0XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtICcgKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKyAnbXMgZWFzZSc7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zaXRpb24gPSAnLW8tdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNpdGlvbiA9ICctbXMtdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zaXRpb24gPSAnLW1vei10cmFuc2Zvcm0gJysgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsnbXMgZWFzZSc7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9ICctd2Via2l0LXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5dXBFdmVudCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW91c2VNb3ZlRXZlbnQpO1xuICAgIH1cbiAgICBtYWduaWZ5KHJlY3QsIHNjYWxlKSB7XG4gICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSB0aGlzLmdldFNjcm9sbE9mZnNldCgpO1xuICAgICAgICAvLyBFbnN1cmUgYSB3aWR0aC9oZWlnaHQgaXMgc2V0XG4gICAgICAgIHJlY3Qud2lkdGggPSByZWN0LndpZHRoIHx8IDE7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5oZWlnaHQgfHwgMTtcbiAgICAgICAgLy8gQ2VudGVyIHRoZSByZWN0IHdpdGhpbiB0aGUgem9vbWVkIHZpZXdwb3J0XG4gICAgICAgIHJlY3QueCAtPSAod2luZG93LmlubmVyV2lkdGggLSAocmVjdC53aWR0aCAqIHNjYWxlKSkgLyAyO1xuICAgICAgICByZWN0LnkgLT0gKHdpbmRvdy5pbm5lckhlaWdodCAtIChyZWN0LmhlaWdodCAqIHNjYWxlKSkgLyAyO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjYWxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luID0gc2Nyb2xsT2Zmc2V0LnggKyAncHggJyArIHNjcm9sbE9mZnNldC55ICsgJ3B4JywgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgLXJlY3QueCArICdweCwnICsgLXJlY3QueSArICdweCkgc2NhbGUoJyArIHNjYWxlICsgJyknO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuTW96VHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk9UcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2NhbGVcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCA9ICgtKHNjcm9sbE9mZnNldC54ICsgcmVjdC54KSAvIHNjYWxlKSArICdweCc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAoLShzY3JvbGxPZmZzZXQueSArIHJlY3QueSkgLyBzY2FsZSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAoc2NhbGUgKiAxMDApICsgJyUnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gKHNjYWxlICogMTAwKSArICclJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IHNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV2ZWwgPSBzY2FsZTtcbiAgICB9XG4gICAgcGFuKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSAwLjEyLCByYW5nZVggPSB3aW5kb3cuaW5uZXJXaWR0aCAqIHJhbmdlLCByYW5nZVkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiByYW5nZSwgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgLy8gVXBcbiAgICAgICAgaWYgKHRoaXMubW91c2VZIDwgcmFuZ2VZKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHNjcm9sbE9mZnNldC54LCBzY3JvbGxPZmZzZXQueSAtICgxIC0gKHRoaXMubW91c2VZIC8gcmFuZ2VZKSkgKiAoMTQgLyB0aGlzLmxldmVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG93blxuICAgICAgICBlbHNlIGlmICh0aGlzLm1vdXNlWSA+IHdpbmRvdy5pbm5lckhlaWdodCAtIHJhbmdlWSkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCwgc2Nyb2xsT2Zmc2V0LnkgKyAoMSAtICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLm1vdXNlWSkgLyByYW5nZVkpICogKDE0IC8gdGhpcy5sZXZlbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExlZnRcbiAgICAgICAgaWYgKHRoaXMubW91c2VYIDwgcmFuZ2VYKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHNjcm9sbE9mZnNldC54IC0gKDEgLSAodGhpcy5tb3VzZVggLyByYW5nZVgpKSAqICgxNCAvIHRoaXMubGV2ZWwpLCBzY3JvbGxPZmZzZXQueSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmlnaHRcbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZVggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHJhbmdlWCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCArICgxIC0gKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5tb3VzZVgpIC8gcmFuZ2VYKSAqICgxNCAvIHRoaXMubGV2ZWwpLCBzY3JvbGxPZmZzZXQueSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2Nyb2xsT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogd2luZG93LnNjcm9sbFggIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JvbGxYIDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgeTogd2luZG93LnNjcm9sbFkgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JvbGxZIDogd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub3V0KHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLnggPSBvcHRpb25zLnggfHwgMDtcbiAgICAgICAgICAgIG9wdGlvbnMueSA9IG9wdGlvbnMueSB8fCAwO1xuICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBpcyBzZXQsIHRoYXQgdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICAgICAgaWYgKCEhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gU3BhY2UgYXJvdW5kIHRoZSB6b29tZWQgaW4gZWxlbWVudCB0byBsZWF2ZSBvbiBzY3JlZW5cbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHR5cGVvZiBvcHRpb25zLnBhZGRpbmcgPT09ICdudW1iZXInID8gb3B0aW9ucy5wYWRkaW5nIDogMjA7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG9wdGlvbnMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnggPSBib3VuZHMubGVmdCAtIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ID0gYm91bmRzLnRvcCAtIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy53aWR0aCA9IGJvdW5kcy53aWR0aCArIChwYWRkaW5nICogMik7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0ICsgKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdpZHRoL2hlaWdodCB2YWx1ZXMgYXJlIHNldCwgY2FsY3VsYXRlIHNjYWxlIGZyb20gdGhvc2UgdmFsdWVzXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53aWR0aCAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjYWxlID0gTWF0aC5tYXgoTWF0aC5taW4od2luZG93LmlubmVyV2lkdGggLyBvcHRpb25zLndpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyBvcHRpb25zLmhlaWdodCksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ID0gTWF0aC5tYXgob3B0aW9ucy54LCAwKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnkgPSBNYXRoLm1heChvcHRpb25zLnksIDApO1xuICAgICAgICAgICAgICAgIHRoaXMubWFnbmlmeShvcHRpb25zLCBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wYW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFuRW5nYWdlVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5jYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCwgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dChvcHRpb25zLmNhbGxiYWNrLCB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCgpIHtcbiAgICAgICAgdGhpcy5wYW5VcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMucGFuLCAxMDAwIC8gNjApO1xuICAgIH1cbiAgICBvdXQob3B0aW9ucykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wYW5FbmdhZ2VUaW1lb3V0KTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBhblVwZGF0ZUludGVydmFsKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsbGJhY2tUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5tYWduaWZ5KG5ldyBPcHRpb25zWm9vbSgwLCAwLCAxKSwgMSk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KG9wdGlvbnMuY2FsbGJhY2ssIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9wdGlvbnNab29tIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSkge1xuICAgICAgICB0aGlzLnggPSAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuICAgICAgICB0aGlzLnNjYWxlID0gMDtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENzc0NsYXNzZXMgfSBmcm9tIFwiLi9zdHlsZXMvY3NzLXpvb20tY2xhc3Nlc1wiO1xuaW1wb3J0IHsgWm9vbVNlcnZpY2UsIE9wdGlvbnNab29tIH0gZnJvbSBcIi4vem9vbS1tb2R1bGUvem9vbV9zZXJ2aWNlXCI7XG5leHBvcnQgY2xhc3MgWm9vbSB7XG4gICAgY29uc3RydWN0b3IoZW5hYmxlWm9vbU9wdGlvbnMgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVuYWJsZVpvb21PcHRpb25zID0gZW5hYmxlWm9vbU9wdGlvbnM7XG4gICAgICAgIHRoaXMuem9vbVN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZV9tZXNzYWdlID0gYDxkaXYgaWQ9XCJ6b29tLXN0YXR1c1wiIGNsYXNzPVwiem9vbS1tZXNzYWdlLXR4dGJveFwiPk9uPC9kaXY+YDtcbiAgICAgICAgdGhpcy5kZWFjdGl2ZV9tZXNzYWdlID0gYDxkaXYgaWQ9XCJ6b29tLXN0YXR1c1wiIGNsYXNzPVwiem9vbS1tZXNzYWdlLXR4dGJveFwiPk9mZjwvZGl2PmA7XG4gICAgICAgIHRoaXMudG9vZ2xlWm9vbSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy56b29tU2VydmljZS50byhuZXcgT3B0aW9uc1pvb20oZXZlbnQueCwgZXZlbnQueSwgMTApKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy56b29tU2VydmljZSA9IG5ldyBab29tU2VydmljZSgpO1xuICAgIH1cbiAgICBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZVpvb21PcHRpb25zO1xuICAgIH1cbiAgICB0b29nbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlWm9vbU9wdGlvbnMgPSAhdGhpcy5lbmFibGVab29tT3B0aW9ucztcbiAgICB9XG4gICAgYWN0aXZlWm9vbShzY3JlZW5SZWFkZXJBY3RpdmUsIGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVab29tT3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2NyZWVuUmVhZGVyQWN0aXZlICYmIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgIENzc0NsYXNzZXMuYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbENsaWNrRXZlbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbENsaWNrRXZlbnQoYm9keSkge1xuICAgICAgICBpZiAoIXRoaXMuem9vbVN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5zaG93Qm94TWVzc2FnZShib2R5LCB0aGlzLmFjdGl2ZV9tZXNzYWdlLCAhdGhpcy56b29tU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JveE1lc3NhZ2UoYm9keSwgdGhpcy5kZWFjdGl2ZV9tZXNzYWdlLCAhdGhpcy56b29tU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSAhdGhpcy56b29tU3RhdHVzO1xuICAgIH1cbiAgICBzaG93Qm94TWVzc2FnZShib2R5LCBtZXNzYWdlLCBzdGF0dXMpIHtcbiAgICAgICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBtZXNzYWdlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6b29tX21lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInpvb20tc3RhdHVzXCIpO1xuICAgICAgICAgICAgem9vbV9tZXNzYWdlID09PSBudWxsIHx8IHpvb21fbWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbV9tZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgc3RhdHVzID8gYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9vZ2xlWm9vbSkgOiBib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvb2dsZVpvb20pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB7XG4gICAgc3RhdGljIG1haW5NZXNzYWdlKGRpdikge1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGNUY1REMnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gJzk5OSc7XG4gICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjMDA2NDAwJztcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG4gICAgc3RhdGljIG1lc3NhZ2VDb250ZW50KGRpdikge1xuICAgICAgICBkaXYuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5mbGV4ID0gJzEnO1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG4gICAgc3RhdGljIGNsb3NlQnV0dG9tKGJ1dHRvbikge1xuICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmhlaWdodCA9ICc1MHB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmFsaWduU2VsZiA9ICdmbGV4LWVuZCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjMDA2NDAwJztcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZseU1lbnVTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmx5X21lbnUgPSBgXHJcbiAgICAgICAgLmZseV9tZW51IHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgIHJpZ2h0OiA3MHB4O1xyXG4gICAgICAgICAgd2lkdGg6IDcycHg7XHJcbiAgICAgICAgICBoZWlnaHQ6IDcycHg7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNURDO1xyXG4gICAgICAgICAgY29sb3I6ICMwMDY0MDA7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcclxuICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZseV9tZW51LCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdIdW1hbihjb2xvciwgd2lkdGggPSAnMzQnLCBoZWlnaHQgPSAnMzgnKSB7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgLy8gRXN0YWJsZWNlIGxvcyBhdHJpYnV0b3MgZGVsIGVsZW1lbnRvIFNWR1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoKTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDM0IDM4XCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcInhtbG5zXCIsIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIik7XG4gICAgICAgIC8vIENyZWEgdW4gZWxlbWVudG8gZGUgcnV0YSBkZW50cm8gZGVsIFNWR1xuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0zMy41IDEzLjVIMjIuNVYzNy4zMzMzSDE4LjgzMzNWMjYuMzMzM0gxNS4xNjY3VjM3LjMzMzNIMTEuNVYxMy41SDAuNVY5LjgzMzMySDMzLjVNMTcgMC42NjY2NTZDMTcuOTcyNSAwLjY2NjY1NiAxOC45MDUxIDEuMDUyOTYgMTkuNTkyNyAxLjc0MDZDMjAuMjgwNCAyLjQyODIzIDIwLjY2NjcgMy4zNjA4NiAyMC42NjY3IDQuMzMzMzJDMjAuNjY2NyA1LjMwNTc4IDIwLjI4MDQgNi4yMzg0MSAxOS41OTI3IDYuOTI2MDVDMTguOTA1MSA3LjYxMzY4IDE3Ljk3MjUgNy45OTk5OSAxNyA3Ljk5OTk5QzE2LjAyNzUgNy45OTk5OSAxNS4wOTQ5IDcuNjEzNjggMTQuNDA3MyA2LjkyNjA1QzEzLjcxOTYgNi4yMzg0MSAxMy4zMzMzIDUuMzA1NzggMTMuMzMzMyA0LjMzMzMyQzEzLjMzMzMgMi4yOTgzMiAxNC45NjUgMC42NjY2NTYgMTcgMC42NjY2NTZaXCIpO1xuICAgICAgICBwYXRoRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIGNvbG9yKTtcbiAgICAgICAgLy8gQWdyZWdhIGxhIHJ1dGEgYWwgZWxlbWVudG8gU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIHN2Z0Nsb3NlQnV0dG9tKGNvbG9yKSB7XG4gICAgICAgIC8vIENyZWFyIHVuIGVsZW1lbnRvIFNWR1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBjb2xvcik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCAzMiAzMlwiKTtcbiAgICAgICAgLy8gQ3JlYXIgdW4gZWxlbWVudG8gcGF0aFxuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk03LjAwNCAyMy4wODdsNy4wOC03LjA4MS03LjA3LTcuMDcxTDguOTI5IDcuMDJsNy4wNjcgNy4wNjlMMjMuMDg0IDdsMS45MTIgMS45MTMtNy4wODkgNy4wOTMgNy4wNzUgNy4wNzctMS45MTIgMS45MTMtNy4wNzQtNy4wNzNMOC45MTcgMjV6XCIpO1xuICAgICAgICAvLyBBZ3JlZ2FyIGVsIGVsZW1lbnRvIHBhdGggYWwgU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIGFkZEJ1ZmZlck9wdGlvbnNDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgYnVmZmVyX29wdGlvbnMgPSBgXHJcbiAgICAgICAgLmJ1ZmZlcl9vcHRpb25zIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB0b3A6IDEzMHB4O1xyXG4gICAgICAgICAgICByaWdodDogNzBweDtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvOyBcclxuICAgICAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsgXHJcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUY1REM7XHJcbiAgICAgICAgICAgIGNvbG9yOiAjMDA2NDAwO1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShidWZmZXJfb3B0aW9ucywgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9nZ2xlU3dpdGNoQ2xhc3NlcygpIHtcbiAgICAgICAgdGhpcy50b29nbGVTd2l0Y2hDbGFzcygpO1xuICAgICAgICB0aGlzLnRvZ2dsZVN3aXRjaENpcmNsZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZVN3aXRjaEFjdGl2ZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZVN3aXRjaEFuaW1hdGlvbigpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9vZ2xlU3dpdGNoQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2ggPSBgXHJcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2gge1xyXG4gICAgICAgICAgICB3aWR0aDogNjBweDtcclxuICAgICAgICAgICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcywgdHJhbnNmb3JtIDAuM3M7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2gsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaENpcmNsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9jaXJjbGUgPSBgXHJcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2gtY2lyY2xlIHtcclxuICAgICAgICAgICAgd2lkdGg6IDMwcHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3M7XHJcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoX2NpcmNsZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9nZ2xlU3dpdGNoQWN0aXZlKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCB0b2dnbGVfc3dpdGNoX2FydGl2ZSA9IGBcclxuICAgICAgICAudG9nZ2xlLXN3aXRjaC5hY3RpdmUge1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmVjYzcxO1xyXG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUodG9nZ2xlX3N3aXRjaF9hcnRpdmUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaEFuaW1hdGlvbigpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9hbmltYXRpb24gPSBgXHJcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2guYWN0aXZlIC50b2dnbGUtc3dpdGNoLWNpcmNsZSB7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMHB4KTtcclxuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2hfYW5pbWF0aW9uLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBhZGRPcHRpb25GdW5jdGlvbnNDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3Qgb3B0aW9uX2Z1bmN0aW9ucyA9IGBcclxuICAgICAgICAub3B0aW9uX21lbnVfZXllZWFzc2lzdCB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKG9wdGlvbl9mdW5jdGlvbnMsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFeWVlYXNzaXN0IH0gZnJvbSBcIi4vbWFpbi9leWVlYXNzaXN0XCI7XG5jb25zdCBleWVlYXNzaXN0ID0gbmV3IEV5ZWVhc3Npc3QodHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG5leWVlYXNzaXN0LnN0YXJ0KCk7XG4iLCJpbXBvcnQgeyBGaWx0ZXIgfSBmcm9tIFwiLi4vZmlsdGVyL2ZpbHRlclwiO1xuaW1wb3J0IHsgU2NyZWVuUmVhZGVyIH0gZnJvbSBcIi4uL3NjcmVlbl9yZWFkZXIvc2NyZWVuX3JlYWRlclwiO1xuaW1wb3J0IHsgWm9vbSB9IGZyb20gXCIuLi96b29tL3pvb21cIjtcbmltcG9ydCB7IENzc0V5ZWVhc3Npc3RDbGFzc2VzIH0gZnJvbSBcIi4vc3R5bGVzL2Nzcy1leWVlYXNzaXN0LWNsYXNzZXNcIjtcbmV4cG9ydCBjbGFzcyBFeWVlYXNzaXN0IHtcbiAgICBjb25zdHJ1Y3Rvcih6b29tU3RhdHVzID0gZmFsc2UsIGZpbHRlclN0YXR1cyA9IGZhbHNlLCByZWFkZXJTdGF0dXMgPSBmYWxzZSwgdG9rZW4gPSAnJykge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmluaXRNZXNzYWdlQ2xvc2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52aWV3T3B0aW9uc09uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVpbGRPcHRpb24gPSAob3BjaW9uKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9wdGlvbi5pZCA9ICdvcHRpb25fbWVudV9leWVhc3Npc3RfJyArIG9wY2lvbi5uYW1lO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9wdGlvbk5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gb3BjaW9uLmRpc3BsYXlfbmFtZTtcbiAgICAgICAgICAgIG9wdGlvbk5hbWVFbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcyMHB4JztcbiAgICAgICAgICAgIGNvbnN0IHRvZ2dsZVN3aXRjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgdG9nZ2xlU3dpdGNoLmNsYXNzTmFtZSA9ICd0b2dnbGUtc3dpdGNoJztcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaC5pZCA9ICd0b2dnbGVTd2l0Y2gnICsgb3BjaW9uLm5hbWU7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVTd2l0Y2hDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaENpcmNsZS5jbGFzc05hbWUgPSBcInRvZ2dsZS1zd2l0Y2gtY2lyY2xlXCI7XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guYXBwZW5kQ2hpbGQodG9nZ2xlU3dpdGNoQ2lyY2xlKTtcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRvZ2dsZVN3aXRjaC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b2dnbGVTd2l0Y2hab29tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuWm9vbU9iamVjdC50b29nbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6b29tU3RhdHVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5ab29tT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9nZ2xlU3dpdGNoQ29sb3JzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0LnRvZ2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnNMaXN0ID0gdGhpcy5GaWx0ZXJPYmplY3Quc2hvd0ZpbHRlck9wdGlvbnNMaXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBvcHRpb25Db250YWluZXIucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFwcGVuZChvcHRpb25zTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZmlsdGVyU3RhdHVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5GaWx0ZXJPYmplY3Quc3RhdHVzKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b2dnbGVTd2l0Y2hSZWFkZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5TY3JlZW5SZWFkZXJPYmplY3QudG9nZ2xlU3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncmVhZGVyU3RhdHVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5TY3JlZW5SZWFkZXJPYmplY3Quc3RhdHVzKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2dnbGVTd2l0Y2guY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdGlvbkNvbnRhaW5lci5jbGFzc05hbWUgPSAnb3B0aW9uX21lbnVfZXllZWFzc2lzdCc7XG4gICAgICAgICAgICBvcHRpb25Db250YWluZXIuYXBwZW5kKG9wdGlvbk5hbWVFbGVtZW50KTtcbiAgICAgICAgICAgIG9wdGlvbkNvbnRhaW5lci5hcHBlbmQodG9nZ2xlU3dpdGNoKTtcbiAgICAgICAgICAgIG9wdGlvbi5hcHBlbmQob3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGlmIChvcGNpb24uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlU3dpdGNoLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgIGlmIChvcGNpb24ubmFtZSA9PSBcIkNvbG9yc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZ3JlZ2FuZG8gY29sb3JlcycpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uc0xpc3QgPSB0aGlzLkZpbHRlck9iamVjdC5zaG93RmlsdGVyT3B0aW9uc0xpc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gb3B0aW9uQ29udGFpbmVyLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hcHBlbmQob3B0aW9uc0xpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd09wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTW9zdHJhbmRvIG9wY2lvbmVzJyk7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3T3B0aW9uc09uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyTGlzdE9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVmZmVyX29wdGlvbnMnKTtcbiAgICAgICAgICAgICAgICBidWZmZXJMaXN0T3B0aW9ucyA9PT0gbnVsbCB8fCBidWZmZXJMaXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyTGlzdE9wdGlvbnMucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uc09uID0gIXRoaXMudmlld09wdGlvbnNPbjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWZmZXJMaXN0T3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuaWQgPSAnYnVmZmVyX29wdGlvbnMnO1xuICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuY2xhc3NOYW1lID0gJ2J1ZmZlcl9vcHRpb25zJztcbiAgICAgICAgICAgIC8vQ3JlYXIgb3BjaW9uZXNcbiAgICAgICAgICAgIGNvbnN0IG9wY2lvbmVzID0gW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1pvb20nLCBzdGF0dXM6IHRoaXMuWm9vbU9iamVjdC5zdGF0dXMoKSwgZGlzcGxheV9uYW1lOiAnWm9vbScgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDb2xvcnMnLCBzdGF0dXM6IHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpLCBkaXNwbGF5X25hbWU6ICdGaWx0cm9zIGRlIGNvbG9yJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1JlYWRlcicsIHN0YXR1czogdGhpcy5TY3JlZW5SZWFkZXJPYmplY3Quc3RhdHVzKCksIGRpc3BsYXlfbmFtZTogJ0xlY3R1cmEgZW4gdm96IGFsdGEnIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgb3BjaW9uZXMuZm9yRWFjaCgob3BjaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5idWlsZE9wdGlvbihvcGNpb24pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChidWZmZXJMaXN0T3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnZpZXdPcHRpb25zT24gPSAhdGhpcy52aWV3T3B0aW9uc09uO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNlcnJhck1vZGFsID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFuaW1hY2lvbkVuUHJvZ3Jlc28pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZW5zYWplID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V5ZWVhc2lzdC1pbml0aWFsLW1lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmbHlNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZseV9tZW51Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYWNpb25FblByb2dyZXNvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhIHVuYSBhbmltYWNpw7NuIHVzYW5kbyBsYSBBUEkgZGUgYW5pbWFjacOzbiBkZSBDU1NcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYWNpb24gPSBtZW5zYWplID09PSBudWxsIHx8IG1lbnNhamUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lbnNhamUuYW5pbWF0ZShbXG4gICAgICAgICAgICAgICAgICAgIHsgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKC0xMDAlKScgfVxuICAgICAgICAgICAgICAgIF0sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnZWFzZS1vdXQnIC8vIFRpcG8gZGUgaW50ZXJwb2xhY2nDs25cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmbHlBbmltYXRpb24gPSBmbHlNZW51ID09PSBudWxsIHx8IGZseU1lbnUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZseU1lbnUuYW5pbWF0ZShbXG4gICAgICAgICAgICAgICAgICAgIHsgdG9wOiAnNzBweCcgfSxcbiAgICAgICAgICAgICAgICAgICAgeyB0b3A6ICczMHB4JyB9LCAvLyBFc3RhZG8gZmluYWxcbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlJywgLy8gRnVuY2nDs24gZGUgdGVtcG9yaXphY2nDs24gKHB1ZWRlcyBjYW1iaWFybGEgc2Vnw7puIHR1cyBuZWNlc2lkYWRlcylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWFjaW9uICYmIGZseUFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBhbmltYWNpb24ub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVuc2FqZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnNhamUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2luaXRNZXNzYWdlQ2xvc2UnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBmbHlBbmltYXRpb24ub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmx5TWVudSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZseU1lbnUuc3R5bGUudG9wID0gJzMwcHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5pdE1lc3NhZ2VTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaW5pdE1lc3NhZ2VDbG9zZScpO1xuICAgICAgICBpZiAoaW5pdE1lc3NhZ2VTdGF0dXMgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRNZXNzYWdlQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLnRvZ2dsZVN3aXRjaENsYXNzZXMoKTtcbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMuYWRkQnVmZmVyT3B0aW9uc0NsYXNzKCk7XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLmFkZEZseU1lbnVTdHlsZSgpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5hZGRPcHRpb25GdW5jdGlvbnNDbGFzcygpO1xuICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSB6b29tU3RhdHVzO1xuICAgICAgICB0aGlzLmZpbHRlclN0YXR1cyA9IGZpbHRlclN0YXR1cztcbiAgICAgICAgdGhpcy5yZWFkZXJTdGF0dXMgPSByZWFkZXJTdGF0dXM7XG4gICAgICAgIGNvbnN0IHNhdmVkWm9vbVN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd6b29tU3RhdHVzJyk7XG4gICAgICAgIGlmIChzYXZlZFpvb21TdGF0dXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXkgem9vbSBzdGF0dXMgZ3VhcmRhZG8nLCBKU09OLnBhcnNlKHNhdmVkWm9vbVN0YXR1cykpO1xuICAgICAgICAgICAgdGhpcy56b29tU3RhdHVzID0gSlNPTi5wYXJzZShzYXZlZFpvb21TdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhdmVkRmlsdGVyU3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2ZpbHRlclN0YXR1cycpO1xuICAgICAgICBpZiAoc2F2ZWRGaWx0ZXJTdGF0dXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdIYXkgZmlsdGVyIHN0YXR1cyBndWFyZGFkbycsIEpTT04ucGFyc2Uoc2F2ZWRGaWx0ZXJTdGF0dXMpKTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyU3RhdHVzID0gSlNPTi5wYXJzZShzYXZlZEZpbHRlclN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWRSZWFkZXJTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncmVhZGVyU3RhdHVzJyk7XG4gICAgICAgIGlmIChzYXZlZFJlYWRlclN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSByZWFkZXIgc3RhdHVzIGd1YXJkYWRvJywgSlNPTi5wYXJzZShzYXZlZFJlYWRlclN0YXR1cykpO1xuICAgICAgICAgICAgdGhpcy5yZWFkZXJTdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkUmVhZGVyU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLlpvb21PYmplY3QgPSBuZXcgWm9vbSh0aGlzLnpvb21TdGF0dXMpO1xuICAgICAgICB0aGlzLkZpbHRlck9iamVjdCA9IG5ldyBGaWx0ZXIodGhpcy5maWx0ZXJTdGF0dXMpO1xuICAgICAgICB0aGlzLlNjcmVlblJlYWRlck9iamVjdCA9IG5ldyBTY3JlZW5SZWFkZXIodGhpcy5yZWFkZXJTdGF0dXMsIHRoaXMudG9rZW4pO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zaG93SW5pdE1lc3NhZ2UoKTtcbiAgICAgICAgdGhpcy5zaG93Rmx5TWVudSgpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmtleSk7XG4gICAgICAgICAgICB0aGlzLlpvb21PYmplY3QuYWN0aXZlWm9vbSh0aGlzLlNjcmVlblJlYWRlck9iamVjdC5lbmFibGUoKSwgZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5TY3JlZW5SZWFkZXJPYmplY3Qua2V5YmluZHNTY3JlZW5SZWFkZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2hvd0ZseU1lbnUoKSB7XG4gICAgICAgIGNvbnN0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdmbHlfbWVudSc7XG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZseV9tZW51JztcbiAgICAgICAgZGl2RWxlbWVudC5zdHlsZS50b3AgPSB0aGlzLmluaXRNZXNzYWdlQ2xvc2UgPyAnMzBweCcgOiAnNzBweCc7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoQ3NzRXllZWFzc2lzdENsYXNzZXMuc3ZnSHVtYW4oJyMwMDY0MDAnKSk7XG4gICAgICAgIGRpdkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dPcHRpb25zKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTtcbiAgICB9XG4gICAgc2hvd0luaXRNZXNzYWdlKCkge1xuICAgICAgICBsZXQgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50ID0gQ3NzRXllZWFzc2lzdENsYXNzZXMubWFpbk1lc3NhZ2UoZGl2RWxlbWVudCk7XG4gICAgICAgIGRpdkVsZW1lbnQuaWQgPSAnZXllZWFzaXN0LWluaXRpYWwtbWVzc2FnZSc7XG4gICAgICAgIGlmICh0aGlzLmluaXRNZXNzYWdlQ2xvc2UpIHtcbiAgICAgICAgICAgIGRpdkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGl2RWxlbWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50Q29udGFpbmVyID0gQ3NzRXllZWFzc2lzdENsYXNzZXMubWVzc2FnZUNvbnRlbnQoZGl2RWxlbWVudENvbnRhaW5lcik7XG4gICAgICAgIGxldCBzcGFuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgc3BhbkVsZW1lbnQudGV4dENvbnRlbnQgPSAnRXN0YSBww6FnaW5hIGN1ZW50YSBjb24gaGVycmFtaWVudGFzIGRlIGFjY2VzaWJpbGlkYWQuIFBhcmEgYWN0aXZhciB5L28gZGVzYWN0aXZhciBlc3RhcyBoZXJyYW1pZW50YXMgcHJlc2lvbmEgY21kICsgQSBvIGhheiBjbGljayBlbiBlbCBib3TDs24nO1xuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICBidXR0b25FbGVtZW50ID0gQ3NzRXllZWFzc2lzdENsYXNzZXMuY2xvc2VCdXR0b20oYnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNlcnJhck1vZGFsKTtcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdDbG9zZUJ1dHRvbSgnIzAwNjQwMCcpKTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuRWxlbWVudCk7XG4gICAgICAgIGRpdkVsZW1lbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoQ3NzRXllZWFzc2lzdENsYXNzZXMuc3ZnSHVtYW4oJyMwMDY0MDAnLCAnMjAnLCAnMjAnKSk7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudENvbnRhaW5lcik7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uRWxlbWVudCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGRpdkVsZW1lbnQsIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkZpbHRlclNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJoYXNJbnNlcnRlZEFjY2VzcyIsImFjdGl2ZV9maWx0ZXIiLCJjb2xvckJsaW5kbmVzc0NsYXNzZXMiLCJ2aXNpb25DbGFzc2VzIiwiY3NzRmlsdGVyIiwic3ZnRmlsdGVyVGVtcGxhdGUiLCJhcGxpY2FyRmlsdHJvIiwiZmlsdHJvIiwicmVtb3ZlVGVzdHMiLCJ0b2dnbGVUZXN0IiwiY29uc29sZSIsImVycm9yIiwidGVzdFR5cGUiLCJ0ZXN0Q2xhc3MiLCJpbnNlcnRGaWxlcyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3ZnIiwiY3NzIiwiYm9keSIsImluc2VydEFkamFjZW50SFRNTCIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJDc3NGaWx0ZXJDbGFzc2VzIiwiYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcyIsInN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0cyIsImluc2VydFJ1bGUiLCJjc3NSdWxlcyIsImFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzIiwiYWRkRmlsdGVyU3R5bGVDbGFzcyIsIkZpbHRlciIsImVuYWJsZUZpbHRlciIsImZpbHRlclZpZXdPbiIsInN0YXJ0RmlsdGVyIiwiZXZlbnQiLCJfYSIsInRhcmdldCIsInRleHRDb250ZW50IiwidG9Mb3dlckNhc2UiLCJmaWx0ZXJTZXJ2aWNlIiwic2hvd0ZpbHRlck9wdGlvbnNMaXN0IiwiZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSIsImdldEVsZW1lbnRCeUlkIiwiYnVmZmVyTGlzdERpdkVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaWQiLCJuYW1lIiwiZm9yRWFjaCIsImZpbHRlciIsImFwcGVuZENoaWxkIiwiYnVpbGRGaWx0ZXJPcHRpb24iLCJzdGF0dXMiLCJ0b2dnbGVTdGF0dXMiLCJzaG93RmlsdGVyT3B0aW9ucyIsImltYWdlIiwic3JjIiwic3R5bGUiLCJ3aWR0aCIsImJvcmRlclJhZGl1cyIsImRpdkVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZmlsdGVyT3B0aW9uIiwib3B0aW9uRGl2RWxlbWVudCIsImRpc3BsYXkiLCJyYWRpb0NvbnRhaW5lciIsInJhZGlvQnV0dG9uIiwidHlwZSIsIm1hcmdpbiIsIm1hcmdpbkxlZnQiLCJvcHRpb25UZXh0IiwiYXBwZW5kIiwiVmlkZW9Qcm9jZXNvciIsImZvdW5kVmlkZW8iLCJ0YWxrIiwib25QbGF5ZXJTdGF0ZUNoYW5nZSIsImRhdGEiLCJZVCIsIlBsYXllclN0YXRlIiwiUEFVU0VEIiwiY2xlYXJJbnRlcnZhbCIsImludGVydmFsIiwiRU5ERUQiLCJQTEFZSU5HIiwic2V0SW50ZXJ2YWwiLCJfYiIsIl9jIiwiY3VycmVudFRpbWUiLCJwbGF5ZXIiLCJnZXRDdXJyZW50VGltZSIsInRpbWUiLCJ0b0ZpeGVkIiwic2NyaXB0IiwiZ2V0IiwidHVybk9mZiIsInN0YXJ0QXVkaW9EZXNjcmlwdGlvbiIsInNoaWZ0S2V5Iiwia2V5IiwiZ2V0UGxheWVyU3RhdGUiLCJwYXVzZVZpZGVvIiwicGxheVZpZGVvIiwiY3JlYXRlUGxheWVyIiwibm9kZSIsImlmcmFtZSIsImdldFNjcmlwdCIsInF1ZXN0aW9uTWFya0luZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsIlBsYXllciIsImV2ZW50cyIsInVybCIsIm15TWFwIiwiTWFwIiwic2V0IiwiX19hd2FpdGVyIiwidGhpc0FyZyIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsIlNjcmVlblJlYWRlciIsInVzZVNjcmVlblJlYWRlciIsInRva2VuIiwic3ludGgiLCJ3aW5kb3ciLCJzcGVlY2hTeW50aGVzaXMiLCJzY3JlZW5SZWFkZXJTdGF0dXMiLCJzZWxlY3RlZEFydGljbGUiLCJzZWxlY3RlZExpbmsiLCJhcnRpY2xlSW5kZXgiLCJsaW5rSW5kZXgiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidmlkZW9Qcm9jZXNvciIsInRhZ3MiLCJ0ZXh0IiwiY2FuY2VsIiwic3BlYWsiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJjYW5jZWxUYWxrIiwiYWJvcnQiLCJ0YWciLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImVuYWJsZSIsInNheVdlbGNvbWUiLCJzYXlHb29kYmF5Iiwia2V5YmluZHNTY3JlZW5SZWFkZXIiLCJjYW5jZWxSZWFkZXIiLCJyZVJlYWQiLCJhY3RpdmVTY3JlZW5SZWFkZXIiLCJtb3ZlQmV0d2VlbkNvbnRlbnQiLCJtb3ZlQmV0d2VlbkxpbmtzIiwiZ2V0SW1hZ2UiLCJmZXRjaCIsImdldERlc2NyaXB0aW9uIiwiYmxvYiIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsInJlc3BvbnNlIiwiY2F0Y2giLCJ1bmRlZmluZWQiLCJqc29uIiwibWVzc2FnZSIsInJlYWRDaGlsZHMiLCJhcnRpY2xlIiwibm9kZU5hbWUiLCJpbWciLCJhbHQiLCJkZXNjcmlwdGlvbiIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsInRyaW0iLCJjaGlsZCIsIkFycmF5IiwiZnJvbSIsImNoaWxkTm9kZXMiLCJjdHJsS2V5Iiwic2hpZnQiLCJwdXNoIiwicG9wIiwidW5zaGlmdCIsImNvbnZlcnRUb0h0bWxFbGVtZW50c0FycmF5IiwibG9nIiwiY2xpY2siLCJsaW5rcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ0YWdOYW1lIiwiZm9jdXMiLCJDc3NDbGFzc2VzIiwiYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MiLCJab29tU2VydmljZSIsIlRSQU5TSVRJT05fRFVSQVRJT04iLCJsZXZlbCIsIm1vdXNlWCIsIm1vdXNlWSIsInBhbkVuZ2FnZVRpbWVvdXQiLCJwYW5VcGRhdGVJbnRlcnZhbCIsImNhbGxiYWNrVGltZW91dCIsInN1cHBvcnRzVHJhbnNmb3JtcyIsImtleXVwRXZlbnQiLCJrZXlDb2RlIiwib3V0IiwibW91c2VNb3ZlRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsInRyYW5zaXRpb24iLCJtYWduaWZ5IiwicmVjdCIsInNjYWxlIiwic2Nyb2xsT2Zmc2V0IiwiZ2V0U2Nyb2xsT2Zmc2V0IiwiaGVpZ2h0IiwieCIsImlubmVyV2lkdGgiLCJ5IiwiaW5uZXJIZWlnaHQiLCJ0cmFuc2Zvcm0iLCJvcmlnaW4iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJwb3NpdGlvbiIsImxlZnQiLCJ0b3AiLCJwYW4iLCJyYW5nZVgiLCJyYW5nZVkiLCJzY3JvbGwiLCJzY3JvbGxYIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJ0byIsImVsZW1lbnQiLCJwYWRkaW5nIiwiYm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiTWF0aCIsIm1heCIsIm1pbiIsInNldFRpbWVvdXQiLCJjYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCIsImNhbGxiYWNrIiwiY2xlYXJUaW1lb3V0IiwiT3B0aW9uc1pvb20iLCJab29tIiwiZW5hYmxlWm9vbU9wdGlvbnMiLCJ6b29tU3RhdHVzIiwiYWN0aXZlX21lc3NhZ2UiLCJkZWFjdGl2ZV9tZXNzYWdlIiwidG9vZ2xlWm9vbSIsInpvb21TZXJ2aWNlIiwidG9vZ2xlU3RhdHVzIiwiYWN0aXZlWm9vbSIsInNjcmVlblJlYWRlckFjdGl2ZSIsImluaXRpYWxDbGlja0V2ZW50Iiwic2hvd0JveE1lc3NhZ2UiLCJ6b29tX21lc3NhZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQ3NzRXllZWFzc2lzdENsYXNzZXMiLCJtYWluTWVzc2FnZSIsImRpdiIsImFsaWduSXRlbXMiLCJhbGlnbkNvbnRlbnQiLCJqdXN0aWZ5SXRlbXMiLCJqdXN0aWZ5Q29udGVudCIsImJhY2tncm91bmRDb2xvciIsInpJbmRleCIsImNvbG9yIiwibWVzc2FnZUNvbnRlbnQiLCJ0ZXh0QWxpZ24iLCJmbGV4IiwiY2xvc2VCdXR0b20iLCJidXR0b24iLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwiY3Vyc29yIiwiYWxpZ25TZWxmIiwiYWRkRmx5TWVudVN0eWxlIiwic3ZnSHVtYW4iLCJzdmdFbGVtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwicGF0aEVsZW1lbnQiLCJzdmdDbG9zZUJ1dHRvbSIsImFkZEJ1ZmZlck9wdGlvbnNDbGFzcyIsInRvZ2dsZVN3aXRjaENsYXNzZXMiLCJ0b29nbGVTd2l0Y2hDbGFzcyIsInRvZ2dsZVN3aXRjaENpcmNsZSIsInRvZ2dsZVN3aXRjaEFjdGl2ZSIsInRvZ2dsZVN3aXRjaEFuaW1hdGlvbiIsImFkZE9wdGlvbkZ1bmN0aW9uc0NsYXNzIiwiZmlsdGVyU3RhdHVzIiwicmVhZGVyU3RhdHVzIiwiYW5pbWFjaW9uRW5Qcm9ncmVzbyIsImluaXRNZXNzYWdlQ2xvc2UiLCJ2aWV3T3B0aW9uc09uIiwiYnVpbGRPcHRpb24iLCJvcGNpb24iLCJvcHRpb24iLCJvcHRpb25Db250YWluZXIiLCJvcHRpb25OYW1lRWxlbWVudCIsImRpc3BsYXlfbmFtZSIsInBhZGRpbmdSaWdodCIsInRvZ2dsZVN3aXRjaCIsIlpvb21PYmplY3QiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsIkZpbHRlck9iamVjdCIsIm9wdGlvbnNMaXN0IiwicGFyZW50RWxlbWVudCIsIlNjcmVlblJlYWRlck9iamVjdCIsInRvZ2dsZSIsInNob3dPcHRpb25zIiwiYnVmZmVyTGlzdE9wdGlvbnMiLCJjZXJyYXJNb2RhbCIsIm1lbnNhamUiLCJmbHlNZW51IiwiYW5pbWFjaW9uIiwiYW5pbWF0ZSIsIm9wYWNpdHkiLCJkdXJhdGlvbiIsImVhc2luZyIsImZseUFuaW1hdGlvbiIsIm9uZmluaXNoIiwiZ2V0SXRlbSIsInNhdmVkWm9vbVN0YXR1cyIsInBhcnNlIiwic2F2ZWRGaWx0ZXJTdGF0dXMiLCJzYXZlZFJlYWRlclN0YXR1cyIsInN0YXJ0Iiwic2hvd0luaXRNZXNzYWdlIiwic2hvd0ZseU1lbnUiLCJkaXZFbGVtZW50Q29udGFpbmVyIiwic3BhbkVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwiZmlyc3RDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=