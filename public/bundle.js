(()=>{"use strict";class t{static getBackgroundColor(){return"#243C5A"}static getForegroundColor(){return"#FFFFFF"}static getMinimumFontSize(){return"16px"}}class e{constructor(){this.hasInsertedAccess=!1,this.active_filter=!1,this.filtro_aplicado="",this.colorBlindnessClasses=["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"],this.visionClasses=["vision-loss-moderate","vision-loss-severe","vision-blindness"],this.cssFilter="\n  <style>.protanopia{-webkit-filter:url(#protanopia) grayscale(0)!important;filter:url(#protanopia) grayscale(0)!important}.protanomaly{-webkit-filter:url(#protanomaly) grayscale(0)!important;filter:url(#protanomaly) grayscale(0)!important}.deuteranopia{-webkit-filter:url(#deuteranopia) grayscale(0)!important;filter:url(#deuteranopia) grayscale(0)!important}.deuteranomaly{-webkit-filter:url(#deuteranomaly) grayscale(0)!important;filter:url(#deuteranomaly) grayscale(0)!important}.tritanopia{-webkit-filter:url(#tritanopia) grayscale(0)!important;filter:url(#tritanopia) grayscale(0)!important}.tritanomaly{-webkit-filter:url(#tritanomaly) grayscale(0)!important;filter:url(#tritanomaly) grayscale(0)!important}.achromatopsia{-webkit-filter:url(#achromatopsia) grayscale(0)!important;filter:url(#achromatopsia) grayscale(0)!important}.achromatomaly{-webkit-filter:url(#achromatomaly) grayscale(0)!important;filter:url(#achromatomaly) grayscale(0)!important}.grayscale{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}.vision-loss-moderate body>*{-webkit-filter:blur(1px)!important;filter:blur(1px)!important}.vision-loss-severe body>*{-webkit-filter:blur(10px)!important;filter:blur(10px)!important}.vision-blindness body>*{background-color:#fff!important;-webkit-filter:brightness(0)!important;filter:brightness(0)!important}#access-filter{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;width:1px;overflow:hidden;position:absolute!important;word-wrap:normal!important}</style>",this.svgFilterTemplate='<svg \n  id="access-filter"\n  aria-hidden="true"\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1">\n  <defs>\n    <filter id="protanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.567, 0.433, 0,     0, 0\n                0.558, 0.442, 0,     0, 0\n                0,     0.242, 0.758, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="protanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.817, 0.183, 0,     0, 0\n                0.333, 0.667, 0,     0, 0\n                0,     0.125, 0.875, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="deuteranopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.625, 0.375, 0,   0, 0\n                0.7,   0.3,   0,   0, 0\n                0,     0.3,   0.7, 0, 0\n                0,     0,     0,   1, 0"/>\n    </filter>\n    <filter id="deuteranomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.8,   0.2,   0,     0, 0\n                0.258, 0.742, 0,     0, 0\n                0,     0.142, 0.858, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.95, 0.05,  0,     0, 0\n                0,    0.433, 0.567, 0, 0\n                0,    0.475, 0.525, 0, 0\n                0,    0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.967, 0.033, 0,     0, 0\n                0,     0.733, 0.267, 0, 0\n                0,     0.183, 0.817, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatopsia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.618, 0.320, 0.062, 0, 0\n                0.163, 0.775, 0.062, 0, 0\n                0.163, 0.320, 0.516, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n  </defs>\n</svg>'}getActiveFilter(){return this.active_filter}aplicarFiltro(t){null!=t?(this.active_filter?(this.removeTests("colorBlindness"),this.filtro_aplicado=""):(this.toggleTest("colorBlindness",t),this.filtro_aplicado=t),this.active_filter=!this.active_filter):console.error("Error al aplicar los filtros, la opcion no se pintada correctamente")}toggleTest(t,e){this.hasInsertedAccess||(this.insertFiles(this.svgFilterTemplate,this.cssFilter),this.hasInsertedAccess=!0),this.removeTests(t),document.documentElement.classList.add(e)}insertFiles(t,e){document.body.insertAdjacentHTML("beforeend",t),document.body.insertAdjacentHTML("beforeend",e)}removeTests(t){if("vision"==t)for(let t=0;t<this.visionClasses.length;t++)document.documentElement.classList.remove(this.visionClasses[t]);else if("colorBlindness"==t)for(let t=0;t<this.colorBlindnessClasses.length;t++)document.documentElement.classList.remove(this.colorBlindnessClasses[t])}}class s{static addFilterBufferStyleClass(){const e=document.styleSheets[0],s=`\n        .filter-list-buffer {\n          background-color: ${t.getBackgroundColor()};\n          display: flex;\n          flex-wrap: wrap;\n          flex-direction: column;\n          border-radius: 22px;\n          color: ${t.getForegroundColor()};\n          width: 100%;\n          font-size: ${t.getMinimumFontSize()};\n          margin-top: 2rem;\n        }\n    `;e.insertRule(s,e.cssRules.length)}static addFilterOptionsStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter-option {\n          padding: 0.5rem;\n        }\n    ",t.cssRules.length)}static radioButtomCss(){const t=document.styleSheets[0];t.insertRule('\n        .radio_button_eyeassist::after {\n          content:"";\n          position: absolute;\n          height: 20px;\n          width: 22px;\n          border-radius: 50%;\n          background: #FFFFFF;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          opacity: 0;\n        }\n    ',t.cssRules.length),t.insertRule("\n        .radio_button_eyeassist:checked::after {\n          opacity: 1;\n        }\n    ",t.cssRules.length)}static addFilterStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .filter_button {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",t.cssRules.length)}}class i{constructor(i=!1){this.enableFilter=i,this.filterViewOn=!1,this.filterOptionsMap=new Map,this.startFilter=t=>{const e=t.target.id.replace("_option","");this.changeActiveInputs(e)},this.showFilterOptionsList=()=>{if(!this.enableFilter){var e=document.getElementById("filter_buffer");return null==e?void console.error("No hay instancia del buffer de opciones."):(e.remove(),this.filterOptionsMap.clear(),"")}var s=document.createElement("div");s.className="filter-list-buffer",s.id="filter_buffer";var i=document.createElement("div");i.style.padding="7% 7% 3% 7%";var n=document.createElement("span");n.textContent="Seleccione un filtro para distinguir mejor los siguientes colores:",n.style.marginBottom="5px",i.appendChild(n),[{id:"protanopia",name:"Rojo (Protanopia)"},{id:"deuteranopia",name:"Verde (Deuteranopia)"},{id:"tritanopia",name:"Azul (Tritanopia)"},{id:"grayscale",name:"Grises (Grayscale)"}].forEach((t=>{i.appendChild(this.buildFilterOption(t));const e=document.createElement("div");e.style.border="1px solid #65768b",e.style.margin="5px 0",i.appendChild(e)})),s.appendChild(i);var o=document.createElement("div");return o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="wrap",o.style.alignContent="center",o.style.alignItems="center",o.style.justifyItems="center",o.style.justifyContent="center",o.style.background=t.getForegroundColor(),o.style.padding="5% 0",o.style.borderBottomRightRadius="22px",o.style.borderBottomLeftRadius="22px",["#3B3F4A","#726401","#FFFF00","#FF0000","#FFA500","#FFFF00","#008000","#0000FF","#4B0082","#9400D3","#FFFF00","#0018A9"].forEach((t=>{var e=document.createElement("div");e.style.display="block",e.style.width="22.8px",e.style.height="50.67px",e.style.backgroundColor=t,o.appendChild(e)})),s.appendChild(o),s},this.filterService=new e,s.addFilterBufferStyleClass(),s.addFilterOptionsStyleClass(),s.radioButtomCss()}status(){return this.enableFilter}toggleStatus(){this.enableFilter=!this.enableFilter}showFilterOptions(){const t=document.createElement("img");t.src="https://github.com/EyeeAssist/docs/blob/develop/src/assets/logo.png?raw=true",t.style.width="50px",t.style.borderRadius="50%";const e=document.createElement("div");e.className="filter_button",e.id="filter_button",e.appendChild(t),e.addEventListener("click",this.showFilterOptionsList),s.addFilterStyleClass(),document.body.appendChild(e)}buildFilterOption(t){var e=document.createElement("div");e.className="filter-option",e.style.display="flex",e.id=t.id+"_option";const s=document.createElement("div");s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center";const i=document.createElement("input");i.type="radio",i.id=t.id+"_option",i.className="radio_button_eyeassist",i.style.appearance="none",i.style.margin="0",i.style.height="25px",i.style.width="25px",i.style.border="0.15em solid #FFFFFF",i.style.borderRadius="50%",i.style.display="grid",i.style.position="relative",i.style.placeContent="center",i.addEventListener("click",this.startFilter),this.filterOptionsMap.set(t.id,i);const n=document.createElement("span");return n.textContent=t.name,n.style.marginLeft="12px",s.append(i),e.append(s),e.append(n),e}changeActiveInputs(t){console.log("Input seleccionado",t);const e=this.filterOptionsMap.get(t);if(this.filterService.getActiveFilter()&&this.filterService.filtro_aplicado==t)return this.filterService.aplicarFiltro(t),void(e&&(e.checked=!1));for(const[e,s]of this.filterOptionsMap)e!=t&&(s.checked=!1);this.filterService.getActiveFilter()?(this.filterService.aplicarFiltro(t),this.filterService.aplicarFiltro(t)):this.filterService.aplicarFiltro(t)}}class n{constructor(t=!1,e){this.foundVideo=t,this.talk=e,this.onPlayerStateChange=t=>{t.data===YT.PlayerState.PAUSED&&clearInterval(this.interval),t.data==YT.PlayerState.ENDED&&clearInterval(this.interval),t.data===YT.PlayerState.PLAYING&&(this.interval=setInterval((()=>{var t,e,s;const i=null===(t=this.player)||void 0===t?void 0:t.getCurrentTime(),n=null==i?void 0:i.toFixed(1);(null===(e=this.script)||void 0===e?void 0:e.get(n))&&this.talk(null===(s=this.script)||void 0===s?void 0:s.get(n))}),100))}}toggleStatus(){this.foundVideo=!this.foundVideo}turnOff(){this.foundVideo=!1}startAudioDescription(t){var e,s,i;this.foundVideo&&!0===t.shiftKey&&"k"===t.key.toLowerCase()&&((null===(e=this.player)||void 0===e?void 0:e.getPlayerState())==YT.PlayerState.PLAYING?null===(s=this.player)||void 0===s||s.pauseVideo():null===(i=this.player)||void 0===i||i.playVideo())}createPlayer(t){let e=t;e.id="single-video-eyeeassit",this.script=this.getScript(e.src);const s=e.src.indexOf("?");e.src=e.src.substring(0,s+1)+"enablejsapi=1&"+e.src.substring(s+1),this.player=new YT.Player(e.id,{events:{onStateChange:this.onPlayerStateChange}})}getScript(t){const e=new Map;return e.set("1.0","Paisaje de una playa"),e.set("13.0","Paisaje de unas motañas y una bandera ondeando"),e.set("28.0","Paisaje con una costa y olas rompiendo"),e.set("40.0","Una laguna artificial"),e.set("56.0","Un rio largo"),e}}var o,l=function(t,e,s,i){return new(s||(s=Promise))((function(n,o){function l(t){try{a(i.next(t))}catch(t){o(t)}}function r(t){try{a(i.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(l,r)}a((i=i.apply(t,e||[])).next())}))};class r{constructor(t=!1,e=""){var s;if(this.useScreenReader=t,this.token=e,this.synth=window.speechSynthesis,this.screenReaderStatus=!1,this.selectedArticle=null,this.selectedLink=null,this.articleIndex=-1,this.linkIndex=0,this.controller=new AbortController,this.videoProcesor=null,this.tags=[],this.talk=(t,e=!0)=>{!e||this.synth.cancel(),this.synth.speak(new SpeechSynthesisUtterance(t))},this.cancelTalk=()=>{this.controller&&this.controller.abort(),this.talk("")},!this.useScreenReader)return;let i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";let o=document.getElementsByTagName("script")[0];null===(s=o.parentNode)||void 0===s||s.insertBefore(i,o),this.videoProcesor=new n(!1,this.talk)}status(){return this.useScreenReader}toggleStatus(){this.useScreenReader=!this.useScreenReader}enable(){return this.screenReaderStatus}sayWelcome(){this.talk("Hola bienvenido a la pagina X, si desea leer el contenido precione control + flecha derecha o precione control + enter para navegar por los links")}sayGoodbay(){this.talk("Gracias por utilizar eyeeassist")}keybindsScreenReader(t){var e;this.cancelReader(t),this.reRead(t),this.activeScreenReader(t),this.moveBetweenContent(t),this.moveBetweenLinks(t),null===(e=this.videoProcesor)||void 0===e||e.startAudioDescription(t)}getImage(t){return l(this,void 0,void 0,(function*(){return yield fetch(t)}))}getDescription(t){return l(this,void 0,void 0,(function*(){this.controller=new AbortController;const e=new FormData;e.append("file",t,"imagen.jpg"),console.log(this.token);const s={method:"POST",body:e,headers:{Authorization:"Bearer "+this.token},signal:this.controller.signal},i=yield fetch("http://localhost:8000/caption",s).catch((t=>{"AbortError"===t.name&&console.error(t)}));return null!=i?(yield i.json()).message[0]:""}))}readChilds(t){var e,s,i;return l(this,void 0,void 0,(function*(){if("IFRAME"==t.nodeName&&(this.talk("Video encontrado, precione shift mas k para iniciar el video con audio descripcion"),null===(e=this.videoProcesor)||void 0===e||e.toggleStatus(),null===(s=this.videoProcesor)||void 0===s||s.createPlayer(t)),"IMG"==t.nodeName){this.talk("Imagen encontrada",!1);let e=t;if(""!=e.alt)this.talk(""),this.talk("Imagen de "+e.alt,!1);else{const t=yield this.getImage(e.src),s=yield t.blob();this.talk("describiendo imagen",!1);const i=yield this.getDescription(s);""!=i?this.talk("Imagen de "+i,!1):this.talk("No se pudo generar una descripcion para la imagen encontrada.",!1)}}t.nodeType==Node.TEXT_NODE&&(null===(i=t.textContent)||void 0===i?void 0:i.trim())&&this.talk(t.textContent,!1);for(const e of Array.from(t.childNodes))yield this.readChilds(e)}))}moveBetweenContent(t){if(0!=this.tags.length){if(this.screenReaderStatus&&!0===t.ctrlKey&&"arrowright"===t.key.toLowerCase()){let t=this.tags.shift();this.tags.push(t),this.cancelTalk(),this.readChilds(t)}if(this.screenReaderStatus&&!0===t.ctrlKey&&"arrowleft"===t.key.toLowerCase()){let t=this.tags.pop();this.tags.unshift(t),this.cancelTalk(),this.readChilds(t)}}}activeScreenReader(t){this.useScreenReader&&!0===t.ctrlKey&&" "===t.key.toLowerCase()&&(this.screenReaderStatus?(this.tags=[],this.sayGoodbay()):(this.tags=this.convertToHtmlElementsArray(document.getElementsByTagName("article")),this.sayWelcome()),this.screenReaderStatus=!this.screenReaderStatus)}moveBetweenLinks(t){if(this.screenReaderStatus&&!1===t.ctrlKey&&"enter"===t.key.toLowerCase()&&null!=this.selectedLink&&(console.log(this.selectedLink),this.selectedLink.click()),this.screenReaderStatus&&!0===t.ctrlKey&&"enter"===t.key.toLowerCase()){let t=document.getElementsByClassName("text_reader_link");console.log(t[this.linkIndex].tagName),this.selectedLink=t[this.linkIndex],this.selectedLink.focus(),"TEXTAREA"==t[this.linkIndex].tagName?(this.selectedLink.addEventListener("input",(()=>{console.log(this.selectedLink)})),this.talk("Seleccionado un text area",!0)):(console.log(this.selectedLink.textContent),null!==this.selectedLink.textContent&&this.talk(this.selectedLink.textContent,!0)),this.linkIndex===t.length-1?this.linkIndex=0:this.linkIndex+=1}}cancelReader(t){this.useScreenReader&&"escape"===t.key.toLowerCase()&&this.talk("")}reRead(t){this.useScreenReader&&!0===t.ctrlKey&&"backspace"===t.key.toLowerCase()&&null!=this.selectedArticle&&null!=this.selectedArticle.textContent&&this.talk(this.selectedArticle.textContent)}convertToHtmlElementsArray(t){let e=[];for(const s of t)e.push(s);return e}}class a{static addZoomMessageTextBoxClass(){const e=document.styleSheets[0];var s=`.zoom-message-txtbox {  \n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 9999;\n          background-color: ${t.getBackgroundColor()};\n          color: ${t.getForegroundColor()};\n          font-size: 20rem;\n          text-align: center;\n          width: 80%;\n          height: 80%;\n          font-family: Arial, sans-serif;\n      }`;e.insertRule(s,e.cssRules.length)}}class c{constructor(){this.TRANSITION_DURATION=800,this.level=1,this.mouseX=0,this.mouseY=0,this.panEngageTimeout=-1,this.panUpdateInterval=-1,this.callbackTimeout=-1,this.supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,this.keyupEvent=t=>{1!==this.level&&27===t.keyCode&&this.out(void 0)},this.mouseMoveEvent=t=>{1!==this.level&&(this.mouseX=t.clientX,this.mouseY=t.clientY)},this.supportsTransforms&&(document.body.style.transition="transform "+this.TRANSITION_DURATION+"ms ease"),document.addEventListener("keyup",this.keyupEvent),document.addEventListener("mousemove",this.mouseMoveEvent)}magnify(t,e){var s=this.getScrollOffset();if(t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*e)/2,t.y-=(window.innerHeight-t.height*e)/2,this.supportsTransforms)if(1===e)document.body.style.transform="";else{var i=s.x+"px "+s.y+"px",n="translate("+-t.x+"px,"+-t.y+"px) scale("+e+")";document.body.style.transformOrigin=i,document.body.style.transform=n}else 1===e?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height=""):(document.body.style.position="relative",document.body.style.left=-(s.x+t.x)/e+"px",document.body.style.top=-(s.y+t.y)/e+"px",document.body.style.width=100*e+"%",document.body.style.height=100*e+"%");this.level=e}pan(){var t=.12*window.innerWidth,e=.12*window.innerHeight,s=this.getScrollOffset();this.mouseY<e?window.scroll(s.x,s.y-(1-this.mouseY/e)*(14/this.level)):this.mouseY>window.innerHeight-e&&window.scroll(s.x,s.y+(1-(window.innerHeight-this.mouseY)/e)*(14/this.level)),this.mouseX<t?window.scroll(s.x-(1-this.mouseX/t)*(14/this.level),s.y):this.mouseX>window.innerWidth-t&&window.scroll(s.x+(1-(window.innerWidth-this.mouseX)/t)*(14/this.level),s.y)}getScrollOffset(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}to(t){if(1!==this.level)this.out(void 0);else{if(t.x=t.x||0,t.y=t.y||0,t.element){var e="number"==typeof t.padding?t.padding:20,s=t.element.getBoundingClientRect();t.x=s.left-e,t.y=s.top-e,t.width=s.width+2*e,t.height=s.height+2*e}void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),t.scale>1&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),this.magnify(t,t.scale),!1!==t.pan&&(this.panEngageTimeout=setTimeout(this.calculatePanUpdateInterval,this.TRANSITION_DURATION)),"function"==typeof t.callback&&(this.callbackTimeout=setTimeout(t.callback,this.TRANSITION_DURATION)))}}calculatePanUpdateInterval(){this.panUpdateInterval=setInterval(this.pan,1e3/60)}out(t){clearTimeout(this.panEngageTimeout),clearInterval(this.panUpdateInterval),clearTimeout(this.callbackTimeout),this.magnify(new d(0,0,1),1),t&&"function"==typeof t.callback&&setTimeout(t.callback,this.TRANSITION_DURATION),this.level=1}}class d{constructor(t,e,s){this.x=0,this.y=0,this.scale=0,this.x=t,this.y=e,this.scale=s}}class h{constructor(t=!1){this.enableZoomOptions=t,this.zoomStatus=!1,this.active_message='<div id="zoom-status" class="zoom-message-txtbox">On</div>',this.deactive_message='<div id="zoom-status" class="zoom-message-txtbox">Off</div>',this.toogleZoom=t=>{this.zoomService.to(new d(t.x,t.y,10))},this.zoomService=new c}status(){return this.enableZoomOptions}toogleStatus(){this.enableZoomOptions=!this.enableZoomOptions}activeZoom(t,e){this.enableZoomOptions&&(t||!0!==e.ctrlKey||"backspace"!==e.key.toLowerCase()||(a.addZoomMessageTextBoxClass(),this.initialClickEvent(document.body)))}initialClickEvent(t){this.zoomStatus?this.showBoxMessage(t,this.deactive_message,!this.zoomStatus):this.showBoxMessage(t,this.active_message,!this.zoomStatus),this.zoomStatus=!this.zoomStatus}showBoxMessage(t,e,s){t.insertAdjacentHTML("beforebegin",e),setTimeout((()=>{const t=document.getElementById("zoom-status");null==t||t.remove()}),2e3),s?t.addEventListener("click",this.toogleZoom):t.removeEventListener("click",this.toogleZoom)}}class u{static mainMessage(e){return e.style.display="flex",e.style.alignItems="center",e.style.alignContent="center",e.style.justifyItems="center",e.style.justifyContent="center",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.backgroundColor=t.getBackgroundColor(),e.style.zIndex="999",e.style.color=t.getForegroundColor(),e}static messageContent(t){return t.style.textAlign="center",t.style.flex="1",t.style.display="flex",t.style.flexDirection="row",t.style.alignContent="center",t.style.justifyContent="center",t.style.justifyItems="center",t.style.alignItems="center",t}static closeButtom(e){return e.style.background="none",e.style.border="none",e.style.padding="0",e.style.margin="0",e.style.cursor="pointer",e.style.width="50px",e.style.height="50px",e.style.color=t.getForegroundColor(),e}static addFlyMenuStyle(){const e=document.styleSheets[0],s=`\n        .fly_menu {\n          position: fixed;\n          right: 70px;\n          width: 72px;\n          height: 72px;\n          border-radius: 50%;\n          background-color: ${t.getBackgroundColor()};\n          color: ${t.getForegroundColor()};\n          text-align: center;\n          line-height: 50px;\n          flex-wrap: wrap;\n          cursor: pointer;\n          display: flex;\n          align-content: center;\n          align-items: center;\n          justify-content: center;\n          font-size: 22px;\n          z-index: 9999;\n        }\n    `;e.insertRule(s,e.cssRules.length)}static svgCloseButtomMenu(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","17"),e.setAttribute("height","17"),e.setAttribute("viewBox","0 0 17 17");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M3.0535 0L0 3.0535L1.55924 4.61274L5.41401 8.53248L1.55924 12.3873L0 13.8815L3.0535 17L4.61274 15.4408L8.53248 11.521L12.3873 15.4408L13.8815 17L17 13.8815L15.4408 12.3873L11.521 8.53248L15.4408 4.61274L17 3.0535L13.8815 0L12.3873 1.55924L8.53248 5.41401L4.61274 1.55924L3.0535 0Z"),s.setAttribute("fill",t),e.appendChild(s),e}static svgEyee(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","34"),t.setAttribute("height","26"),t.setAttribute("viewBox","0 0 34 26"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d","M17.3208 0.00330279C21.1597 0.109866 24.644 1.38863 27.7511 3.91482C30.543 6.184 32.5919 9.11763 33.9316 12.6656C34.016 12.8912 34.0273 13.0856 33.9372 13.3175C32.1304 18.0627 29.1639 21.6107 25.0323 23.9237C23.1523 24.9768 21.1484 25.6099 19.0488 25.8669C15.5589 26.2995 12.2323 25.6789 9.07448 23.9864C6.18687 22.4381 3.82837 20.1814 1.98772 17.2541C1.19968 16.0004 0.541103 14.6715 0.0401335 13.2485C-0.0105264 13.1044 -0.0161553 12.8975 0.0401335 12.7533C2.20162 7.06785 5.88854 3.16887 11.1009 1.09401C12.9471 0.354336 14.9454 -0.0405764 17.3208 0.00330279Z"),e.setAttribute("fill","white");const s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx","17.5"),s.setAttribute("cy","13.5"),s.setAttribute("r","7.5"),s.setAttribute("fill","#28405D");const i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("fill-rule","evenodd"),i.setAttribute("clip-rule","evenodd"),i.setAttribute("d","M17.0377 6.02181C17.2247 6.00736 17.4137 6 17.6044 6C21.6117 6 24.8603 9.24854 24.8603 13.2558C24.8603 13.5069 24.8475 13.755 24.8226 13.9996C24.6356 14.014 24.4466 14.0214 24.2558 14.0214C20.2485 14.0214 17 10.7729 17 6.76558C17 6.51447 17.0128 6.26635 17.0377 6.02181Z"),i.setAttribute("fill","#506F95"),t.appendChild(e),t.appendChild(s),t.appendChild(i),t}static svgHuman(t,e="34",s="38"){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",e),i.setAttribute("height",s),i.setAttribute("viewBox","0 0 34 38"),i.setAttribute("xmlns","http://www.w3.org/2000/svg");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M33.5 13.5H22.5V37.3333H18.8333V26.3333H15.1667V37.3333H11.5V13.5H0.5V9.83332H33.5M17 0.666656C17.9725 0.666656 18.9051 1.05296 19.5927 1.7406C20.2804 2.42823 20.6667 3.36086 20.6667 4.33332C20.6667 5.30578 20.2804 6.23841 19.5927 6.92605C18.9051 7.61368 17.9725 7.99999 17 7.99999C16.0275 7.99999 15.0949 7.61368 14.4073 6.92605C13.7196 6.23841 13.3333 5.30578 13.3333 4.33332C13.3333 2.29832 14.965 0.666656 17 0.666656Z"),n.setAttribute("fill",t),i.appendChild(n),i}static svgCloseButtom(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("fill",t),e.setAttribute("viewBox","0 0 32 32");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7.004 23.087l7.08-7.081-7.07-7.071L8.929 7.02l7.067 7.069L23.084 7l1.912 1.913-7.089 7.093 7.075 7.077-1.912 1.913-7.074-7.073L8.917 25z"),e.appendChild(s),e}static addBufferOptionsClass(){const e=document.styleSheets[0],s=`\n        .buffer_options {\n            position: fixed;\n            top: 130px;\n            right: 70px;\n            border-radius: 10px;\n            height: auto; \n            max-height: 100%;\n            overflow-y: auto; \n            z-index: 9999;\n            background-color: ${t.getBackgroundColor()};\n            color: ${t.getForegroundColor()};\n        }\n    `;e.insertRule(s,e.cssRules.length)}static toggleSwitchClasses(){this.toogleSwitchClass(),this.toggleSwitchCircle(),this.toggleSwitchActive(),this.toggleSwitchAnimation()}static toogleSwitchClass(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch {\n            width: 60px;\n            height: 30px;\n            background-color: #ccc;\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            cursor: pointer;\n            transition: background-color 0.3s, transform 0.3s;\n        }\n    ",t.cssRules.length)}static toggleSwitchCircle(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch-circle {\n            width: 30px;\n            height: 30px;\n            background-color: white;\n            border-radius: 50%;\n            transition: transform 0.3s;\n        }",t.cssRules.length)}static toggleSwitchActive(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch.active {\n            background-color: #2ecc71;\n        }",t.cssRules.length)}static toggleSwitchAnimation(){const t=document.styleSheets[0];t.insertRule("\n        .toggle-switch.active .toggle-switch-circle {\n            transform: translateX(30px);\n        }",t.cssRules.length)}static addOptionFunctionsClass(){const t=document.styleSheets[0];t.insertRule("\n        .option_menu_eyeeassist {\n          display: flex;\n          padding: 10px;\n          justify-content: space-between;\n        }",t.cssRules.length)}static overlayStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .overlay-menu-view {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            flex-direction: column;\n            background-color: rgba(0, 0, 0, 0.5);\n        }",t.cssRules.length)}static overlayOptionsStyleClass(){const t=document.styleSheets[0];t.insertRule("\n        .options-menu-view {\n            position: relative;\n            width: 100%;\n            height: 100%;\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n        }",t.cssRules.length)}}class p{constructor(e,s,i,n=!1,l){this.functionalityId=e,this.text=s,this.position=i,this.active=n,this.toggleToolStatus=l,this.toggleOposiveButton=null,this.toggleState=()=>{this.active=!this.active},this.changeButtonState=()=>{const e=document.getElementById(this.functionalityId+"-button-eyeassist-"+this.text);if(!1===this.active){if(null!=e&&(e.style.backgroundColor=t.getForegroundColor(),e.style.color=t.getBackgroundColor()),this.position==o.LEFT){const e=document.getElementById(this.functionalityId+"-button-eyeassist-No");null!=e&&(e.style.backgroundColor=t.getBackgroundColor(),e.style.color=t.getForegroundColor())}else{const e=document.getElementById(this.functionalityId+"-button-eyeassist-Si");null!=e&&(e.style.backgroundColor=t.getBackgroundColor(),e.style.color=t.getForegroundColor())}this.toggleToolStatus(this.functionalityId+"-card-option-eyeassist"),this.active=!this.active,this.toggleOposiveButton&&this.toggleOposiveButton()}},this.element=this.createButtom()}createButtom(){const e=document.createElement("div");e.id=this.functionalityId+"-button-eyeassist-"+this.text,e.addEventListener("click",this.changeButtonState),e.style.marginTop="20px",e.style.width="104px",e.style.height="48px",e.style.cursor="pointer",this.position==o.LEFT?e.style.borderRadius="50px 0 0 50px":e.style.borderRadius="0 50px 50px 0",e.style.border=`1px solid ${t.getForegroundColor()}`,e.style.padding="10px",e.style.display="flex",e.style.alignContent="center",e.style.alignItems="center",e.style.justifyContent="center",e.style.justifyItems="center",this.active?(e.style.backgroundColor=t.getForegroundColor(),e.style.color=t.getBackgroundColor()):(e.style.backgroundColor=t.getBackgroundColor(),e.style.color=t.getForegroundColor());const s=document.createElement("span");return s.textContent=this.text,s.style.cursor="pointer",e.appendChild(s),e}assignChangeOposiveStateButton(t){this.toggleOposiveButton=t}getElement(){return this.element}}class g{static zoomIconSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","44"),t.setAttribute("height","44"),t.setAttribute("viewBox","0 0 44 44"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M34.4723 31.5047C37.5191 34.5183 40.4996 37.532 43.4471 40.4795C42.4867 41.4399 41.4932 42.4003 40.4003 43.5263C40.334 43.3938 40.2347 43.162 40.1022 43.0295C37.3866 40.3139 34.671 37.5983 31.9554 34.8495C31.6242 34.5183 31.4255 34.4521 31.0281 34.7502C21.4903 41.8704 7.9784 38.7243 2.54715 28.1267C-2.1224 18.9863 1.45428 7.62706 10.4953 2.75881C22.1526 -3.50037 36.4262 3.58674 38.4132 16.6681C39.2081 21.8675 37.9827 26.6033 34.9028 30.8754C34.7703 31.041 34.6379 31.2397 34.4392 31.5047H34.4723ZM17.45 21.7019C17.45 22.0331 17.45 22.2649 17.45 22.4967C17.45 24.1526 17.45 25.8085 17.45 27.4975C17.45 27.8949 17.5824 28.0605 17.9798 28.0273C18.7084 28.0273 19.4039 28.0273 20.1325 28.0273C20.6623 28.0273 21.1922 28.0273 21.7883 28.0273V21.7019C22.0864 21.7019 22.2851 21.7019 22.5169 21.7019C24.1728 21.7019 25.8618 21.7019 27.5176 21.7019C28.0475 21.7019 28.18 21.5363 28.18 21.0065C28.1469 20.0129 28.18 18.9863 28.18 17.9597C28.18 17.496 28.0806 17.3304 27.5839 17.3636C25.8949 17.3636 24.1728 17.3636 22.4838 17.3636C22.2851 17.3636 22.0533 17.3636 21.7883 17.3636V11.005C20.4968 11.005 19.2714 11.005 18.0461 11.005C17.6487 11.005 17.4831 11.1375 17.4831 11.5349C17.4831 13.0252 17.4831 14.5155 17.4831 16.0057C17.4831 16.4363 17.4831 16.8668 17.4831 17.3636H11.1908V21.6688H17.4831L17.45 21.7019Z"),e.setAttribute("fill","#243C5A"),t.appendChild(e),t}static filterIconSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","47"),t.setAttribute("height","44"),t.setAttribute("viewBox","0 0 47 44"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M26.4442 42.0029C29.6566 38.7905 31.3787 34.982 31.743 30.5443C31.743 30.2131 32.0079 29.7495 32.306 29.5839C36.545 26.9345 39.2938 23.1922 40.4529 18.324C40.4529 18.2577 40.5522 18.2246 40.6185 18.1584C45.1887 20.6753 48.8316 28.6897 45.0231 35.9093C40.9165 43.6919 31.8755 45.0165 26.4442 41.9698V42.0029ZM1.87116 36.0749C5.97771 43.725 15.0519 45.0497 20.2844 42.036C20.1851 41.9035 20.1188 41.771 20.0195 41.6386C17.0389 38.5255 15.383 34.8164 15.085 30.5112C15.085 30.18 14.7869 29.7495 14.4889 29.5507C10.1174 26.8682 7.43487 23.0266 6.24265 18.0921C1.60622 20.5759 -2.10293 28.7228 1.83804 36.0417L1.87116 36.0749ZM21.9403 0.539948C15.7473 1.06983 9.32256 7.26277 9.68685 12.4622C9.75309 12.4622 9.85244 12.5284 9.91867 12.5284C10.1505 12.5284 10.4154 12.4622 10.6473 12.4291C14.257 11.6343 17.8337 11.8992 21.1455 13.522C22.8013 14.3168 24.0598 14.3168 25.7157 13.522C29.3586 11.7667 33.2333 11.6343 37.2736 12.694C36.8762 7.16342 31.3456 -0.188633 21.9734 0.606184L21.9403 0.539948ZM37.373 16.2376C33.5976 14.9791 30.0209 15.1116 26.378 16.8337C29.0274 19.45 30.617 22.4305 31.4781 26.0403C34.8892 23.4903 36.81 20.311 37.373 16.2045V16.2376ZM20.0857 16.6681C19.887 16.5356 19.6552 16.4363 19.4234 16.37C16.509 15.2441 13.5947 15.1447 10.581 15.8733C9.5875 16.1051 9.48815 16.635 9.68685 17.4629C10.283 19.9798 11.3758 22.1987 13.1642 24.0533C13.8265 24.7156 14.5551 25.3117 15.4162 26.1065C16.2772 22.4305 17.8668 19.4831 20.3506 16.9662C20.2513 16.8337 20.2182 16.7012 20.1188 16.6681H20.0857ZM18.7279 27.0007C18.6617 27.2656 19.1253 27.8618 19.4234 27.9611C22.0396 28.789 24.7221 28.7559 27.3715 28.0274C27.9676 27.8618 28.2657 27.5968 28.1332 26.9014C27.504 23.689 25.9806 20.9734 23.4637 18.7876C20.8143 20.9734 19.3571 23.7552 18.7279 27.0007ZM28.1663 31.3391C24.9208 32.2001 21.8409 32.167 18.5954 31.3391C19.1915 34.9489 20.7149 37.797 23.4306 40.1483C26.0468 37.7307 27.7027 34.982 28.1663 31.3391Z"),e.setAttribute("fill","#243C5A"),t.appendChild(e),t}static voiceIconSvg(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("width","51"),t.setAttribute("height","44"),t.setAttribute("viewBox","0 0 51 44"),t.setAttribute("fill","none");const e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d","M0.354146 43.8639C-0.970548 35.8495 4.59317 29.0936 11.614 28.3319C14.5946 28.0007 17.6414 28.067 20.6551 28.3319C26.55 28.8287 31.6832 34.2599 32.0475 40.1879C32.1137 41.3801 32.0475 42.5724 32.0475 43.8639H0.354146ZM25.4571 16.2109C25.4571 11.0115 21.4499 6.93808 16.2505 6.90496C10.9517 6.83873 6.87826 10.8459 6.84515 16.1116C6.81203 21.4104 10.7861 25.4838 16.0849 25.4838C21.3505 25.4838 25.4571 21.4435 25.4571 16.2109ZM43.9697 0.811371C42.7444 2.0036 41.5521 3.19582 40.3268 4.38804C43.7048 8.03095 45.5593 12.3693 45.5593 17.4694C45.5593 22.5695 43.6716 26.8747 40.2606 30.5176C41.4859 31.743 42.645 32.9021 43.8703 34.1274C53.1101 25.4176 53.1432 9.48812 44.0028 0.811371H43.9697ZM32.7429 11.9057C35.6904 15.8135 35.6904 18.8603 32.9085 23.0331C34.0345 24.2916 35.1605 25.55 36.2534 26.7754C41.3865 22.4701 41.3866 12.9323 36.4852 8.4946C35.1605 9.68682 33.9351 10.8128 32.7429 11.9057Z"),e.setAttribute("fill","#243C5A"),t.appendChild(e),t}static optionCardStyle(){const e=document.styleSheets[0],s=`\n        .option-card-eyeeassist {\n          position: relative;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          justify-items: center;\n          background-color: ${t.getBackgroundColor()};\n          width: 30%;\n          padding: 20px;\n          border-radius: 16px;\n          color: ${t.getForegroundColor()};\n          font-size: ${t.getMinimumFontSize()};\n        }\n    `;e.insertRule(s,e.cssRules.length)}}class m{constructor(t,e="",s="",i,n=!1,o){this.functionalityId=t,this.title=e,this.subtitle=s,this.icon=i,this.option=n,this.toggleOptionCard=o,g.optionCardStyle(),this.element=this.createOptionCard()}createOptionCard(){const e=document.createElement("div");e.className="option-card-eyeeassist",e.id=this.functionalityId+"-card-option-eyeassist";const s=document.createElement("span");s.textContent=this.title,s.style.fontWeight="bold";const i=document.createElement("span");if(i.textContent=this.subtitle,e.appendChild(s),e.appendChild(i),this.icon){const s=document.createElement("div");s.style.position="absolute",s.style.top="-20px",s.style.right="-20px",s.style.width="90px",s.style.height="90px",s.style.display="flex",s.style.justifyItems="center",s.style.alignContent="center",s.style.justifyContent="center",s.style.alignItems="center",s.style.borderRadius="50%",s.style.background=t.getForegroundColor(),s.append(this.icon),e.appendChild(s)}const n=document.createElement("div");n.style.display="flex",n.style.flexDirection="row";const l=new p(this.functionalityId,"Si",o.LEFT,!!this.option,this.toggleOptionCard),r=new p(this.functionalityId,"No",o.RIGHT,!this.option,this.toggleOptionCard);return l.assignChangeOposiveStateButton(r.toggleState),r.assignChangeOposiveStateButton(l.toggleState),n.appendChild(l.getElement()),n.appendChild(r.getElement()),e.appendChild(n),e}getElement(){return this.element}}!function(t){t[t.RIGHT=0]="RIGHT",t[t.LEFT=1]="LEFT"}(o||(o={})),new class{constructor(t=!1,e=!1,s=!1,n=""){this.token=n,this.animacionEnProgreso=!1,this.initMessageClose=!1,this.viewOptionsOn=!1,this.showOptionsView=()=>{const t=document.getElementById("fly_menu");if(this.viewOptionsOn){const e=document.getElementById("overlay-menu-view");return null==e||e.remove(),t&&(t.style.width="72px",t.style.borderRadius="50%",t.style.justifyContent="center",this.appName.remove()),void(this.viewOptionsOn=!this.viewOptionsOn)}t&&(t.style.width="200px",t.style.borderRadius="50px",t.style.justifyContent="space-evenly",this.appName=this.createAppName(),t.append(this.appName));const e=document.createElement("div");e.id="overlay-menu-view",e.className="overlay-menu-view";const s=document.createElement("div");s.className="options-menu-view",s.id="option-menu-display",s.append(this.createCloseButtom());const i=document.createElement("div");i.id="option-filter-display",i.style.width="30%",e.append(s),e.append(i);const n=[{id:"zoom",title:"Activar zoom",subtitle:"Atajo de teclado [Ctrl + Backspace]",status:this.ZoomObject.status(),toggle:()=>{this.ZoomObject.toogleStatus(),localStorage.setItem("zoomStatus",JSON.stringify(this.ZoomObject.status()))},icon:g.zoomIconSvg()},{id:"filter",title:"Aplicar filtros de color",subtitle:"Aplique un filtro",status:this.FilterObject.status(),toggle:(t="")=>{this.FilterObject.toggleStatus();var e=this.FilterObject.showFilterOptionsList();const s=document.getElementById("option-filter-display"),i=document.getElementById("option-menu-display");""!=e?(null==s||s.appendChild(e),i&&s&&(i.style.alignItems="end",s.style.height="100%",i.style.height="70%")):i&&s&&(i.style.alignItems="center",s.style.height="0",i.style.height="100%"),localStorage.setItem("filterStatus",JSON.stringify(this.FilterObject.status()))},icon:g.filterIconSvg()},{id:"voice",title:"Leer en voz alta",subtitle:"Atajo de teclado [Ctrl + Space]",status:this.ScreenReaderObject.status(),toggle:()=>{this.ScreenReaderObject.toggleStatus(),localStorage.setItem("readerStatus",JSON.stringify(this.ScreenReaderObject.status()))},icon:g.voiceIconSvg()}];if(n.forEach((t=>{const e=new m(t.id,t.title,t.subtitle,t.icon,t.status,t.toggle).getElement();s.appendChild(e),console.log("Creado",t.id,t.status)})),document.body.appendChild(e),this.FilterObject.status()){var o=this.FilterObject.showFilterOptionsList();const t=document.getElementById("option-filter-display"),e=document.getElementById("option-menu-display");""!=o&&t?(null==t||t.appendChild(o),e&&(e.style.alignItems="end",t.style.height="100%",e.style.height="70%")):e&&t&&(e.style.alignItems="center",t.style.height="0",e.style.height="100%")}this.viewOptionsOn=!this.viewOptionsOn},this.cerrarModal=()=>{if(!this.animacionEnProgreso){const t=document.getElementById("eyeeasist-initial-message");this.animacionEnProgreso=!0;const e=null==t?void 0:t.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-100%)"}],{duration:300,easing:"ease-out"});e&&(e.onfinish=()=>{t&&(t.style.display="none"),this.animacionEnProgreso=!1,localStorage.setItem("initMessageClose","true")})}},"true"==localStorage.getItem("initMessageClose")&&(this.initMessageClose=!0),u.toggleSwitchClasses(),u.addBufferOptionsClass(),u.addFlyMenuStyle(),u.addOptionFunctionsClass(),u.overlayStyleClass(),u.overlayOptionsStyleClass(),this.zoomStatus=t,this.filterStatus=e,this.readerStatus=s,this.appName=this.createAppName();const o=localStorage.getItem("zoomStatus");o&&(console.log("Hay zoom status guardado",JSON.parse(o)),this.zoomStatus=JSON.parse(o));const l=localStorage.getItem("filterStatus");l&&(console.log("Hay filter status guardado",JSON.parse(l)),this.filterStatus=JSON.parse(l));const a=localStorage.getItem("readerStatus");a&&(console.log("Hay reader status guardado",JSON.parse(a)),this.readerStatus=JSON.parse(a)),this.ZoomObject=new h(this.zoomStatus),this.FilterObject=new i(this.filterStatus),this.ScreenReaderObject=new r(this.readerStatus,this.token)}createAppName(){const t=document.createElement("span");return t.textContent="EyeAssist",t}start(){this.showInitMessage(),this.showFlyMenu(),document.addEventListener("keydown",(t=>{console.log(t.key),t.preventDefault(),this.ZoomObject.activeZoom(this.ScreenReaderObject.enable(),t),this.ScreenReaderObject.keybindsScreenReader(t)}))}createCloseButtom(){const e=document.createElement("div"),s=document.createElement("span"),i=u.svgCloseButtomMenu(t.getForegroundColor());return i.style.width="25px",i.style.marginTop="3px",i.style.height="17px",s.textContent="Cerrar ",s.style.color=t.getForegroundColor(),e.append(s),e.append(i),e.style.position="absolute",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.flexDirection="row",e.style.top="20px",e.style.right="100px",e.style.padding="10px",e.style.fontSize="22px",e.style.fontWeight="bold",e.style.cursor="pointer",e.addEventListener("click",this.showOptionsView),e}showFlyMenu(){const t=document.createElement("div");t.id="fly_menu",t.className="fly_menu",t.style.bottom="120px",t.appendChild(u.svgEyee()),t.addEventListener("click",this.showOptionsView),document.body.appendChild(t)}showInitMessage(){let e=document.createElement("div");e=u.mainMessage(e),e.id="eyeeasist-initial-message",this.initMessageClose&&(e.style.display="none");let s=document.createElement("div");s=u.messageContent(s);let i=document.createElement("span");i.textContent="Esta página cuenta con herramientas de accesibilidad. Para activar y/o desactivar estas herramientas, presiona Ctrl + Space o haz clic en el botón con el icono de una persona posicionado en la parte superior derecha de la pantalla.",i.style.padding="15px";let n=document.createElement("button");n=u.closeButtom(n),n.addEventListener("click",this.cerrarModal),n.appendChild(u.svgCloseButtom(t.getForegroundColor())),s.appendChild(i),e.appendChild(s),e.appendChild(n),document.body.insertBefore(e,document.body.firstChild)}}(!0,!0,!0,"akljnv13bvi2vfo0b0bw").start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxjQUFjLE9BQ2pENlgsRUFBc0J4SCxFQUFxQkksZUFBZW9ILEdBQzFELElBQUlDLEVBQWNwYSxTQUFTc0MsY0FBYyxRQUN6QzhYLEVBQVl4WCxZQUFjLDBPQUMxQndYLEVBQVkzWCxNQUFNQyxRQUFVLE9BQzVCLElBQUkyWCxFQUFnQnJhLFNBQVNzQyxjQUFjLFVBQzNDK1gsRUFBZ0IxSCxFQUFxQk8sWUFBWW1ILEdBQ2pEQSxFQUFjdlYsaUJBQWlCLFFBQVNoRyxLQUFLZ2EsYUFDN0N1QixFQUFjdlgsWUFBWTZQLEVBQXFCdUIsZUFBZTFWLEVBQVlFLHVCQUMxRXliLEVBQW9CclgsWUFBWXNYLEdBRWhDdlYsRUFBVy9CLFlBQVlxWCxHQUN2QnRWLEVBQVcvQixZQUFZdVgsR0FDdkJyYSxTQUFTTSxLQUFLaUwsYUFBYTFHLEVBQVk3RSxTQUFTTSxLQUFLZ2EsV0FDekQsSUR6UDhCLEdBQU0sR0FBTSxFQUFNLHdCQUN6Q1gsTyIsInNvdXJjZXMiOlsid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3N0eWxlL2dsb2JhbC1zdHlsZS50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9maWx0ZXIvZmlsdGVyLW1vZHVsZS9maWx0ZXJfc2VydmljZS50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9maWx0ZXIvc3R5bGVzL2Nzcy1maWx0ZXItY2xhc3Nlcy50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9maWx0ZXIvZmlsdGVyLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL3NjcmVlbl9yZWFkZXIvdmlkZW8tcHJvY2Vzb3IudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvc2NyZWVuX3JlYWRlci9zY3JlZW5fcmVhZGVyLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL21haW4vb3B0aW9uLWNhcmQvb3B0aW9uLWNhcmQudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS9zdHlsZXMvY3NzLXpvb20tY2xhc3Nlcy50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy96b29tL3pvb20tbW9kdWxlL3pvb21fc2VydmljZS50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy96b29tL3pvb20udHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvbWFpbi9zdHlsZXMvY3NzLWV5ZWVhc3Npc3QtY2xhc3Nlcy50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9tYWluL29wdGlvbi1jYXJkL2NhcmQtYnV0dG9uLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL21haW4vb3B0aW9uLWNhcmQvb3B0aW9uLWNhcmQtc3R5bGVzLnRzIiwid2VicGFjazovL2V5ZWFzc2lzdC1saWJyYXJ5Ly4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9tYWluL2V5ZWVhc3Npc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEdsb2JhbFN0eWxlIHtcbiAgICBzdGF0aWMgZ2V0QmFja2dyb3VuZENvbG9yKCkge1xuICAgICAgICByZXR1cm4gJyMyNDNDNUEnO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0Rm9yZWdyb3VuZENvbG9yKCkge1xuICAgICAgICByZXR1cm4gJyNGRkZGRkYnO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0TWluaW11bUZvbnRTaXplKCkge1xuICAgICAgICByZXR1cm4gJzE2cHgnO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGaWx0ZXJTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oYXNJbnNlcnRlZEFjY2VzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZV9maWx0ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5maWx0cm9fYXBsaWNhZG8gPSAnJztcbiAgICAgICAgdGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXMgPSBbXG4gICAgICAgICAgICBcInByb3Rhbm9waWFcIixcbiAgICAgICAgICAgIFwicHJvdGFub21hbHlcIixcbiAgICAgICAgICAgIFwiZGV1dGVyYW5vcGlhXCIsXG4gICAgICAgICAgICBcImRldXRlcmFub21hbHlcIixcbiAgICAgICAgICAgIFwidHJpdGFub3BpYVwiLFxuICAgICAgICAgICAgXCJ0cml0YW5vbWFseVwiLFxuICAgICAgICAgICAgXCJhY2hyb21hdG9wc2lhXCIsXG4gICAgICAgICAgICBcImFjaHJvbWF0b21hbHlcIixcbiAgICAgICAgICAgIFwiZ3JheXNjYWxlXCJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy52aXNpb25DbGFzc2VzID0gW1xuICAgICAgICAgICAgXCJ2aXNpb24tbG9zcy1tb2RlcmF0ZVwiLFxuICAgICAgICAgICAgXCJ2aXNpb24tbG9zcy1zZXZlcmVcIixcbiAgICAgICAgICAgIFwidmlzaW9uLWJsaW5kbmVzc1wiXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuY3NzRmlsdGVyID0gYFxuICA8c3R5bGU+LnByb3Rhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNwcm90YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3Byb3Rhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnByb3Rhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjcHJvdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjcHJvdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmRldXRlcmFub3BpYXstd2Via2l0LWZpbHRlcjp1cmwoI2RldXRlcmFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNkZXV0ZXJhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmRldXRlcmFub21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNkZXV0ZXJhbm9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2RldXRlcmFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRyaXRhbm9waWF7LXdlYmtpdC1maWx0ZXI6dXJsKCN0cml0YW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI3RyaXRhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LnRyaXRhbm9tYWx5ey13ZWJraXQtZmlsdGVyOnVybCgjdHJpdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjdHJpdGFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmFjaHJvbWF0b3BzaWF7LXdlYmtpdC1maWx0ZXI6dXJsKCNhY2hyb21hdG9wc2lhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2FjaHJvbWF0b3BzaWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmFjaHJvbWF0b21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNhY2hyb21hdG9tYWx5KSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2FjaHJvbWF0b21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnR9LmdyYXlzY2FsZXstd2Via2l0LWZpbHRlcjpncmF5c2NhbGUoMTAwJSkhaW1wb3J0YW50O2ZpbHRlcjpncmF5c2NhbGUoMTAwJSkhaW1wb3J0YW50fS52aXNpb24tbG9zcy1tb2RlcmF0ZSBib2R5Pip7LXdlYmtpdC1maWx0ZXI6Ymx1cigxcHgpIWltcG9ydGFudDtmaWx0ZXI6Ymx1cigxcHgpIWltcG9ydGFudH0udmlzaW9uLWxvc3Mtc2V2ZXJlIGJvZHk+Knstd2Via2l0LWZpbHRlcjpibHVyKDEwcHgpIWltcG9ydGFudDtmaWx0ZXI6Ymx1cigxMHB4KSFpbXBvcnRhbnR9LnZpc2lvbi1ibGluZG5lc3MgYm9keT4qe2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7LXdlYmtpdC1maWx0ZXI6YnJpZ2h0bmVzcygwKSFpbXBvcnRhbnQ7ZmlsdGVyOmJyaWdodG5lc3MoMCkhaW1wb3J0YW50fSNhY2Nlc3MtZmlsdGVye2JvcmRlcjowO2NsaXA6cmVjdCgxcHgsMXB4LDFweCwxcHgpOy13ZWJraXQtY2xpcC1wYXRoOmluc2V0KDUwJSk7Y2xpcC1wYXRoOmluc2V0KDUwJSk7aGVpZ2h0OjFweDttYXJnaW46LTFweDt3aWR0aDoxcHg7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlIWltcG9ydGFudDt3b3JkLXdyYXA6bm9ybWFsIWltcG9ydGFudH08L3N0eWxlPmA7XG4gICAgICAgIHRoaXMuc3ZnRmlsdGVyVGVtcGxhdGUgPSBgPHN2ZyBcbiAgaWQ9XCJhY2Nlc3MtZmlsdGVyXCJcbiAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gIHZlcnNpb249XCIxLjFcIj5cbiAgPGRlZnM+XG4gICAgPGZpbHRlciBpZD1cInByb3Rhbm9waWFcIj5cbiAgICAgIDxmZUNvbG9yTWF0cml4XG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxuICAgICAgICB2YWx1ZXM9XCIwLjU2NywgMC40MzMsIDAsICAgICAwLCAwXG4gICAgICAgICAgICAgICAgMC41NTgsIDAuNDQyLCAwLCAgICAgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLjI0MiwgMC43NTgsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxuICAgIDwvZmlsdGVyPlxuICAgIDxmaWx0ZXIgaWQ9XCJwcm90YW5vbWFseVwiPlxuICAgICAgPGZlQ29sb3JNYXRyaXhcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXG4gICAgICAgIHZhbHVlcz1cIjAuODE3LCAwLjE4MywgMCwgICAgIDAsIDBcbiAgICAgICAgICAgICAgICAwLjMzMywgMC42NjcsIDAsICAgICAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMTI1LCAwLjg3NSwgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XG4gICAgPC9maWx0ZXI+XG4gICAgPGZpbHRlciBpZD1cImRldXRlcmFub3BpYVwiPlxuICAgICAgPGZlQ29sb3JNYXRyaXhcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXG4gICAgICAgIHZhbHVlcz1cIjAuNjI1LCAwLjM3NSwgMCwgICAwLCAwXG4gICAgICAgICAgICAgICAgMC43LCAgIDAuMywgICAwLCAgIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4zLCAgIDAuNywgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAxLCAwXCIvPlxuICAgIDwvZmlsdGVyPlxuICAgIDxmaWx0ZXIgaWQ9XCJkZXV0ZXJhbm9tYWx5XCI+XG4gICAgICA8ZmVDb2xvck1hdHJpeFxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxuICAgICAgICB0eXBlPVwibWF0cml4XCJcbiAgICAgICAgdmFsdWVzPVwiMC44LCAgIDAuMiwgICAwLCAgICAgMCwgMFxuICAgICAgICAgICAgICAgIDAuMjU4LCAwLjc0MiwgMCwgICAgIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4xNDIsIDAuODU4LCAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cbiAgICA8L2ZpbHRlcj5cbiAgICA8ZmlsdGVyIGlkPVwidHJpdGFub3BpYVwiPlxuICAgICAgPGZlQ29sb3JNYXRyaXhcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXG4gICAgICAgIHZhbHVlcz1cIjAuOTUsIDAuMDUsICAwLCAgICAgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgIDAuNDMzLCAwLjU2NywgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgIDAuNDc1LCAwLjUyNSwgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cbiAgICA8L2ZpbHRlcj5cbiAgICA8ZmlsdGVyIGlkPVwidHJpdGFub21hbHlcIj5cbiAgICAgIDxmZUNvbG9yTWF0cml4XG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxuICAgICAgICB2YWx1ZXM9XCIwLjk2NywgMC4wMzMsIDAsICAgICAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuNzMzLCAwLjI2NywgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLjE4MywgMC44MTcsIDAsIDBcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxuICAgIDwvZmlsdGVyPlxuICAgIDxmaWx0ZXIgaWQ9XCJhY2hyb21hdG9wc2lhXCI+XG4gICAgICA8ZmVDb2xvck1hdHJpeFxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxuICAgICAgICB0eXBlPVwibWF0cml4XCJcbiAgICAgICAgdmFsdWVzPVwiMC4yOTksIDAuNTg3LCAwLjExNCwgMCwgMFxuICAgICAgICAgICAgICAgIDAuMjk5LCAwLjU4NywgMC4xMTQsIDAsIDBcbiAgICAgICAgICAgICAgICAwLjI5OSwgMC41ODcsIDAuMTE0LCAwLCAwXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cbiAgICA8L2ZpbHRlcj5cbiAgICA8ZmlsdGVyIGlkPVwiYWNocm9tYXRvbWFseVwiPlxuICAgICAgPGZlQ29sb3JNYXRyaXhcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXG4gICAgICAgIHZhbHVlcz1cIjAuNjE4LCAwLjMyMCwgMC4wNjIsIDAsIDBcbiAgICAgICAgICAgICAgICAwLjE2MywgMC43NzUsIDAuMDYyLCAwLCAwXG4gICAgICAgICAgICAgICAgMC4xNjMsIDAuMzIwLCAwLjUxNiwgMCwgMFxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XG4gICAgPC9maWx0ZXI+XG4gIDwvZGVmcz5cbjwvc3ZnPmA7XG4gICAgfVxuICAgIGdldEFjdGl2ZUZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlX2ZpbHRlcjtcbiAgICB9XG4gICAgYXBsaWNhckZpbHRybyhmaWx0cm8pIHtcbiAgICAgICAgaWYgKGZpbHRybyA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhcGxpY2FyIGxvcyBmaWx0cm9zLCBsYSBvcGNpb24gbm8gc2UgcGludGFkYSBjb3JyZWN0YW1lbnRlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZV9maWx0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlVGVzdChcImNvbG9yQmxpbmRuZXNzXCIsIGZpbHRybyk7XG4gICAgICAgICAgICB0aGlzLmZpbHRyb19hcGxpY2FkbyA9IGZpbHRybztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGVzdHMoXCJjb2xvckJsaW5kbmVzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuZmlsdHJvX2FwbGljYWRvID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVfZmlsdGVyID0gIXRoaXMuYWN0aXZlX2ZpbHRlcjtcbiAgICB9XG4gICAgdG9nZ2xlVGVzdCh0ZXN0VHlwZSwgdGVzdENsYXNzKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNJbnNlcnRlZEFjY2Vzcykge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRGaWxlcyh0aGlzLnN2Z0ZpbHRlclRlbXBsYXRlLCB0aGlzLmNzc0ZpbHRlcik7XG4gICAgICAgICAgICB0aGlzLmhhc0luc2VydGVkQWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZVRlc3RzKHRlc3RUeXBlKTtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGVzdENsYXNzKTtcbiAgICB9XG4gICAgaW5zZXJ0RmlsZXMoc3ZnLCBjc3MpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgc3ZnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgY3NzKTtcbiAgICB9XG4gICAgcmVtb3ZlVGVzdHModGVzdFR5cGUpIHtcbiAgICAgICAgaWYgKHRlc3RUeXBlID09IFwidmlzaW9uXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52aXNpb25DbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy52aXNpb25DbGFzc2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXN0VHlwZSA9PSBcImNvbG9yQmxpbmRuZXNzXCIpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbG9yQmxpbmRuZXNzQ2xhc3Nlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHbG9iYWxTdHlsZSB9IGZyb20gXCIuLi8uLi9zdHlsZS9nbG9iYWwtc3R5bGVcIjtcbmV4cG9ydCBjbGFzcyBDc3NGaWx0ZXJDbGFzc2VzIHtcbiAgICBzdGF0aWMgYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX2J1ZmZlciA9IGBcbiAgICAgICAgLmZpbHRlci1saXN0LWJ1ZmZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKX07XG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAyMnB4O1xuICAgICAgICAgIGNvbG9yOiAke0dsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpfTtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBmb250LXNpemU6ICR7R2xvYmFsU3R5bGUuZ2V0TWluaW11bUZvbnRTaXplKCl9O1xuICAgICAgICAgIG1hcmdpbi10b3A6IDJyZW07XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX2J1ZmZlciwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmlsdGVyT3B0aW9uc1N0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IGZpbHRlcl9vcHRpb24gPSBgXG4gICAgICAgIC5maWx0ZXItb3B0aW9uIHtcbiAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX29wdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgcmFkaW9CdXR0b21Dc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHJhZGlvX2J1dHRvbiA9IGBcbiAgICAgICAgLnJhZGlvX2J1dHRvbl9leWVhc3Npc3Q6OmFmdGVyIHtcbiAgICAgICAgICBjb250ZW50OlwiXCI7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgICB3aWR0aDogMjJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgYmFja2dyb3VuZDogI0ZGRkZGRjtcbiAgICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgfVxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShyYWRpb19idXR0b24sIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2hlY2tlZF9zdGF0ZSA9IGBcbiAgICAgICAgLnJhZGlvX2J1dHRvbl9leWVhc3Npc3Q6Y2hlY2tlZDo6YWZ0ZXIge1xuICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoY2hlY2tlZF9zdGF0ZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmlsdGVyU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX2J1dHRvbiA9IGBcbiAgICAgICAgLmZpbHRlcl9idXR0b24ge1xuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgICAgICB0b3A6IDIwcHg7XG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICAgICAgd2lkdGg6IDUwcHg7XG4gICAgICAgICAgaGVpZ2h0OiA1MHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQzYzVhO1xuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgei1pbmRleDogOTk5OTtcbiAgICAgICAgfVxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShmaWx0ZXJfYnV0dG9uLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2xvYmFsU3R5bGUgfSBmcm9tIFwiLi4vc3R5bGUvZ2xvYmFsLXN0eWxlXCI7XG5pbXBvcnQgeyBGaWx0ZXJTZXJ2aWNlIH0gZnJvbSBcIi4vZmlsdGVyLW1vZHVsZS9maWx0ZXJfc2VydmljZVwiO1xuaW1wb3J0IHsgQ3NzRmlsdGVyQ2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZmlsdGVyLWNsYXNzZXNcIjtcbmV4cG9ydCBjbGFzcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuYWJsZUZpbHRlciA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlRmlsdGVyID0gZW5hYmxlRmlsdGVyO1xuICAgICAgICB0aGlzLmZpbHRlclZpZXdPbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpbHRlck9wdGlvbnNNYXAgPSBuZXcgTWFwO1xuICAgICAgICB0aGlzLnN0YXJ0RmlsdGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByYWRpbyA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IHJhZGlvSWQgPSByYWRpby5pZC5yZXBsYWNlKCdfb3B0aW9uJywgJycpO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VBY3RpdmVJbnB1dHMocmFkaW9JZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd0ZpbHRlck9wdGlvbnNMaXN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVuYWJsZUZpbHRlcikge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJfYnVmZmVyXCIpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJfYnVmZmVyX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm8gaGF5IGluc3RhbmNpYSBkZWwgYnVmZmVyIGRlIG9wY2lvbmVzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbHRlcl9idWZmZXJfaW5zdGFuY2UucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJPcHRpb25zTWFwLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJMaXN0ID0gW1xuICAgICAgICAgICAgICAgIHsgaWQ6IFwicHJvdGFub3BpYVwiLCBuYW1lOiBcIlJvam8gKFByb3Rhbm9waWEpXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcImRldXRlcmFub3BpYVwiLCBuYW1lOiBcIlZlcmRlIChEZXV0ZXJhbm9waWEpXCIgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiBcInRyaXRhbm9waWFcIiwgbmFtZTogXCJBenVsIChUcml0YW5vcGlhKVwiIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogXCJncmF5c2NhbGVcIiwgbmFtZTogXCJHcmlzZXMgKEdyYXlzY2FsZSlcIiB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICBcImNvbG9yc1wiLFxuICAgICAgICAgICAgICAgIFwiZmlsdGVyXCJcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICB2YXIgYnVmZmVyTGlzdERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJ1ZmZlckxpc3REaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXItbGlzdC1idWZmZXInO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuaWQgPSAnZmlsdGVyX2J1ZmZlcic7XG4gICAgICAgICAgICB2YXIgYnVmZmVyTGlzdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnVmZmVyTGlzdENvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzclIDclIDMlIDclJztcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gJ1NlbGVjY2lvbmUgdW4gZmlsdHJvIHBhcmEgZGlzdGluZ3VpciBtZWpvciBsb3Mgc2lndWllbnRlcyBjb2xvcmVzOic7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnNXB4JztcbiAgICAgICAgICAgIGJ1ZmZlckxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgY29uc3QgY29sb3JzID0gW1xuICAgICAgICAgICAgICAgICcjM0IzRjRBJyxcbiAgICAgICAgICAgICAgICAnIzcyNjQwMScsXG4gICAgICAgICAgICAgICAgJyNGRkZGMDAnLFxuICAgICAgICAgICAgICAgICcjRkYwMDAwJyxcbiAgICAgICAgICAgICAgICAnI0ZGQTUwMCcsXG4gICAgICAgICAgICAgICAgJyNGRkZGMDAnLFxuICAgICAgICAgICAgICAgICcjMDA4MDAwJyxcbiAgICAgICAgICAgICAgICAnIzAwMDBGRicsXG4gICAgICAgICAgICAgICAgJyM0QjAwODInLFxuICAgICAgICAgICAgICAgICcjOTQwMEQzJyxcbiAgICAgICAgICAgICAgICAnI0ZGRkYwMCcsXG4gICAgICAgICAgICAgICAgJyMwMDE4QTknXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgZmlsdGVyTGlzdC5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBidWZmZXJMaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRGaWx0ZXJPcHRpb24oZmlsdGVyKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2aWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGRpdmlkZXIuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjNjU3NjhiJztcbiAgICAgICAgICAgICAgICBkaXZpZGVyLnN0eWxlLm1hcmdpbiA9ICc1cHggMCc7XG4gICAgICAgICAgICAgICAgYnVmZmVyTGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChkaXZpZGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoYnVmZmVyTGlzdENvbnRhaW5lcik7XG4gICAgICAgICAgICB2YXIgY29sb3JDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICBjb2xvckNvbnRhaW5lci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgICAgICBjb2xvckNvbnRhaW5lci5zdHlsZS5mbGV4V3JhcCA9ICd3cmFwJztcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY29sb3JDb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY29sb3JDb250YWluZXIuc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgICAgICBjb2xvckNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY29sb3JDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZCA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgY29sb3JDb250YWluZXIuc3R5bGUucGFkZGluZyA9ICc1JSAwJztcbiAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLnN0eWxlLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gJzIycHgnO1xuICAgICAgICAgICAgY29sb3JDb250YWluZXIuc3R5bGUuYm9yZGVyQm90dG9tTGVmdFJhZGl1cyA9ICcyMnB4JztcbiAgICAgICAgICAgIGNvbG9ycy5mb3JFYWNoKChjb2xvcikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBjb2xvckJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGNvbG9yQm94LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGNvbG9yQm94LnN0eWxlLndpZHRoID0gJzIyLjhweCc7XG4gICAgICAgICAgICAgICAgY29sb3JCb3guc3R5bGUuaGVpZ2h0ID0gJzUwLjY3cHgnO1xuICAgICAgICAgICAgICAgIGNvbG9yQm94LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgICAgIGNvbG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKGNvbG9yQm94KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoY29sb3JDb250YWluZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlckxpc3REaXZFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UgPSBuZXcgRmlsdGVyU2VydmljZSgpO1xuICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlckJ1ZmZlclN0eWxlQ2xhc3MoKTtcbiAgICAgICAgQ3NzRmlsdGVyQ2xhc3Nlcy5hZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcygpO1xuICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLnJhZGlvQnV0dG9tQ3NzKCk7XG4gICAgfVxuICAgIHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5hYmxlRmlsdGVyO1xuICAgIH1cbiAgICB0b2dnbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlRmlsdGVyID0gIXRoaXMuZW5hYmxlRmlsdGVyO1xuICAgIH1cbiAgICBzaG93RmlsdGVyT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gXCJodHRwczovL2dpdGh1Yi5jb20vRXllZUFzc2lzdC9kb2NzL2Jsb2IvZGV2ZWxvcC9zcmMvYXNzZXRzL2xvZ28ucG5nP3Jhdz10cnVlXCI7XG4gICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gJzUwcHgnO1xuICAgICAgICBpbWFnZS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdmaWx0ZXJfYnV0dG9uJztcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdmaWx0ZXJfYnV0dG9uJztcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICAgIGRpdkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dGaWx0ZXJPcHRpb25zTGlzdCk7XG4gICAgICAgIENzc0ZpbHRlckNsYXNzZXMuYWRkRmlsdGVyU3R5bGVDbGFzcygpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgIH1cbiAgICBidWlsZEZpbHRlck9wdGlvbihmaWx0ZXJPcHRpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbkRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmlsdGVyLW9wdGlvbic7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgb3B0aW9uRGl2RWxlbWVudC5pZCA9IGZpbHRlck9wdGlvbi5pZCArICdfb3B0aW9uJztcbiAgICAgICAgY29uc3QgcmFkaW9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcmFkaW9Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgcmFkaW9Db250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICByYWRpb0NvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBjb25zdCByYWRpb0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIHJhZGlvQnV0dG9uLnR5cGUgPSBcInJhZGlvXCI7XG4gICAgICAgIHJhZGlvQnV0dG9uLmlkID0gZmlsdGVyT3B0aW9uLmlkICsgJ19vcHRpb24nO1xuICAgICAgICByYWRpb0J1dHRvbi5jbGFzc05hbWUgPSAncmFkaW9fYnV0dG9uX2V5ZWFzc2lzdCc7XG4gICAgICAgIHJhZGlvQnV0dG9uLnN0eWxlLmFwcGVhcmFuY2UgPSAnbm9uZSc7XG4gICAgICAgIHJhZGlvQnV0dG9uLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUuaGVpZ2h0ID0gJzI1cHgnO1xuICAgICAgICByYWRpb0J1dHRvbi5zdHlsZS53aWR0aCA9ICcyNXB4JztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUuYm9yZGVyID0gJzAuMTVlbSBzb2xpZCAjRkZGRkZGJztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwJSc7XG4gICAgICAgIHJhZGlvQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnZ3JpZCc7XG4gICAgICAgIHJhZGlvQnV0dG9uLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgcmFkaW9CdXR0b24uc3R5bGUucGxhY2VDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIHJhZGlvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFydEZpbHRlcik7XG4gICAgICAgIHRoaXMuZmlsdGVyT3B0aW9uc01hcC5zZXQoZmlsdGVyT3B0aW9uLmlkLCByYWRpb0J1dHRvbik7XG4gICAgICAgIGNvbnN0IG9wdGlvblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIG9wdGlvblRleHQudGV4dENvbnRlbnQgPSBmaWx0ZXJPcHRpb24ubmFtZTtcbiAgICAgICAgb3B0aW9uVGV4dC5zdHlsZS5tYXJnaW5MZWZ0ID0gJzEycHgnO1xuICAgICAgICByYWRpb0NvbnRhaW5lci5hcHBlbmQocmFkaW9CdXR0b24pO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmFwcGVuZChyYWRpb0NvbnRhaW5lcik7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQuYXBwZW5kKG9wdGlvblRleHQpO1xuICAgICAgICByZXR1cm4gb3B0aW9uRGl2RWxlbWVudDtcbiAgICB9XG4gICAgY2hhbmdlQWN0aXZlSW5wdXRzKHNlbGVjdGVkX2lucHV0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnB1dCBzZWxlY2Npb25hZG8nLCBzZWxlY3RlZF9pbnB1dCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfZWxlbWVudCA9IHRoaXMuZmlsdGVyT3B0aW9uc01hcC5nZXQoc2VsZWN0ZWRfaW5wdXQpO1xuICAgICAgICBpZiAodGhpcy5maWx0ZXJTZXJ2aWNlLmdldEFjdGl2ZUZpbHRlcigpICYmIHRoaXMuZmlsdGVyU2VydmljZS5maWx0cm9fYXBsaWNhZG8gPT0gc2VsZWN0ZWRfaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyU2VydmljZS5hcGxpY2FyRmlsdHJvKHNlbGVjdGVkX2lucHV0KTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50X2VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50X2VsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2NsYXZlLCB2YWxvcl0gb2YgdGhpcy5maWx0ZXJPcHRpb25zTWFwKSB7XG4gICAgICAgICAgICBpZiAoY2xhdmUgIT0gc2VsZWN0ZWRfaW5wdXQpIHtcbiAgICAgICAgICAgICAgICB2YWxvci5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZmlsdGVyU2VydmljZS5nZXRBY3RpdmVGaWx0ZXIoKSkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTZXJ2aWNlLmFwbGljYXJGaWx0cm8oc2VsZWN0ZWRfaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTZXJ2aWNlLmFwbGljYXJGaWx0cm8oc2VsZWN0ZWRfaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTZXJ2aWNlLmFwbGljYXJGaWx0cm8oc2VsZWN0ZWRfaW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFZpZGVvUHJvY2Vzb3Ige1xuICAgIGNvbnN0cnVjdG9yKGZvdW5kVmlkZW8gPSBmYWxzZSwgdGFsaykge1xuICAgICAgICB0aGlzLmZvdW5kVmlkZW8gPSBmb3VuZFZpZGVvO1xuICAgICAgICB0aGlzLnRhbGsgPSB0YWxrO1xuICAgICAgICB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhID09PSBZVC5QbGF5ZXJTdGF0ZS5QQVVTRUQpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT0gWVQuUGxheWVyU3RhdGUuRU5ERUQpIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgPT09IFlULlBsYXllclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSAoX2EgPSB0aGlzLnBsYXllcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWUgPSBjdXJyZW50VGltZSA9PT0gbnVsbCB8fCBjdXJyZW50VGltZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVudFRpbWUudG9GaXhlZCgxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChfYiA9IHRoaXMuc2NyaXB0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0KHRpbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMucGxheWVyPy5wYXVzZVZpZGVvKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygoX2MgPSB0aGlzLnNjcmlwdCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmdldCh0aW1lKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMucGxheWVyPy5wbGF5VmlkZW8oKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9nZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLmZvdW5kVmlkZW8gPSAhdGhpcy5mb3VuZFZpZGVvO1xuICAgIH1cbiAgICB0dXJuT2ZmKCkge1xuICAgICAgICB0aGlzLmZvdW5kVmlkZW8gPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhcnRBdWRpb0Rlc2NyaXB0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAodGhpcy5mb3VuZFZpZGVvICYmIGV2ZW50LnNoaWZ0S2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImtcIikge1xuICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLnBsYXllcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBsYXllclN0YXRlKCkpID09IFlULlBsYXllclN0YXRlLlBMQVlJTkcpIHtcbiAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnBsYXllcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnBhdXNlVmlkZW8oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIChfYyA9IHRoaXMucGxheWVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucGxheVZpZGVvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlUGxheWVyKG5vZGUpIHtcbiAgICAgICAgbGV0IGlmcmFtZSA9IG5vZGU7XG4gICAgICAgIGlmcmFtZS5pZCA9ICdzaW5nbGUtdmlkZW8tZXllZWFzc2l0JztcbiAgICAgICAgdGhpcy5zY3JpcHQgPSB0aGlzLmdldFNjcmlwdChpZnJhbWUuc3JjKTtcbiAgICAgICAgY29uc3QgcXVlc3Rpb25NYXJrSW5kZXggPSBpZnJhbWUuc3JjLmluZGV4T2YoJz8nKTtcbiAgICAgICAgaWZyYW1lLnNyYyA9IGlmcmFtZS5zcmMuc3Vic3RyaW5nKDAsIHF1ZXN0aW9uTWFya0luZGV4ICsgMSkgKyAnZW5hYmxlanNhcGk9MSYnICsgaWZyYW1lLnNyYy5zdWJzdHJpbmcocXVlc3Rpb25NYXJrSW5kZXggKyAxKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgWVQuUGxheWVyKGlmcmFtZS5pZCwge1xuICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgJ29uU3RhdGVDaGFuZ2UnOiB0aGlzLm9uUGxheWVyU3RhdGVDaGFuZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFNjcmlwdCh1cmwpIHtcbiAgICAgICAgY29uc3QgbXlNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIG15TWFwLnNldCgnMS4wJywgJ1BhaXNhamUgZGUgdW5hIHBsYXlhJyk7XG4gICAgICAgIG15TWFwLnNldCgnMTMuMCcsICdQYWlzYWplIGRlIHVuYXMgbW90YcOxYXMgeSB1bmEgYmFuZGVyYSBvbmRlYW5kbycpO1xuICAgICAgICBteU1hcC5zZXQoJzI4LjAnLCAnUGFpc2FqZSBjb24gdW5hIGNvc3RhIHkgb2xhcyByb21waWVuZG8nKTtcbiAgICAgICAgbXlNYXAuc2V0KCc0MC4wJywgJ1VuYSBsYWd1bmEgYXJ0aWZpY2lhbCcpO1xuICAgICAgICBteU1hcC5zZXQoJzU2LjAnLCAnVW4gcmlvIGxhcmdvJyk7XG4gICAgICAgIHJldHVybiBteU1hcDtcbiAgICB9XG59XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IFZpZGVvUHJvY2Vzb3IgfSBmcm9tIFwiLi92aWRlby1wcm9jZXNvclwiO1xuZXhwb3J0IGNsYXNzIFNjcmVlblJlYWRlciB7XG4gICAgY29uc3RydWN0b3IodXNlU2NyZWVuUmVhZGVyID0gZmFsc2UsIHRva2VuID0gXCJcIikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudXNlU2NyZWVuUmVhZGVyID0gdXNlU2NyZWVuUmVhZGVyO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuc3ludGggPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzO1xuICAgICAgICB0aGlzLnNjcmVlblJlYWRlclN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbnVsbDtcbiAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5saW5rSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyO1xuICAgICAgICB0aGlzLnZpZGVvUHJvY2Vzb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICAgICAgdGhpcy50YWxrID0gKHRleHQsIGNhbmNlbCA9IHRydWUpID0+IHtcbiAgICAgICAgICAgIGNhbmNlbCA/IHRoaXMuc3ludGguY2FuY2VsKCkgOiBcIiBcIjtcbiAgICAgICAgICAgIHRoaXMuc3ludGguc3BlYWsobmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSh0ZXh0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2FuY2VsVGFsayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGFsayhcIlwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLnVzZVNjcmVlblJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgdGFnLnNyYyA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaVwiO1xuICAgICAgICBsZXQgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgICAgIChfYSA9IGZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbnNlcnRCZWZvcmUodGFnLCBmaXJzdFNjcmlwdFRhZyk7XG4gICAgICAgIHRoaXMudmlkZW9Qcm9jZXNvciA9IG5ldyBWaWRlb1Byb2Nlc29yKGZhbHNlLCB0aGlzLnRhbGspO1xuICAgIH1cbiAgICBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZVNjcmVlblJlYWRlcjtcbiAgICB9XG4gICAgdG9nZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLnVzZVNjcmVlblJlYWRlciA9ICF0aGlzLnVzZVNjcmVlblJlYWRlcjtcbiAgICB9XG4gICAgZW5hYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY3JlZW5SZWFkZXJTdGF0dXM7XG4gICAgfVxuICAgIHNheVdlbGNvbWUoKSB7XG4gICAgICAgIHRoaXMudGFsayhcIkhvbGEgYmllbnZlbmlkbyBhIGxhIHBhZ2luYSBYLCBzaSBkZXNlYSBsZWVyIGVsIGNvbnRlbmlkbyBwcmVjaW9uZSBjb250cm9sICsgZmxlY2hhIGRlcmVjaGEgbyBwcmVjaW9uZSBjb250cm9sICsgZW50ZXIgcGFyYSBuYXZlZ2FyIHBvciBsb3MgbGlua3NcIik7XG4gICAgfVxuICAgIHNheUdvb2RiYXkoKSB7XG4gICAgICAgIHRoaXMudGFsayhcIkdyYWNpYXMgcG9yIHV0aWxpemFyIGV5ZWVhc3Npc3RcIik7XG4gICAgfVxuICAgIGtleWJpbmRzU2NyZWVuUmVhZGVyKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jYW5jZWxSZWFkZXIoZXZlbnQpO1xuICAgICAgICB0aGlzLnJlUmVhZChldmVudCk7XG4gICAgICAgIHRoaXMuYWN0aXZlU2NyZWVuUmVhZGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy5tb3ZlQmV0d2VlbkNvbnRlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLm1vdmVCZXR3ZWVuTGlua3MoZXZlbnQpO1xuICAgICAgICAoX2EgPSB0aGlzLnZpZGVvUHJvY2Vzb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydEF1ZGlvRGVzY3JpcHRpb24oZXZlbnQpO1xuICAgIH1cbiAgICBnZXRJbWFnZShzcmMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goc3JjKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldERlc2NyaXB0aW9uKGJsb2IpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBibG9iLCAnaW1hZ2VuLmpwZycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50b2tlbik7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0aGlzLnRva2VuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjgwMDAvY2FwdGlvbicsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uLm1lc3NhZ2VbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlYWRDaGlsZHMoYXJ0aWNsZSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGlmIChhcnRpY2xlLm5vZGVOYW1lID09ICdJRlJBTUUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWxrKCdWaWRlbyBlbmNvbnRyYWRvLCBwcmVjaW9uZSBzaGlmdCBtYXMgayBwYXJhIGluaWNpYXIgZWwgdmlkZW8gY29uIGF1ZGlvIGRlc2NyaXBjaW9uJyk7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy52aWRlb1Byb2Nlc29yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9nZ2xlU3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgKF9iID0gdGhpcy52aWRlb1Byb2Nlc29yKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY3JlYXRlUGxheWVyKGFydGljbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFydGljbGUubm9kZU5hbWUgPT0gJ0lNRycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ0ltYWdlbiBlbmNvbnRyYWRhJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGxldCBpbWcgPSBhcnRpY2xlO1xuICAgICAgICAgICAgICAgIGlmIChpbWcuYWx0ICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ0ltYWdlbiBkZSAnICsgaW1nLmFsdCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLmdldEltYWdlKGltZy5zcmMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0geWllbGQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ2Rlc2NyaWJpZW5kbyBpbWFnZW4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0geWllbGQgdGhpcy5nZXREZXNjcmlwdGlvbihibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnSW1hZ2VuIGRlICcgKyBkZXNjcmlwdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKCdObyBzZSBwdWRvIGdlbmVyYXIgdW5hIGRlc2NyaXBjaW9uIHBhcmEgbGEgaW1hZ2VuIGVuY29udHJhZGEuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFydGljbGUubm9kZVR5cGUgPT0gTm9kZS5URVhUX05PREUgJiYgKChfYyA9IGFydGljbGUudGV4dENvbnRlbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy50cmltKCkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWxrKGFydGljbGUudGV4dENvbnRlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgQXJyYXkuZnJvbShhcnRpY2xlLmNoaWxkTm9kZXMpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdGhpcy5yZWFkQ2hpbGRzKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1vdmVCZXR3ZWVuQ29udGVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy50YWdzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJhcnJvd3JpZ2h0XCIpIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEFydGljbGUgPSB0aGlzLnRhZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMudGFncy5wdXNoKHNlbGVjdGVkQXJ0aWNsZSk7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFRhbGsoKTtcbiAgICAgICAgICAgIHRoaXMucmVhZENoaWxkcyhzZWxlY3RlZEFydGljbGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNjcmVlblJlYWRlclN0YXR1cyAmJlxuICAgICAgICAgICAgZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYXJyb3dsZWZ0XCIpIHtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZEFydGljbGUgPSB0aGlzLnRhZ3MucG9wKCk7XG4gICAgICAgICAgICB0aGlzLnRhZ3MudW5zaGlmdChzZWxlY3RlZEFydGljbGUpO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxUYWxrKCk7XG4gICAgICAgICAgICB0aGlzLnJlYWRDaGlsZHMoc2VsZWN0ZWRBcnRpY2xlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY3RpdmVTY3JlZW5SZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlU2NyZWVuUmVhZGVyICYmIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiIFwiKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWdzID0gdGhpcy5jb252ZXJ0VG9IdG1sRWxlbWVudHNBcnJheShkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFydGljbGVcIikpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2F5V2VsY29tZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWdzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5zYXlHb29kYmF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjcmVlblJlYWRlclN0YXR1cyA9ICF0aGlzLnNjcmVlblJlYWRlclN0YXR1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlQmV0d2VlbkxpbmtzKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnNjcmVlblJlYWRlclN0YXR1cyAmJlxuICAgICAgICAgICAgZXZlbnQuY3RybEtleSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVudGVyXCIgJiZcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJlbnRlclwiKSB7XG4gICAgICAgICAgICBsZXQgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwidGV4dF9yZWFkZXJfbGlua1wiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpbmtzW3RoaXMubGlua0luZGV4XS50YWdOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbGlua3NbdGhpcy5saW5rSW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuZm9jdXMoKTtcbiAgICAgICAgICAgIGlmIChsaW5rc1t0aGlzLmxpbmtJbmRleF0udGFnTmFtZSA9PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluay5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkTGluayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50YWxrKFwiU2VsZWNjaW9uYWRvIHVuIHRleHQgYXJlYVwiLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZExpbmsudGV4dENvbnRlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMuc2VsZWN0ZWRMaW5rLnRleHRDb250ZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5saW5rSW5kZXggPT09IGxpbmtzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmtJbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmtJbmRleCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbFJlYWRlcihldmVudCkge1xuICAgICAgICBpZiAodGhpcy51c2VTY3JlZW5SZWFkZXIgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiZXNjYXBlXCIpIHtcbiAgICAgICAgICAgIHRoaXMudGFsayhcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZVJlYWQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlU2NyZWVuUmVhZGVyICYmIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXJ0aWNsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBcnRpY2xlLnRleHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKHRoaXMuc2VsZWN0ZWRBcnRpY2xlLnRleHRDb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udmVydFRvSHRtbEVsZW1lbnRzQXJyYXkodGFncykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRhZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHbG9iYWxTdHlsZSB9IGZyb20gXCIuLi8uLi9zdHlsZS9nbG9iYWwtc3R5bGVcIjtcbmltcG9ydCB7IENhcmRCdXR0b24gfSBmcm9tIFwiLi9jYXJkLWJ1dHRvblwiO1xuaW1wb3J0IHsgT3B0aW9uQ2FyZFN0eWxlcyB9IGZyb20gXCIuL29wdGlvbi1jYXJkLXN0eWxlc1wiO1xuZXhwb3J0IGNsYXNzIE9wdGlvbkNhcmQge1xuICAgIGNvbnN0cnVjdG9yKGZ1bmN0aW9uYWxpdHlJZCwgdGl0bGUgPSAnJywgc3VidGl0bGUgPSAnJywgaWNvbiwgb3B0aW9uID0gZmFsc2UsIHRvZ2dsZU9wdGlvbkNhcmQpIHtcbiAgICAgICAgdGhpcy5mdW5jdGlvbmFsaXR5SWQgPSBmdW5jdGlvbmFsaXR5SWQ7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5zdWJ0aXRsZSA9IHN1YnRpdGxlO1xuICAgICAgICB0aGlzLmljb24gPSBpY29uO1xuICAgICAgICB0aGlzLm9wdGlvbiA9IG9wdGlvbjtcbiAgICAgICAgdGhpcy50b2dnbGVPcHRpb25DYXJkID0gdG9nZ2xlT3B0aW9uQ2FyZDtcbiAgICAgICAgT3B0aW9uQ2FyZFN0eWxlcy5vcHRpb25DYXJkU3R5bGUoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVPcHRpb25DYXJkKCk7XG4gICAgfVxuICAgIGNyZWF0ZU9wdGlvbkNhcmQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ29wdGlvbi1jYXJkLWV5ZWVhc3Npc3QnO1xuICAgICAgICBjb250YWluZXIuaWQgPSB0aGlzLmZ1bmN0aW9uYWxpdHlJZCArICctY2FyZC1vcHRpb24tZXllYXNzaXN0JztcbiAgICAgICAgY29uc3Qgc3BhblRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLnRpdGxlO1xuICAgICAgICBzcGFuVGl0bGUuc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgY29uc3Qgc3BhblN1YnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuU3VidGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLnN1YnRpdGxlO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3BhblRpdGxlKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHNwYW5TdWJ0aXRsZSk7XG4gICAgICAgIGlmICh0aGlzLmljb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGljb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS50b3AgPSAnLTIwcHgnO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5yaWdodCA9ICctMjBweCc7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLndpZHRoID0gJzkwcHgnO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnOTBweCc7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgICAgICBpY29uQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlJdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5hbGlnbkNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNTAlJztcbiAgICAgICAgICAgIGljb25Db250YWluZXIuc3R5bGUuYmFja2dyb3VuZCA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgaWNvbkNvbnRhaW5lci5hcHBlbmQodGhpcy5pY29uKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uQ29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidXR0b21Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYnV0dG9tQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGJ1dHRvbUNvbnRhaW5lci5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIGNvbnN0IGxlZnRCdXR0b24gPSBuZXcgQ2FyZEJ1dHRvbih0aGlzLmZ1bmN0aW9uYWxpdHlJZCwgJ1NpJywgUG9zaXRpb25CdXR0b24uTEVGVCwgdGhpcy5vcHRpb24gPyB0cnVlIDogZmFsc2UsIHRoaXMudG9nZ2xlT3B0aW9uQ2FyZCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0QnV0dG9uID0gbmV3IENhcmRCdXR0b24odGhpcy5mdW5jdGlvbmFsaXR5SWQsICdObycsIFBvc2l0aW9uQnV0dG9uLlJJR0hULCB0aGlzLm9wdGlvbiA/IGZhbHNlIDogdHJ1ZSwgdGhpcy50b2dnbGVPcHRpb25DYXJkKTtcbiAgICAgICAgbGVmdEJ1dHRvbi5hc3NpZ25DaGFuZ2VPcG9zaXZlU3RhdGVCdXR0b24ocmlnaHRCdXR0b24udG9nZ2xlU3RhdGUpO1xuICAgICAgICByaWdodEJ1dHRvbi5hc3NpZ25DaGFuZ2VPcG9zaXZlU3RhdGVCdXR0b24obGVmdEJ1dHRvbi50b2dnbGVTdGF0ZSk7XG4gICAgICAgIGJ1dHRvbUNvbnRhaW5lci5hcHBlbmRDaGlsZChsZWZ0QnV0dG9uLmdldEVsZW1lbnQoKSk7XG4gICAgICAgIGJ1dHRvbUNvbnRhaW5lci5hcHBlbmRDaGlsZChyaWdodEJ1dHRvbi5nZXRFbGVtZW50KCkpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnV0dG9tQ29udGFpbmVyKTtcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG4gICAgZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG59XG5leHBvcnQgdmFyIFBvc2l0aW9uQnV0dG9uO1xuKGZ1bmN0aW9uIChQb3NpdGlvbkJ1dHRvbikge1xuICAgIFBvc2l0aW9uQnV0dG9uW1Bvc2l0aW9uQnV0dG9uW1wiUklHSFRcIl0gPSAwXSA9IFwiUklHSFRcIjtcbiAgICBQb3NpdGlvbkJ1dHRvbltQb3NpdGlvbkJ1dHRvbltcIkxFRlRcIl0gPSAxXSA9IFwiTEVGVFwiO1xufSkoUG9zaXRpb25CdXR0b24gfHwgKFBvc2l0aW9uQnV0dG9uID0ge30pKTtcbiIsImltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uLy4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuZXhwb3J0IGNsYXNzIENzc0NsYXNzZXMge1xuICAgIHN0YXRpYyBhZGRab29tTWVzc2FnZVRleHRCb3hDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdO1xuICAgICAgICB2YXIgY3NzUnVsZSA9IGAuem9vbS1tZXNzYWdlLXR4dGJveCB7ICBcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgICAgICB6LWluZGV4OiA5OTk5O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7R2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCl9O1xuICAgICAgICAgIGNvbG9yOiAke0dsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpfTtcbiAgICAgICAgICBmb250LXNpemU6IDIwcmVtO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICB3aWR0aDogODAlO1xuICAgICAgICAgIGhlaWdodDogODAlO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoY3NzUnVsZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBab29tU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiA9IDgwMDtcbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgICAgIHRoaXMubW91c2VYID0gMDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwO1xuICAgICAgICB0aGlzLnBhbkVuZ2FnZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5wYW5VcGRhdGVJbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLmNhbGxiYWNrVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnN1cHBvcnRzVHJhbnNmb3JtcyA9ICdXZWJraXRUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdNb3pUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdtc1RyYW5zZm9ybScgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSB8fFxuICAgICAgICAgICAgJ09UcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gICAgICAgIHRoaXMua2V5dXBFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEgJiYgZXZlbnQua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdXNlTW92ZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgLy8gVGhlIGVhc2luZyB0aGF0IHdpbGwgYmUgYXBwbGllZCB3aGVuIHdlIHpvb20gaW4vb3V0XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtICcgKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKyAnbXMgZWFzZSc7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zaXRpb24gPSAnLW8tdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNpdGlvbiA9ICctbXMtdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zaXRpb24gPSAnLW1vei10cmFuc2Zvcm0gJysgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsnbXMgZWFzZSc7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9ICctd2Via2l0LXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5dXBFdmVudCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW91c2VNb3ZlRXZlbnQpO1xuICAgIH1cbiAgICBtYWduaWZ5KHJlY3QsIHNjYWxlKSB7XG4gICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSB0aGlzLmdldFNjcm9sbE9mZnNldCgpO1xuICAgICAgICAvLyBFbnN1cmUgYSB3aWR0aC9oZWlnaHQgaXMgc2V0XG4gICAgICAgIHJlY3Qud2lkdGggPSByZWN0LndpZHRoIHx8IDE7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5oZWlnaHQgfHwgMTtcbiAgICAgICAgLy8gQ2VudGVyIHRoZSByZWN0IHdpdGhpbiB0aGUgem9vbWVkIHZpZXdwb3J0XG4gICAgICAgIHJlY3QueCAtPSAod2luZG93LmlubmVyV2lkdGggLSAocmVjdC53aWR0aCAqIHNjYWxlKSkgLyAyO1xuICAgICAgICByZWN0LnkgLT0gKHdpbmRvdy5pbm5lckhlaWdodCAtIChyZWN0LmhlaWdodCAqIHNjYWxlKSkgLyAyO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjYWxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luID0gc2Nyb2xsT2Zmc2V0LnggKyAncHggJyArIHNjcm9sbE9mZnNldC55ICsgJ3B4JywgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgLXJlY3QueCArICdweCwnICsgLXJlY3QueSArICdweCkgc2NhbGUoJyArIHNjYWxlICsgJyknO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuTW96VHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk9UcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2NhbGVcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCA9ICgtKHNjcm9sbE9mZnNldC54ICsgcmVjdC54KSAvIHNjYWxlKSArICdweCc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAoLShzY3JvbGxPZmZzZXQueSArIHJlY3QueSkgLyBzY2FsZSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAoc2NhbGUgKiAxMDApICsgJyUnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gKHNjYWxlICogMTAwKSArICclJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IHNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV2ZWwgPSBzY2FsZTtcbiAgICB9XG4gICAgcGFuKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSAwLjEyLCByYW5nZVggPSB3aW5kb3cuaW5uZXJXaWR0aCAqIHJhbmdlLCByYW5nZVkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiByYW5nZSwgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgLy8gVXBcbiAgICAgICAgaWYgKHRoaXMubW91c2VZIDwgcmFuZ2VZKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHNjcm9sbE9mZnNldC54LCBzY3JvbGxPZmZzZXQueSAtICgxIC0gKHRoaXMubW91c2VZIC8gcmFuZ2VZKSkgKiAoMTQgLyB0aGlzLmxldmVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG93blxuICAgICAgICBlbHNlIGlmICh0aGlzLm1vdXNlWSA+IHdpbmRvdy5pbm5lckhlaWdodCAtIHJhbmdlWSkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCwgc2Nyb2xsT2Zmc2V0LnkgKyAoMSAtICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLm1vdXNlWSkgLyByYW5nZVkpICogKDE0IC8gdGhpcy5sZXZlbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExlZnRcbiAgICAgICAgaWYgKHRoaXMubW91c2VYIDwgcmFuZ2VYKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHNjcm9sbE9mZnNldC54IC0gKDEgLSAodGhpcy5tb3VzZVggLyByYW5nZVgpKSAqICgxNCAvIHRoaXMubGV2ZWwpLCBzY3JvbGxPZmZzZXQueSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmlnaHRcbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZVggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHJhbmdlWCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCArICgxIC0gKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5tb3VzZVgpIC8gcmFuZ2VYKSAqICgxNCAvIHRoaXMubGV2ZWwpLCBzY3JvbGxPZmZzZXQueSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2Nyb2xsT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogd2luZG93LnNjcm9sbFggIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JvbGxYIDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgeTogd2luZG93LnNjcm9sbFkgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JvbGxZIDogd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub3V0KHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLnggPSBvcHRpb25zLnggfHwgMDtcbiAgICAgICAgICAgIG9wdGlvbnMueSA9IG9wdGlvbnMueSB8fCAwO1xuICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBpcyBzZXQsIHRoYXQgdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICAgICAgaWYgKCEhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gU3BhY2UgYXJvdW5kIHRoZSB6b29tZWQgaW4gZWxlbWVudCB0byBsZWF2ZSBvbiBzY3JlZW5cbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHR5cGVvZiBvcHRpb25zLnBhZGRpbmcgPT09ICdudW1iZXInID8gb3B0aW9ucy5wYWRkaW5nIDogMjA7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG9wdGlvbnMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnggPSBib3VuZHMubGVmdCAtIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ID0gYm91bmRzLnRvcCAtIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy53aWR0aCA9IGJvdW5kcy53aWR0aCArIChwYWRkaW5nICogMik7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0ICsgKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdpZHRoL2hlaWdodCB2YWx1ZXMgYXJlIHNldCwgY2FsY3VsYXRlIHNjYWxlIGZyb20gdGhvc2UgdmFsdWVzXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53aWR0aCAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjYWxlID0gTWF0aC5tYXgoTWF0aC5taW4od2luZG93LmlubmVyV2lkdGggLyBvcHRpb25zLndpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyBvcHRpb25zLmhlaWdodCksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ID0gTWF0aC5tYXgob3B0aW9ucy54LCAwKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnkgPSBNYXRoLm1heChvcHRpb25zLnksIDApO1xuICAgICAgICAgICAgICAgIHRoaXMubWFnbmlmeShvcHRpb25zLCBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wYW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFuRW5nYWdlVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5jYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCwgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dChvcHRpb25zLmNhbGxiYWNrLCB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCgpIHtcbiAgICAgICAgdGhpcy5wYW5VcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMucGFuLCAxMDAwIC8gNjApO1xuICAgIH1cbiAgICBvdXQob3B0aW9ucykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wYW5FbmdhZ2VUaW1lb3V0KTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBhblVwZGF0ZUludGVydmFsKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsbGJhY2tUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5tYWduaWZ5KG5ldyBPcHRpb25zWm9vbSgwLCAwLCAxKSwgMSk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KG9wdGlvbnMuY2FsbGJhY2ssIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9wdGlvbnNab29tIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSkge1xuICAgICAgICB0aGlzLnggPSAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuICAgICAgICB0aGlzLnNjYWxlID0gMDtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENzc0NsYXNzZXMgfSBmcm9tIFwiLi9zdHlsZXMvY3NzLXpvb20tY2xhc3Nlc1wiO1xuaW1wb3J0IHsgWm9vbVNlcnZpY2UsIE9wdGlvbnNab29tIH0gZnJvbSBcIi4vem9vbS1tb2R1bGUvem9vbV9zZXJ2aWNlXCI7XG5leHBvcnQgY2xhc3MgWm9vbSB7XG4gICAgY29uc3RydWN0b3IoZW5hYmxlWm9vbU9wdGlvbnMgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVuYWJsZVpvb21PcHRpb25zID0gZW5hYmxlWm9vbU9wdGlvbnM7XG4gICAgICAgIHRoaXMuem9vbVN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZV9tZXNzYWdlID0gYDxkaXYgaWQ9XCJ6b29tLXN0YXR1c1wiIGNsYXNzPVwiem9vbS1tZXNzYWdlLXR4dGJveFwiPk9uPC9kaXY+YDtcbiAgICAgICAgdGhpcy5kZWFjdGl2ZV9tZXNzYWdlID0gYDxkaXYgaWQ9XCJ6b29tLXN0YXR1c1wiIGNsYXNzPVwiem9vbS1tZXNzYWdlLXR4dGJveFwiPk9mZjwvZGl2PmA7XG4gICAgICAgIHRoaXMudG9vZ2xlWm9vbSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy56b29tU2VydmljZS50byhuZXcgT3B0aW9uc1pvb20oZXZlbnQueCwgZXZlbnQueSwgMTApKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy56b29tU2VydmljZSA9IG5ldyBab29tU2VydmljZSgpO1xuICAgIH1cbiAgICBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZVpvb21PcHRpb25zO1xuICAgIH1cbiAgICB0b29nbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlWm9vbU9wdGlvbnMgPSAhdGhpcy5lbmFibGVab29tT3B0aW9ucztcbiAgICB9XG4gICAgYWN0aXZlWm9vbShzY3JlZW5SZWFkZXJBY3RpdmUsIGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVab29tT3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2NyZWVuUmVhZGVyQWN0aXZlICYmIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgIENzc0NsYXNzZXMuYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbENsaWNrRXZlbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbENsaWNrRXZlbnQoYm9keSkge1xuICAgICAgICBpZiAoIXRoaXMuem9vbVN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5zaG93Qm94TWVzc2FnZShib2R5LCB0aGlzLmFjdGl2ZV9tZXNzYWdlLCAhdGhpcy56b29tU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JveE1lc3NhZ2UoYm9keSwgdGhpcy5kZWFjdGl2ZV9tZXNzYWdlLCAhdGhpcy56b29tU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSAhdGhpcy56b29tU3RhdHVzO1xuICAgIH1cbiAgICBzaG93Qm94TWVzc2FnZShib2R5LCBtZXNzYWdlLCBzdGF0dXMpIHtcbiAgICAgICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBtZXNzYWdlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6b29tX21lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInpvb20tc3RhdHVzXCIpO1xuICAgICAgICAgICAgem9vbV9tZXNzYWdlID09PSBudWxsIHx8IHpvb21fbWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbV9tZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgc3RhdHVzID8gYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9vZ2xlWm9vbSkgOiBib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvb2dsZVpvb20pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uLy4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuZXhwb3J0IGNsYXNzIENzc0V5ZWVhc3Npc3RDbGFzc2VzIHtcbiAgICBzdGF0aWMgbWFpbk1lc3NhZ2UoZGl2KSB7XG4gICAgICAgIGRpdi5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICBkaXYuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuYWxpZ25Db250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5qdXN0aWZ5SXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgZGl2LnN0eWxlLnpJbmRleCA9ICc5OTknO1xuICAgICAgICBkaXYuc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG4gICAgc3RhdGljIG1lc3NhZ2VDb250ZW50KGRpdikge1xuICAgICAgICBkaXYuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5mbGV4ID0gJzEnO1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGl2LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAncm93JztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmp1c3RpZnlJdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInO1xuICAgICAgICByZXR1cm4gZGl2O1xuICAgIH1cbiAgICBzdGF0aWMgY2xvc2VCdXR0b20oYnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kID0gJ25vbmUnO1xuICAgICAgICBidXR0b24uc3R5bGUuYm9yZGVyID0gJ25vbmUnO1xuICAgICAgICBidXR0b24uc3R5bGUucGFkZGluZyA9ICcwJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLm1hcmdpbiA9ICcwJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLndpZHRoID0gJzUwcHgnO1xuICAgICAgICBidXR0b24uc3R5bGUuaGVpZ2h0ID0gJzUwcHgnO1xuICAgICAgICBidXR0b24uc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZseU1lbnVTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmx5X21lbnUgPSBgXG4gICAgICAgIC5mbHlfbWVudSB7XG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgIHJpZ2h0OiA3MHB4O1xuICAgICAgICAgIHdpZHRoOiA3MnB4O1xuICAgICAgICAgIGhlaWdodDogNzJweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKX07XG4gICAgICAgICAgY29sb3I6ICR7R2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCl9O1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcbiAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmx5X21lbnUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHN2Z0Nsb3NlQnV0dG9tTWVudShjb2xvcikge1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiMTdcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCIxN1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgMTcgMTdcIik7XG4gICAgICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInBhdGhcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0zLjA1MzUgMEwwIDMuMDUzNUwxLjU1OTI0IDQuNjEyNzRMNS40MTQwMSA4LjUzMjQ4TDEuNTU5MjQgMTIuMzg3M0wwIDEzLjg4MTVMMy4wNTM1IDE3TDQuNjEyNzQgMTUuNDQwOEw4LjUzMjQ4IDExLjUyMUwxMi4zODczIDE1LjQ0MDhMMTMuODgxNSAxN0wxNyAxMy44ODE1TDE1LjQ0MDggMTIuMzg3M0wxMS41MjEgOC41MzI0OEwxNS40NDA4IDQuNjEyNzRMMTcgMy4wNTM1TDEzLjg4MTUgMEwxMi4zODczIDEuNTU5MjRMOC41MzI0OCA1LjQxNDAxTDQuNjEyNzQgMS41NTkyNEwzLjA1MzUgMFpcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBjb2xvcik7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG4gICAgc3RhdGljIHN2Z0V5ZWUoKSB7XG4gICAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCIzNFwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjI2XCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCAzNCAyNlwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJub25lXCIpO1xuICAgICAgICBjb25zdCBwYXRoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aDEuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0xNy4zMjA4IDAuMDAzMzAyNzlDMjEuMTU5NyAwLjEwOTg2NiAyNC42NDQgMS4zODg2MyAyNy43NTExIDMuOTE0ODJDMzAuNTQzIDYuMTg0IDMyLjU5MTkgOS4xMTc2MyAzMy45MzE2IDEyLjY2NTZDMzQuMDE2IDEyLjg5MTIgMzQuMDI3MyAxMy4wODU2IDMzLjkzNzIgMTMuMzE3NUMzMi4xMzA0IDE4LjA2MjcgMjkuMTYzOSAyMS42MTA3IDI1LjAzMjMgMjMuOTIzN0MyMy4xNTIzIDI0Ljk3NjggMjEuMTQ4NCAyNS42MDk5IDE5LjA0ODggMjUuODY2OUMxNS41NTg5IDI2LjI5OTUgMTIuMjMyMyAyNS42Nzg5IDkuMDc0NDggMjMuOTg2NEM2LjE4Njg3IDIyLjQzODEgMy44MjgzNyAyMC4xODE0IDEuOTg3NzIgMTcuMjU0MUMxLjE5OTY4IDE2LjAwMDQgMC41NDExMDMgMTQuNjcxNSAwLjA0MDEzMzUgMTMuMjQ4NUMtMC4wMTA1MjY0IDEzLjEwNDQgLTAuMDE2MTU1MyAxMi44OTc1IDAuMDQwMTMzNSAxMi43NTMzQzIuMjAxNjIgNy4wNjc4NSA1Ljg4ODU0IDMuMTY4ODcgMTEuMTAwOSAxLjA5NDAxQzEyLjk0NzEgMC4zNTQzMzYgMTQuOTQ1NCAtMC4wNDA1NzY0IDE3LjMyMDggMC4wMDMzMDI3OVpcIik7XG4gICAgICAgIHBhdGgxLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ3aGl0ZVwiKTtcbiAgICAgICAgY29uc3QgY2lyY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJjaXJjbGVcIik7XG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCBcIjE3LjVcIik7XG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeVwiLCBcIjEzLjVcIik7XG4gICAgICAgIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJyXCIsIFwiNy41XCIpO1xuICAgICAgICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMyODQwNURcIik7XG4gICAgICAgIGNvbnN0IHBhdGgyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICBwYXRoMi5zZXRBdHRyaWJ1dGUoXCJmaWxsLXJ1bGVcIiwgXCJldmVub2RkXCIpO1xuICAgICAgICBwYXRoMi5zZXRBdHRyaWJ1dGUoXCJjbGlwLXJ1bGVcIiwgXCJldmVub2RkXCIpO1xuICAgICAgICBwYXRoMi5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTE3LjAzNzcgNi4wMjE4MUMxNy4yMjQ3IDYuMDA3MzYgMTcuNDEzNyA2IDE3LjYwNDQgNkMyMS42MTE3IDYgMjQuODYwMyA5LjI0ODU0IDI0Ljg2MDMgMTMuMjU1OEMyNC44NjAzIDEzLjUwNjkgMjQuODQ3NSAxMy43NTUgMjQuODIyNiAxMy45OTk2QzI0LjYzNTYgMTQuMDE0IDI0LjQ0NjYgMTQuMDIxNCAyNC4yNTU4IDE0LjAyMTRDMjAuMjQ4NSAxNC4wMjE0IDE3IDEwLjc3MjkgMTcgNi43NjU1OEMxNyA2LjUxNDQ3IDE3LjAxMjggNi4yNjYzNSAxNy4wMzc3IDYuMDIxODFaXCIpO1xuICAgICAgICBwYXRoMi5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwiIzUwNkY5NVwiKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgxKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKGNpcmNsZSk7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoMik7XG4gICAgICAgIHJldHVybiBzdmc7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdIdW1hbihjb2xvciwgd2lkdGggPSAnMzQnLCBoZWlnaHQgPSAnMzgnKSB7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgLy8gRXN0YWJsZWNlIGxvcyBhdHJpYnV0b3MgZGVsIGVsZW1lbnRvIFNWR1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoKTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDM0IDM4XCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcInhtbG5zXCIsIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIik7XG4gICAgICAgIC8vIENyZWEgdW4gZWxlbWVudG8gZGUgcnV0YSBkZW50cm8gZGVsIFNWR1xuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0zMy41IDEzLjVIMjIuNVYzNy4zMzMzSDE4LjgzMzNWMjYuMzMzM0gxNS4xNjY3VjM3LjMzMzNIMTEuNVYxMy41SDAuNVY5LjgzMzMySDMzLjVNMTcgMC42NjY2NTZDMTcuOTcyNSAwLjY2NjY1NiAxOC45MDUxIDEuMDUyOTYgMTkuNTkyNyAxLjc0MDZDMjAuMjgwNCAyLjQyODIzIDIwLjY2NjcgMy4zNjA4NiAyMC42NjY3IDQuMzMzMzJDMjAuNjY2NyA1LjMwNTc4IDIwLjI4MDQgNi4yMzg0MSAxOS41OTI3IDYuOTI2MDVDMTguOTA1MSA3LjYxMzY4IDE3Ljk3MjUgNy45OTk5OSAxNyA3Ljk5OTk5QzE2LjAyNzUgNy45OTk5OSAxNS4wOTQ5IDcuNjEzNjggMTQuNDA3MyA2LjkyNjA1QzEzLjcxOTYgNi4yMzg0MSAxMy4zMzMzIDUuMzA1NzggMTMuMzMzMyA0LjMzMzMyQzEzLjMzMzMgMi4yOTgzMiAxNC45NjUgMC42NjY2NTYgMTcgMC42NjY2NTZaXCIpO1xuICAgICAgICBwYXRoRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIGNvbG9yKTtcbiAgICAgICAgLy8gQWdyZWdhIGxhIHJ1dGEgYWwgZWxlbWVudG8gU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIHN2Z0Nsb3NlQnV0dG9tKGNvbG9yKSB7XG4gICAgICAgIC8vIENyZWFyIHVuIGVsZW1lbnRvIFNWR1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBjb2xvcik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCAzMiAzMlwiKTtcbiAgICAgICAgLy8gQ3JlYXIgdW4gZWxlbWVudG8gcGF0aFxuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk03LjAwNCAyMy4wODdsNy4wOC03LjA4MS03LjA3LTcuMDcxTDguOTI5IDcuMDJsNy4wNjcgNy4wNjlMMjMuMDg0IDdsMS45MTIgMS45MTMtNy4wODkgNy4wOTMgNy4wNzUgNy4wNzctMS45MTIgMS45MTMtNy4wNzQtNy4wNzNMOC45MTcgMjV6XCIpO1xuICAgICAgICAvLyBBZ3JlZ2FyIGVsIGVsZW1lbnRvIHBhdGggYWwgU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIGFkZEJ1ZmZlck9wdGlvbnNDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgYnVmZmVyX29wdGlvbnMgPSBgXG4gICAgICAgIC5idWZmZXJfb3B0aW9ucyB7XG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICB0b3A6IDEzMHB4O1xuICAgICAgICAgICAgcmlnaHQ6IDcwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvOyBcbiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOyBcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke0dsb2JhbFN0eWxlLmdldEJhY2tncm91bmRDb2xvcigpfTtcbiAgICAgICAgICAgIGNvbG9yOiAke0dsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpfTtcbiAgICAgICAgfVxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShidWZmZXJfb3B0aW9ucywgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9nZ2xlU3dpdGNoQ2xhc3NlcygpIHtcbiAgICAgICAgdGhpcy50b29nbGVTd2l0Y2hDbGFzcygpO1xuICAgICAgICB0aGlzLnRvZ2dsZVN3aXRjaENpcmNsZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZVN3aXRjaEFjdGl2ZSgpO1xuICAgICAgICB0aGlzLnRvZ2dsZVN3aXRjaEFuaW1hdGlvbigpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9vZ2xlU3dpdGNoQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2ggPSBgXG4gICAgICAgIC50b2dnbGUtc3dpdGNoIHtcbiAgICAgICAgICAgIHdpZHRoOiA2MHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcywgdHJhbnNmb3JtIDAuM3M7XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUodG9nZ2xlX3N3aXRjaCwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9nZ2xlU3dpdGNoQ2lyY2xlKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCB0b2dnbGVfc3dpdGNoX2NpcmNsZSA9IGBcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2gtY2lyY2xlIHtcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcztcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoX2NpcmNsZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgdG9nZ2xlU3dpdGNoQWN0aXZlKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCB0b2dnbGVfc3dpdGNoX2FydGl2ZSA9IGBcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2guYWN0aXZlIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyZWNjNzE7XG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUodG9nZ2xlX3N3aXRjaF9hcnRpdmUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaEFuaW1hdGlvbigpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9hbmltYXRpb24gPSBgXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLmFjdGl2ZSAudG9nZ2xlLXN3aXRjaC1jaXJjbGUge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDMwcHgpO1xuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2hfYW5pbWF0aW9uLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBhZGRPcHRpb25GdW5jdGlvbnNDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3Qgb3B0aW9uX2Z1bmN0aW9ucyA9IGBcbiAgICAgICAgLm9wdGlvbl9tZW51X2V5ZWVhc3Npc3Qge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUob3B0aW9uX2Z1bmN0aW9ucywgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgb3ZlcmxheVN0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IG9wdGlvbl9mdW5jdGlvbnMgPSBgXG4gICAgICAgIC5vdmVybGF5LW1lbnUtdmlldyB7XG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShvcHRpb25fZnVuY3Rpb25zLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBvdmVybGF5T3B0aW9uc1N0eWxlQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IG9wdGlvbl9mdW5jdGlvbnMgPSBgXG4gICAgICAgIC5vcHRpb25zLW1lbnUtdmlldyB7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUob3B0aW9uX2Z1bmN0aW9ucywgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uLy4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuaW1wb3J0IHsgUG9zaXRpb25CdXR0b24gfSBmcm9tIFwiLi9vcHRpb24tY2FyZFwiO1xuZXhwb3J0IGNsYXNzIENhcmRCdXR0b24ge1xuICAgIGNvbnN0cnVjdG9yKGZ1bmN0aW9uYWxpdHlJZCwgdGV4dCwgcG9zaXRpb24sIGFjdGl2ZSA9IGZhbHNlLCB0b2dnbGVUb29sU3RhdHVzKSB7XG4gICAgICAgIHRoaXMuZnVuY3Rpb25hbGl0eUlkID0gZnVuY3Rpb25hbGl0eUlkO1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLnRvZ2dsZVRvb2xTdGF0dXMgPSB0b2dnbGVUb29sU3RhdHVzO1xuICAgICAgICB0aGlzLnRvZ2dsZU9wb3NpdmVCdXR0b24gPSBudWxsO1xuICAgICAgICB0aGlzLnRvZ2dsZVN0YXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSAhdGhpcy5hY3RpdmU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbmdlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Q3VycmVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnVuY3Rpb25hbGl0eUlkICsgJy1idXR0b24tZXllYXNzaXN0LScgKyB0aGlzLnRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Q3VycmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRDdXJyZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Q3VycmVudC5zdHlsZS5jb2xvciA9IEdsb2JhbFN0eWxlLmdldEJhY2tncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PSBQb3NpdGlvbkJ1dHRvbi5MRUZUKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wb3NpdmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mdW5jdGlvbmFsaXR5SWQgKyAnLWJ1dHRvbi1leWVhc3Npc3QtJyArICdObycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3Bvc2l2ZUVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3Bvc2l2ZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gR2xvYmFsU3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcG9zaXZlRWxlbWVudC5zdHlsZS5jb2xvciA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcG9zaXZlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZnVuY3Rpb25hbGl0eUlkICsgJy1idXR0b24tZXllYXNzaXN0LScgKyAnU2knKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wb3NpdmVFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wb3NpdmVFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IEdsb2JhbFN0eWxlLmdldEJhY2tncm91bmRDb2xvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3Bvc2l2ZUVsZW1lbnQuc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVRvb2xTdGF0dXModGhpcy5mdW5jdGlvbmFsaXR5SWQgKyAnLWNhcmQtb3B0aW9uLWV5ZWFzc2lzdCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gIXRoaXMuYWN0aXZlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvZ2dsZU9wb3NpdmVCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVPcG9zaXZlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmNyZWF0ZUJ1dHRvbSgpO1xuICAgIH1cbiAgICBjcmVhdGVCdXR0b20oKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBidXR0b20uaWQgPSB0aGlzLmZ1bmN0aW9uYWxpdHlJZCArICctYnV0dG9uLWV5ZWFzc2lzdC0nICsgdGhpcy50ZXh0O1xuICAgICAgICBidXR0b20uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNoYW5nZUJ1dHRvblN0YXRlKTtcbiAgICAgICAgYnV0dG9tLnN0eWxlLm1hcmdpblRvcCA9ICcyMHB4JztcbiAgICAgICAgYnV0dG9tLnN0eWxlLndpZHRoID0gJzEwNHB4JztcbiAgICAgICAgYnV0dG9tLnN0eWxlLmhlaWdodCA9ICc0OHB4JztcbiAgICAgICAgYnV0dG9tLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gUG9zaXRpb25CdXR0b24uTEVGVCkge1xuICAgICAgICAgICAgYnV0dG9tLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MHB4IDAgMCA1MHB4JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbS5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMCA1MHB4IDUwcHggMCc7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9tLnN0eWxlLmJvcmRlciA9IGAxcHggc29saWQgJHtHbG9iYWxTdHlsZS5nZXRGb3JlZ3JvdW5kQ29sb3IoKX1gO1xuICAgICAgICBidXR0b20uc3R5bGUucGFkZGluZyA9ICcxMHB4JztcbiAgICAgICAgYnV0dG9tLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5hbGlnbkNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgYnV0dG9tLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgYnV0dG9tLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIGJ1dHRvbS5zdHlsZS5qdXN0aWZ5SXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICAgICAgICBidXR0b20uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCk7XG4gICAgICAgICAgICBidXR0b20uc3R5bGUuY29sb3IgPSBHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKTtcbiAgICAgICAgICAgIGJ1dHRvbS5zdHlsZS5jb2xvciA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSB0aGlzLnRleHQ7XG4gICAgICAgIHNwYW4uc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBidXR0b20uYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgICAgIHJldHVybiBidXR0b207XG4gICAgfVxuICAgIGFzc2lnbkNoYW5nZU9wb3NpdmVTdGF0ZUJ1dHRvbih0b2dnbGVPcG9zaXZlKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlT3Bvc2l2ZUJ1dHRvbiA9IHRvZ2dsZU9wb3NpdmU7XG4gICAgfVxuICAgIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR2xvYmFsU3R5bGUgfSBmcm9tIFwiLi4vLi4vc3R5bGUvZ2xvYmFsLXN0eWxlXCI7XG5leHBvcnQgY2xhc3MgT3B0aW9uQ2FyZFN0eWxlcyB7XG4gICAgc3RhdGljIHpvb21JY29uU3ZnKCkge1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiNDRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCI0NFwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgNDQgNDRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTM0LjQ3MjMgMzEuNTA0N0MzNy41MTkxIDM0LjUxODMgNDAuNDk5NiAzNy41MzIgNDMuNDQ3MSA0MC40Nzk1QzQyLjQ4NjcgNDEuNDM5OSA0MS40OTMyIDQyLjQwMDMgNDAuNDAwMyA0My41MjYzQzQwLjMzNCA0My4zOTM4IDQwLjIzNDcgNDMuMTYyIDQwLjEwMjIgNDMuMDI5NUMzNy4zODY2IDQwLjMxMzkgMzQuNjcxIDM3LjU5ODMgMzEuOTU1NCAzNC44NDk1QzMxLjYyNDIgMzQuNTE4MyAzMS40MjU1IDM0LjQ1MjEgMzEuMDI4MSAzNC43NTAyQzIxLjQ5MDMgNDEuODcwNCA3Ljk3ODQgMzguNzI0MyAyLjU0NzE1IDI4LjEyNjdDLTIuMTIyNCAxOC45ODYzIDEuNDU0MjggNy42MjcwNiAxMC40OTUzIDIuNzU4ODFDMjIuMTUyNiAtMy41MDAzNyAzNi40MjYyIDMuNTg2NzQgMzguNDEzMiAxNi42NjgxQzM5LjIwODEgMjEuODY3NSAzNy45ODI3IDI2LjYwMzMgMzQuOTAyOCAzMC44NzU0QzM0Ljc3MDMgMzEuMDQxIDM0LjYzNzkgMzEuMjM5NyAzNC40MzkyIDMxLjUwNDdIMzQuNDcyM1pNMTcuNDUgMjEuNzAxOUMxNy40NSAyMi4wMzMxIDE3LjQ1IDIyLjI2NDkgMTcuNDUgMjIuNDk2N0MxNy40NSAyNC4xNTI2IDE3LjQ1IDI1LjgwODUgMTcuNDUgMjcuNDk3NUMxNy40NSAyNy44OTQ5IDE3LjU4MjQgMjguMDYwNSAxNy45Nzk4IDI4LjAyNzNDMTguNzA4NCAyOC4wMjczIDE5LjQwMzkgMjguMDI3MyAyMC4xMzI1IDI4LjAyNzNDMjAuNjYyMyAyOC4wMjczIDIxLjE5MjIgMjguMDI3MyAyMS43ODgzIDI4LjAyNzNWMjEuNzAxOUMyMi4wODY0IDIxLjcwMTkgMjIuMjg1MSAyMS43MDE5IDIyLjUxNjkgMjEuNzAxOUMyNC4xNzI4IDIxLjcwMTkgMjUuODYxOCAyMS43MDE5IDI3LjUxNzYgMjEuNzAxOUMyOC4wNDc1IDIxLjcwMTkgMjguMTggMjEuNTM2MyAyOC4xOCAyMS4wMDY1QzI4LjE0NjkgMjAuMDEyOSAyOC4xOCAxOC45ODYzIDI4LjE4IDE3Ljk1OTdDMjguMTggMTcuNDk2IDI4LjA4MDYgMTcuMzMwNCAyNy41ODM5IDE3LjM2MzZDMjUuODk0OSAxNy4zNjM2IDI0LjE3MjggMTcuMzYzNiAyMi40ODM4IDE3LjM2MzZDMjIuMjg1MSAxNy4zNjM2IDIyLjA1MzMgMTcuMzYzNiAyMS43ODgzIDE3LjM2MzZWMTEuMDA1QzIwLjQ5NjggMTEuMDA1IDE5LjI3MTQgMTEuMDA1IDE4LjA0NjEgMTEuMDA1QzE3LjY0ODcgMTEuMDA1IDE3LjQ4MzEgMTEuMTM3NSAxNy40ODMxIDExLjUzNDlDMTcuNDgzMSAxMy4wMjUyIDE3LjQ4MzEgMTQuNTE1NSAxNy40ODMxIDE2LjAwNTdDMTcuNDgzMSAxNi40MzYzIDE3LjQ4MzEgMTYuODY2OCAxNy40ODMxIDE3LjM2MzZIMTEuMTkwOFYyMS42Njg4SDE3LjQ4MzFMMTcuNDUgMjEuNzAxOVpcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMyNDNDNUFcIik7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG4gICAgc3RhdGljIGZpbHRlckljb25TdmcoKSB7XG4gICAgICAgIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgXCI0N1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjQ0XCIpO1xuICAgICAgICBzdmcuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCA0NyA0NFwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJub25lXCIpO1xuICAgICAgICBjb25zdCBwYXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICBwYXRoLnNldEF0dHJpYnV0ZShcImRcIiwgXCJNMjYuNDQ0MiA0Mi4wMDI5QzI5LjY1NjYgMzguNzkwNSAzMS4zNzg3IDM0Ljk4MiAzMS43NDMgMzAuNTQ0M0MzMS43NDMgMzAuMjEzMSAzMi4wMDc5IDI5Ljc0OTUgMzIuMzA2IDI5LjU4MzlDMzYuNTQ1IDI2LjkzNDUgMzkuMjkzOCAyMy4xOTIyIDQwLjQ1MjkgMTguMzI0QzQwLjQ1MjkgMTguMjU3NyA0MC41NTIyIDE4LjIyNDYgNDAuNjE4NSAxOC4xNTg0QzQ1LjE4ODcgMjAuNjc1MyA0OC44MzE2IDI4LjY4OTcgNDUuMDIzMSAzNS45MDkzQzQwLjkxNjUgNDMuNjkxOSAzMS44NzU1IDQ1LjAxNjUgMjYuNDQ0MiA0MS45Njk4VjQyLjAwMjlaTTEuODcxMTYgMzYuMDc0OUM1Ljk3NzcxIDQzLjcyNSAxNS4wNTE5IDQ1LjA0OTcgMjAuMjg0NCA0Mi4wMzZDMjAuMTg1MSA0MS45MDM1IDIwLjExODggNDEuNzcxIDIwLjAxOTUgNDEuNjM4NkMxNy4wMzg5IDM4LjUyNTUgMTUuMzgzIDM0LjgxNjQgMTUuMDg1IDMwLjUxMTJDMTUuMDg1IDMwLjE4IDE0Ljc4NjkgMjkuNzQ5NSAxNC40ODg5IDI5LjU1MDdDMTAuMTE3NCAyNi44NjgyIDcuNDM0ODcgMjMuMDI2NiA2LjI0MjY1IDE4LjA5MjFDMS42MDYyMiAyMC41NzU5IC0yLjEwMjkzIDI4LjcyMjggMS44MzgwNCAzNi4wNDE3TDEuODcxMTYgMzYuMDc0OVpNMjEuOTQwMyAwLjUzOTk0OEMxNS43NDczIDEuMDY5ODMgOS4zMjI1NiA3LjI2Mjc3IDkuNjg2ODUgMTIuNDYyMkM5Ljc1MzA5IDEyLjQ2MjIgOS44NTI0NCAxMi41Mjg0IDkuOTE4NjcgMTIuNTI4NEMxMC4xNTA1IDEyLjUyODQgMTAuNDE1NCAxMi40NjIyIDEwLjY0NzMgMTIuNDI5MUMxNC4yNTcgMTEuNjM0MyAxNy44MzM3IDExLjg5OTIgMjEuMTQ1NSAxMy41MjJDMjIuODAxMyAxNC4zMTY4IDI0LjA1OTggMTQuMzE2OCAyNS43MTU3IDEzLjUyMkMyOS4zNTg2IDExLjc2NjcgMzMuMjMzMyAxMS42MzQzIDM3LjI3MzYgMTIuNjk0QzM2Ljg3NjIgNy4xNjM0MiAzMS4zNDU2IC0wLjE4ODYzMyAyMS45NzM0IDAuNjA2MTg0TDIxLjk0MDMgMC41Mzk5NDhaTTM3LjM3MyAxNi4yMzc2QzMzLjU5NzYgMTQuOTc5MSAzMC4wMjA5IDE1LjExMTYgMjYuMzc4IDE2LjgzMzdDMjkuMDI3NCAxOS40NSAzMC42MTcgMjIuNDMwNSAzMS40NzgxIDI2LjA0MDNDMzQuODg5MiAyMy40OTAzIDM2LjgxIDIwLjMxMSAzNy4zNzMgMTYuMjA0NVYxNi4yMzc2Wk0yMC4wODU3IDE2LjY2ODFDMTkuODg3IDE2LjUzNTYgMTkuNjU1MiAxNi40MzYzIDE5LjQyMzQgMTYuMzdDMTYuNTA5IDE1LjI0NDEgMTMuNTk0NyAxNS4xNDQ3IDEwLjU4MSAxNS44NzMzQzkuNTg3NSAxNi4xMDUxIDkuNDg4MTUgMTYuNjM1IDkuNjg2ODUgMTcuNDYyOUMxMC4yODMgMTkuOTc5OCAxMS4zNzU4IDIyLjE5ODcgMTMuMTY0MiAyNC4wNTMzQzEzLjgyNjUgMjQuNzE1NiAxNC41NTUxIDI1LjMxMTcgMTUuNDE2MiAyNi4xMDY1QzE2LjI3NzIgMjIuNDMwNSAxNy44NjY4IDE5LjQ4MzEgMjAuMzUwNiAxNi45NjYyQzIwLjI1MTMgMTYuODMzNyAyMC4yMTgyIDE2LjcwMTIgMjAuMTE4OCAxNi42NjgxSDIwLjA4NTdaTTE4LjcyNzkgMjcuMDAwN0MxOC42NjE3IDI3LjI2NTYgMTkuMTI1MyAyNy44NjE4IDE5LjQyMzQgMjcuOTYxMUMyMi4wMzk2IDI4Ljc4OSAyNC43MjIxIDI4Ljc1NTkgMjcuMzcxNSAyOC4wMjc0QzI3Ljk2NzYgMjcuODYxOCAyOC4yNjU3IDI3LjU5NjggMjguMTMzMiAyNi45MDE0QzI3LjUwNCAyMy42ODkgMjUuOTgwNiAyMC45NzM0IDIzLjQ2MzcgMTguNzg3NkMyMC44MTQzIDIwLjk3MzQgMTkuMzU3MSAyMy43NTUyIDE4LjcyNzkgMjcuMDAwN1pNMjguMTY2MyAzMS4zMzkxQzI0LjkyMDggMzIuMjAwMSAyMS44NDA5IDMyLjE2NyAxOC41OTU0IDMxLjMzOTFDMTkuMTkxNSAzNC45NDg5IDIwLjcxNDkgMzcuNzk3IDIzLjQzMDYgNDAuMTQ4M0MyNi4wNDY4IDM3LjczMDcgMjcuNzAyNyAzNC45ODIgMjguMTY2MyAzMS4zMzkxWlwiKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwiIzI0M0M1QVwiKTtcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICByZXR1cm4gc3ZnO1xuICAgIH1cbiAgICBzdGF0aWMgdm9pY2VJY29uU3ZnKCkge1xuICAgICAgICBjb25zdCBzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIFwiNTFcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgXCI0NFwiKTtcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgXCIwIDAgNTEgNDRcIik7XG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsIFwiTTAuMzU0MTQ2IDQzLjg2MzlDLTAuOTcwNTQ4IDM1Ljg0OTUgNC41OTMxNyAyOS4wOTM2IDExLjYxNCAyOC4zMzE5QzE0LjU5NDYgMjguMDAwNyAxNy42NDE0IDI4LjA2NyAyMC42NTUxIDI4LjMzMTlDMjYuNTUgMjguODI4NyAzMS42ODMyIDM0LjI1OTkgMzIuMDQ3NSA0MC4xODc5QzMyLjExMzcgNDEuMzgwMSAzMi4wNDc1IDQyLjU3MjQgMzIuMDQ3NSA0My44NjM5SDAuMzU0MTQ2Wk0yNS40NTcxIDE2LjIxMDlDMjUuNDU3MSAxMS4wMTE1IDIxLjQ0OTkgNi45MzgwOCAxNi4yNTA1IDYuOTA0OTZDMTAuOTUxNyA2LjgzODczIDYuODc4MjYgMTAuODQ1OSA2Ljg0NTE1IDE2LjExMTZDNi44MTIwMyAyMS40MTA0IDEwLjc4NjEgMjUuNDgzOCAxNi4wODQ5IDI1LjQ4MzhDMjEuMzUwNSAyNS40ODM4IDI1LjQ1NzEgMjEuNDQzNSAyNS40NTcxIDE2LjIxMDlaTTQzLjk2OTcgMC44MTEzNzFDNDIuNzQ0NCAyLjAwMzYgNDEuNTUyMSAzLjE5NTgyIDQwLjMyNjggNC4zODgwNEM0My43MDQ4IDguMDMwOTUgNDUuNTU5MyAxMi4zNjkzIDQ1LjU1OTMgMTcuNDY5NEM0NS41NTkzIDIyLjU2OTUgNDMuNjcxNiAyNi44NzQ3IDQwLjI2MDYgMzAuNTE3NkM0MS40ODU5IDMxLjc0MyA0Mi42NDUgMzIuOTAyMSA0My44NzAzIDM0LjEyNzRDNTMuMTEwMSAyNS40MTc2IDUzLjE0MzIgOS40ODgxMiA0NC4wMDI4IDAuODExMzcxSDQzLjk2OTdaTTMyLjc0MjkgMTEuOTA1N0MzNS42OTA0IDE1LjgxMzUgMzUuNjkwNCAxOC44NjAzIDMyLjkwODUgMjMuMDMzMUMzNC4wMzQ1IDI0LjI5MTYgMzUuMTYwNSAyNS41NSAzNi4yNTM0IDI2Ljc3NTRDNDEuMzg2NSAyMi40NzAxIDQxLjM4NjYgMTIuOTMyMyAzNi40ODUyIDguNDk0NkMzNS4xNjA1IDkuNjg2ODIgMzMuOTM1MSAxMC44MTI4IDMyLjc0MjkgMTEuOTA1N1pcIik7XG4gICAgICAgIHBhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBcIiMyNDNDNUFcIik7XG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChwYXRoKTtcbiAgICAgICAgcmV0dXJuIHN2ZztcbiAgICB9XG4gICAgc3RhdGljIG9wdGlvbkNhcmRTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3Qgb3B0aW9uQ2FyZFN0eWxlID0gYFxuICAgICAgICAub3B0aW9uLWNhcmQtZXllZWFzc2lzdCB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtHbG9iYWxTdHlsZS5nZXRCYWNrZ3JvdW5kQ29sb3IoKX07XG4gICAgICAgICAgd2lkdGg6IDMwJTtcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICAgICAgY29sb3I6ICR7R2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCl9O1xuICAgICAgICAgIGZvbnQtc2l6ZTogJHtHbG9iYWxTdHlsZS5nZXRNaW5pbXVtRm9udFNpemUoKX07XG4gICAgICAgIH1cbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUob3B0aW9uQ2FyZFN0eWxlLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXllZWFzc2lzdCB9IGZyb20gXCIuL21haW4vZXllZWFzc2lzdFwiO1xuY29uc3QgZXllZWFzc2lzdCA9IG5ldyBFeWVlYXNzaXN0KHRydWUsIHRydWUsIHRydWUsICdha2xqbnYxM2J2aTJ2Zm8wYjBidycpO1xuZXllZWFzc2lzdC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uL2ZpbHRlci9maWx0ZXJcIjtcbmltcG9ydCB7IFNjcmVlblJlYWRlciB9IGZyb20gXCIuLi9zY3JlZW5fcmVhZGVyL3NjcmVlbl9yZWFkZXJcIjtcbmltcG9ydCB7IFpvb20gfSBmcm9tIFwiLi4vem9vbS96b29tXCI7XG5pbXBvcnQgeyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZXllZWFzc2lzdC1jbGFzc2VzXCI7XG5pbXBvcnQgeyBPcHRpb25DYXJkIH0gZnJvbSBcIi4vb3B0aW9uLWNhcmQvb3B0aW9uLWNhcmRcIjtcbmltcG9ydCB7IE9wdGlvbkNhcmRTdHlsZXMgfSBmcm9tIFwiLi9vcHRpb24tY2FyZC9vcHRpb24tY2FyZC1zdHlsZXNcIjtcbmltcG9ydCB7IEdsb2JhbFN0eWxlIH0gZnJvbSBcIi4uL3N0eWxlL2dsb2JhbC1zdHlsZVwiO1xuZXhwb3J0IGNsYXNzIEV5ZWVhc3Npc3Qge1xuICAgIGNvbnN0cnVjdG9yKHpvb21TdGF0dXMgPSBmYWxzZSwgZmlsdGVyU3RhdHVzID0gZmFsc2UsIHJlYWRlclN0YXR1cyA9IGZhbHNlLCB0b2tlbiA9ICcnKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgdGhpcy5hbmltYWNpb25FblByb2dyZXNvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZpZXdPcHRpb25zT24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93T3B0aW9uc1ZpZXcgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbHlfbWVudV9lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZseV9tZW51Jyk7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3T3B0aW9uc09uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyT3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5LW1lbnUtdmlldycpO1xuICAgICAgICAgICAgICAgIGJ1ZmZlck9wdGlvbnMgPT09IG51bGwgfHwgYnVmZmVyT3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyT3B0aW9ucy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmx5X21lbnVfZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LnN0eWxlLndpZHRoID0gJzcycHgnO1xuICAgICAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuICAgICAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gJ2NlbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwTmFtZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uc09uID0gIXRoaXMudmlld09wdGlvbnNPbjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmx5X21lbnVfZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGZseV9tZW51X2VsZW1lbnQuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgICAgICAgICAgIGZseV9tZW51X2VsZW1lbnQuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwcHgnO1xuICAgICAgICAgICAgICAgIGZseV9tZW51X2VsZW1lbnQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnc3BhY2UtZXZlbmx5JztcbiAgICAgICAgICAgICAgICB0aGlzLmFwcE5hbWUgPSB0aGlzLmNyZWF0ZUFwcE5hbWUoKTtcbiAgICAgICAgICAgICAgICBmbHlfbWVudV9lbGVtZW50LmFwcGVuZCh0aGlzLmFwcE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdvdmVybGF5LW1lbnUtdmlldyc7XG4gICAgICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdvdmVybGF5LW1lbnUtdmlldyc7XG4gICAgICAgICAgICBjb25zdCBkaXZPcHRpb25zRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2T3B0aW9uc0VsZW1lbnQuY2xhc3NOYW1lID0gJ29wdGlvbnMtbWVudS12aWV3JztcbiAgICAgICAgICAgIGRpdk9wdGlvbnNFbGVtZW50LmlkID0gJ29wdGlvbi1tZW51LWRpc3BsYXknO1xuICAgICAgICAgICAgZGl2T3B0aW9uc0VsZW1lbnQuYXBwZW5kKHRoaXMuY3JlYXRlQ2xvc2VCdXR0b20oKSk7XG4gICAgICAgICAgICBjb25zdCBkaXZGaWx0ZXJNZW51ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXZGaWx0ZXJNZW51LmlkID0gJ29wdGlvbi1maWx0ZXItZGlzcGxheSc7XG4gICAgICAgICAgICBkaXZGaWx0ZXJNZW51LnN0eWxlLndpZHRoID0gJzMwJSc7XG4gICAgICAgICAgICBkaXZFbGVtZW50LmFwcGVuZChkaXZPcHRpb25zRWxlbWVudCk7XG4gICAgICAgICAgICBkaXZFbGVtZW50LmFwcGVuZChkaXZGaWx0ZXJNZW51KTtcbiAgICAgICAgICAgIGNvbnN0IG9wY2lvbmVzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd6b29tJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBY3RpdmFyIHpvb20nLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0F0YWpvIGRlIHRlY2xhZG8gW0N0cmwgKyBCYWNrc3BhY2VdJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLlpvb21PYmplY3Quc3RhdHVzKCksXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ab29tT2JqZWN0LnRvb2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3pvb21TdGF0dXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLlpvb21PYmplY3Quc3RhdHVzKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogT3B0aW9uQ2FyZFN0eWxlcy56b29tSWNvblN2ZygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiAnZmlsdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBcGxpY2FyIGZpbHRyb3MgZGUgY29sb3InLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ0FwbGlxdWUgdW4gZmlsdHJvJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLkZpbHRlck9iamVjdC5zdGF0dXMoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiAoaWQgPSBcIlwiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkZpbHRlck9iamVjdC50b2dnbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zTGlzdCA9IHRoaXMuRmlsdGVyT2JqZWN0LnNob3dGaWx0ZXJPcHRpb25zTGlzdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbi1maWx0ZXItZGlzcGxheScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcHRpb24tbWVudS1kaXNwbGF5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uc0xpc3QgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9PT0gbnVsbCB8fCBjb250YWluZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb25zTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbl9jb250YWluZXIgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbl9jb250YWluZXIuc3R5bGUuYWxpZ25JdGVtcyA9ICdlbmQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICc3MCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25fY29udGFpbmVyICYmIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcwJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpbHRlclN0YXR1cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGljb246IE9wdGlvbkNhcmRTdHlsZXMuZmlsdGVySWNvblN2ZygpIH0sXG4gICAgICAgICAgICAgICAgeyBpZDogJ3ZvaWNlJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdMZWVyIGVuIHZveiBhbHRhJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdBdGFqbyBkZSB0ZWNsYWRvIFtDdHJsICsgU3BhY2VdJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLlNjcmVlblJlYWRlck9iamVjdC5zdGF0dXMoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlNjcmVlblJlYWRlck9iamVjdC50b2dnbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWFkZXJTdGF0dXMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLlNjcmVlblJlYWRlck9iamVjdC5zdGF0dXMoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBPcHRpb25DYXJkU3R5bGVzLnZvaWNlSWNvblN2ZygpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBvcGNpb25lcy5mb3JFYWNoKChvcGNpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gbmV3IE9wdGlvbkNhcmQob3BjaW9uLmlkLCBvcGNpb24udGl0bGUsIG9wY2lvbi5zdWJ0aXRsZSwgb3BjaW9uLmljb24sIG9wY2lvbi5zdGF0dXMsIG9wY2lvbi50b2dnbGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZXRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgZGl2T3B0aW9uc0VsZW1lbnQuYXBwZW5kQ2hpbGQoY2FyZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhZG8nLCBvcGNpb24uaWQsIG9wY2lvbi5zdGF0dXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnNMaXN0ID0gdGhpcy5GaWx0ZXJPYmplY3Quc2hvd0ZpbHRlck9wdGlvbnNMaXN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wdGlvbi1maWx0ZXItZGlzcGxheScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbl9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3B0aW9uLW1lbnUtZGlzcGxheScpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTGlzdCAhPSBcIlwiICYmIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPT09IG51bGwgfHwgY29udGFpbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250YWluZXIuYXBwZW5kQ2hpbGQob3B0aW9uc0xpc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uX2NvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uX2NvbnRhaW5lci5zdHlsZS5hbGlnbkl0ZW1zID0gJ2VuZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uX2NvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnNzAlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbl9jb250YWluZXIgJiYgY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25fY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmlld09wdGlvbnNPbiA9ICF0aGlzLnZpZXdPcHRpb25zT247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2VycmFyTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lbnNhamUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXllZWFzaXN0LWluaXRpYWwtbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgYW5pbWFjaW9uID0gbWVuc2FqZSA9PT0gbnVsbCB8fCBtZW5zYWplID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZW5zYWplLmFuaW1hdGUoW1xuICAgICAgICAgICAgICAgICAgICB7IG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTAwJSknIH1cbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2Utb3V0JyAvLyBUaXBvIGRlIGludGVycG9sYWNpw7NuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hY2lvbikge1xuICAgICAgICAgICAgICAgICAgICBhbmltYWNpb24ub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVuc2FqZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnNhamUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2luaXRNZXNzYWdlQ2xvc2UnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5pdE1lc3NhZ2VTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaW5pdE1lc3NhZ2VDbG9zZScpO1xuICAgICAgICBpZiAoaW5pdE1lc3NhZ2VTdGF0dXMgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRNZXNzYWdlQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLnRvZ2dsZVN3aXRjaENsYXNzZXMoKTtcbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMuYWRkQnVmZmVyT3B0aW9uc0NsYXNzKCk7XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLmFkZEZseU1lbnVTdHlsZSgpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5hZGRPcHRpb25GdW5jdGlvbnNDbGFzcygpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5vdmVybGF5U3R5bGVDbGFzcygpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5vdmVybGF5T3B0aW9uc1N0eWxlQ2xhc3MoKTtcbiAgICAgICAgdGhpcy56b29tU3RhdHVzID0gem9vbVN0YXR1cztcbiAgICAgICAgdGhpcy5maWx0ZXJTdGF0dXMgPSBmaWx0ZXJTdGF0dXM7XG4gICAgICAgIHRoaXMucmVhZGVyU3RhdHVzID0gcmVhZGVyU3RhdHVzO1xuICAgICAgICB0aGlzLmFwcE5hbWUgPSB0aGlzLmNyZWF0ZUFwcE5hbWUoKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRab29tU3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3pvb21TdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkWm9vbVN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSB6b29tIHN0YXR1cyBndWFyZGFkbycsIEpTT04ucGFyc2Uoc2F2ZWRab29tU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkWm9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWRGaWx0ZXJTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlsdGVyU3RhdHVzJyk7XG4gICAgICAgIGlmIChzYXZlZEZpbHRlclN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSBmaWx0ZXIgc3RhdHVzIGd1YXJkYWRvJywgSlNPTi5wYXJzZShzYXZlZEZpbHRlclN0YXR1cykpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkRmlsdGVyU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZFJlYWRlclN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWFkZXJTdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkUmVhZGVyU3RhdHVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF5IHJlYWRlciBzdGF0dXMgZ3VhcmRhZG8nLCBKU09OLnBhcnNlKHNhdmVkUmVhZGVyU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnJlYWRlclN0YXR1cyA9IEpTT04ucGFyc2Uoc2F2ZWRSZWFkZXJTdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuWm9vbU9iamVjdCA9IG5ldyBab29tKHRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0ID0gbmV3IEZpbHRlcih0aGlzLmZpbHRlclN0YXR1cyk7XG4gICAgICAgIHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0ID0gbmV3IFNjcmVlblJlYWRlcih0aGlzLnJlYWRlclN0YXR1cywgdGhpcy50b2tlbik7XG4gICAgfVxuICAgIGNyZWF0ZUFwcE5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGFwcE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGFwcE5hbWUudGV4dENvbnRlbnQgPSAnRXllQXNzaXN0JztcbiAgICAgICAgcmV0dXJuIGFwcE5hbWU7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNob3dJbml0TWVzc2FnZSgpO1xuICAgICAgICB0aGlzLnNob3dGbHlNZW51KCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLlpvb21PYmplY3QuYWN0aXZlWm9vbSh0aGlzLlNjcmVlblJlYWRlck9iamVjdC5lbmFibGUoKSwgZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5TY3JlZW5SZWFkZXJPYmplY3Qua2V5YmluZHNTY3JlZW5SZWFkZXIoZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlQ2xvc2VCdXR0b20oKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9tTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgY2xvc2VTcGFuQnV0dG9uTW9kYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNvbnN0IGNsb3NlQnV0dG9tID0gQ3NzRXllZWFzc2lzdENsYXNzZXMuc3ZnQ2xvc2VCdXR0b21NZW51KEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpKTtcbiAgICAgICAgY2xvc2VCdXR0b20uc3R5bGUud2lkdGggPSAnMjVweCc7XG4gICAgICAgIGNsb3NlQnV0dG9tLnN0eWxlLm1hcmdpblRvcCA9ICczcHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbS5zdHlsZS5oZWlnaHQgPSAnMTdweCc7XG4gICAgICAgIGNsb3NlU3BhbkJ1dHRvbk1vZGFsLnRleHRDb250ZW50ID0gJ0NlcnJhciAnO1xuICAgICAgICBjbG9zZVNwYW5CdXR0b25Nb2RhbC5zdHlsZS5jb2xvciA9IEdsb2JhbFN0eWxlLmdldEZvcmVncm91bmRDb2xvcigpO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLmFwcGVuZChjbG9zZVNwYW5CdXR0b25Nb2RhbCk7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuYXBwZW5kKGNsb3NlQnV0dG9tKTtcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5hbGlnbkl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUudG9wID0gJzIwcHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLnN0eWxlLnJpZ2h0ID0gJzEwMHB4JztcbiAgICAgICAgY2xvc2VCdXR0b21Nb2RhbC5zdHlsZS5wYWRkaW5nID0gJzEwcHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLnN0eWxlLmZvbnRTaXplID0gJzIycHgnO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIGNsb3NlQnV0dG9tTW9kYWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgICAgICBjbG9zZUJ1dHRvbU1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaG93T3B0aW9uc1ZpZXcpO1xuICAgICAgICByZXR1cm4gY2xvc2VCdXR0b21Nb2RhbDtcbiAgICB9XG4gICAgc2hvd0ZseU1lbnUoKSB7XG4gICAgICAgIGNvbnN0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdmbHlfbWVudSc7XG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZseV9tZW51JztcbiAgICAgICAgZGl2RWxlbWVudC5zdHlsZS5ib3R0b20gPSAnMTIwcHgnO1xuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKENzc0V5ZWVhc3Npc3RDbGFzc2VzLnN2Z0V5ZWUoKSk7XG4gICAgICAgIGRpdkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNob3dPcHRpb25zVmlldyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudCk7XG4gICAgfVxuICAgIHNob3dJbml0TWVzc2FnZSgpIHtcbiAgICAgICAgbGV0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudCA9IENzc0V5ZWVhc3Npc3RDbGFzc2VzLm1haW5NZXNzYWdlKGRpdkVsZW1lbnQpO1xuICAgICAgICBkaXZFbGVtZW50LmlkID0gJ2V5ZWVhc2lzdC1pbml0aWFsLW1lc3NhZ2UnO1xuICAgICAgICBpZiAodGhpcy5pbml0TWVzc2FnZUNsb3NlKSB7XG4gICAgICAgICAgICBkaXZFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpdkVsZW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lciA9IENzc0V5ZWVhc3Npc3RDbGFzc2VzLm1lc3NhZ2VDb250ZW50KGRpdkVsZW1lbnRDb250YWluZXIpO1xuICAgICAgICBsZXQgc3BhbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHNwYW5FbGVtZW50LnRleHRDb250ZW50ID0gJ0VzdGEgcMOhZ2luYSBjdWVudGEgY29uIGhlcnJhbWllbnRhcyBkZSBhY2Nlc2liaWxpZGFkLiBQYXJhIGFjdGl2YXIgeS9vIGRlc2FjdGl2YXIgZXN0YXMgaGVycmFtaWVudGFzLCBwcmVzaW9uYSBDdHJsICsgU3BhY2UgbyBoYXogY2xpYyBlbiBlbCBib3TDs24gY29uIGVsIGljb25vIGRlIHVuYSBwZXJzb25hIHBvc2ljaW9uYWRvIGVuIGxhIHBhcnRlIHN1cGVyaW9yIGRlcmVjaGEgZGUgbGEgcGFudGFsbGEuJztcbiAgICAgICAgc3BhbkVsZW1lbnQuc3R5bGUucGFkZGluZyA9ICcxNXB4JztcbiAgICAgICAgbGV0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uRWxlbWVudCA9IENzc0V5ZWVhc3Npc3RDbGFzc2VzLmNsb3NlQnV0dG9tKGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICBidXR0b25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jZXJyYXJNb2RhbCk7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoQ3NzRXllZWFzc2lzdENsYXNzZXMuc3ZnQ2xvc2VCdXR0b20oR2xvYmFsU3R5bGUuZ2V0Rm9yZWdyb3VuZENvbG9yKCkpKTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFuRWxlbWVudCk7XG4gICAgICAgIC8vZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdIdW1hbignIzAwNjQwMCcsICcyMCcsICcyMCcpKVxuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKGRpdkVsZW1lbnRDb250YWluZXIpO1xuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbkVsZW1lbnQpO1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShkaXZFbGVtZW50LCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJHbG9iYWxTdHlsZSIsImdldEJhY2tncm91bmRDb2xvciIsImdldEZvcmVncm91bmRDb2xvciIsImdldE1pbmltdW1Gb250U2l6ZSIsIkZpbHRlclNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJoYXNJbnNlcnRlZEFjY2VzcyIsImFjdGl2ZV9maWx0ZXIiLCJmaWx0cm9fYXBsaWNhZG8iLCJjb2xvckJsaW5kbmVzc0NsYXNzZXMiLCJ2aXNpb25DbGFzc2VzIiwiY3NzRmlsdGVyIiwic3ZnRmlsdGVyVGVtcGxhdGUiLCJnZXRBY3RpdmVGaWx0ZXIiLCJhcGxpY2FyRmlsdHJvIiwiZmlsdHJvIiwicmVtb3ZlVGVzdHMiLCJ0b2dnbGVUZXN0IiwiY29uc29sZSIsImVycm9yIiwidGVzdFR5cGUiLCJ0ZXN0Q2xhc3MiLCJpbnNlcnRGaWxlcyIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3ZnIiwiY3NzIiwiYm9keSIsImluc2VydEFkamFjZW50SFRNTCIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJDc3NGaWx0ZXJDbGFzc2VzIiwiYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcyIsInN0eWxlU2hlZXQiLCJzdHlsZVNoZWV0cyIsImZpbHRlcl9idWZmZXIiLCJpbnNlcnRSdWxlIiwiY3NzUnVsZXMiLCJhZGRGaWx0ZXJPcHRpb25zU3R5bGVDbGFzcyIsInJhZGlvQnV0dG9tQ3NzIiwiYWRkRmlsdGVyU3R5bGVDbGFzcyIsIkZpbHRlciIsImVuYWJsZUZpbHRlciIsImZpbHRlclZpZXdPbiIsImZpbHRlck9wdGlvbnNNYXAiLCJNYXAiLCJzdGFydEZpbHRlciIsImV2ZW50IiwicmFkaW9JZCIsInRhcmdldCIsImlkIiwicmVwbGFjZSIsImNoYW5nZUFjdGl2ZUlucHV0cyIsInNob3dGaWx0ZXJPcHRpb25zTGlzdCIsImZpbHRlcl9idWZmZXJfaW5zdGFuY2UiLCJnZXRFbGVtZW50QnlJZCIsImNsZWFyIiwiYnVmZmVyTGlzdERpdkVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYnVmZmVyTGlzdENvbnRhaW5lciIsInN0eWxlIiwicGFkZGluZyIsImRlc2NyaXB0aW9uIiwidGV4dENvbnRlbnQiLCJtYXJnaW5Cb3R0b20iLCJhcHBlbmRDaGlsZCIsIm5hbWUiLCJmb3JFYWNoIiwiZmlsdGVyIiwiYnVpbGRGaWx0ZXJPcHRpb24iLCJkaXZpZGVyIiwiYm9yZGVyIiwibWFyZ2luIiwiY29sb3JDb250YWluZXIiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImZsZXhXcmFwIiwiYWxpZ25Db250ZW50IiwiYWxpZ25JdGVtcyIsImp1c3RpZnlJdGVtcyIsImp1c3RpZnlDb250ZW50IiwiYmFja2dyb3VuZCIsImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzIiwiYm9yZGVyQm90dG9tTGVmdFJhZGl1cyIsImNvbG9yIiwiY29sb3JCb3giLCJ3aWR0aCIsImhlaWdodCIsImJhY2tncm91bmRDb2xvciIsImZpbHRlclNlcnZpY2UiLCJzdGF0dXMiLCJ0b2dnbGVTdGF0dXMiLCJzaG93RmlsdGVyT3B0aW9ucyIsImltYWdlIiwic3JjIiwiYm9yZGVyUmFkaXVzIiwiZGl2RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJmaWx0ZXJPcHRpb24iLCJvcHRpb25EaXZFbGVtZW50IiwicmFkaW9Db250YWluZXIiLCJyYWRpb0J1dHRvbiIsInR5cGUiLCJhcHBlYXJhbmNlIiwicG9zaXRpb24iLCJwbGFjZUNvbnRlbnQiLCJzZXQiLCJvcHRpb25UZXh0IiwibWFyZ2luTGVmdCIsImFwcGVuZCIsInNlbGVjdGVkX2lucHV0IiwibG9nIiwiY3VycmVudF9lbGVtZW50IiwiZ2V0IiwiY2hlY2tlZCIsImNsYXZlIiwidmFsb3IiLCJWaWRlb1Byb2Nlc29yIiwiZm91bmRWaWRlbyIsInRhbGsiLCJvblBsYXllclN0YXRlQ2hhbmdlIiwiZGF0YSIsIllUIiwiUGxheWVyU3RhdGUiLCJQQVVTRUQiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWwiLCJFTkRFRCIsIlBMQVlJTkciLCJzZXRJbnRlcnZhbCIsIl9hIiwiX2IiLCJfYyIsImN1cnJlbnRUaW1lIiwicGxheWVyIiwiZ2V0Q3VycmVudFRpbWUiLCJ0aW1lIiwidG9GaXhlZCIsInNjcmlwdCIsInR1cm5PZmYiLCJzdGFydEF1ZGlvRGVzY3JpcHRpb24iLCJzaGlmdEtleSIsImtleSIsInRvTG93ZXJDYXNlIiwiZ2V0UGxheWVyU3RhdGUiLCJwYXVzZVZpZGVvIiwicGxheVZpZGVvIiwiY3JlYXRlUGxheWVyIiwibm9kZSIsImlmcmFtZSIsImdldFNjcmlwdCIsInF1ZXN0aW9uTWFya0luZGV4IiwiaW5kZXhPZiIsInN1YnN0cmluZyIsIlBsYXllciIsImV2ZW50cyIsInVybCIsIm15TWFwIiwiUG9zaXRpb25CdXR0b24iLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiU2NyZWVuUmVhZGVyIiwidXNlU2NyZWVuUmVhZGVyIiwidG9rZW4iLCJzeW50aCIsIndpbmRvdyIsInNwZWVjaFN5bnRoZXNpcyIsInNjcmVlblJlYWRlclN0YXR1cyIsInNlbGVjdGVkQXJ0aWNsZSIsInNlbGVjdGVkTGluayIsImFydGljbGVJbmRleCIsImxpbmtJbmRleCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ2aWRlb1Byb2Nlc29yIiwidGFncyIsInRleHQiLCJjYW5jZWwiLCJzcGVhayIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsImNhbmNlbFRhbGsiLCJhYm9ydCIsInRhZyIsImZpcnN0U2NyaXB0VGFnIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiZW5hYmxlIiwic2F5V2VsY29tZSIsInNheUdvb2RiYXkiLCJrZXliaW5kc1NjcmVlblJlYWRlciIsImNhbmNlbFJlYWRlciIsInJlUmVhZCIsImFjdGl2ZVNjcmVlblJlYWRlciIsIm1vdmVCZXR3ZWVuQ29udGVudCIsIm1vdmVCZXR3ZWVuTGlua3MiLCJnZXRJbWFnZSIsImZldGNoIiwiZ2V0RGVzY3JpcHRpb24iLCJibG9iIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsIm9wdGlvbnMiLCJtZXRob2QiLCJoZWFkZXJzIiwic2lnbmFsIiwicmVzcG9uc2UiLCJjYXRjaCIsInVuZGVmaW5lZCIsImpzb24iLCJtZXNzYWdlIiwicmVhZENoaWxkcyIsImFydGljbGUiLCJub2RlTmFtZSIsImltZyIsImFsdCIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsInRyaW0iLCJjaGlsZCIsIkFycmF5IiwiZnJvbSIsImNoaWxkTm9kZXMiLCJjdHJsS2V5Iiwic2hpZnQiLCJwdXNoIiwicG9wIiwidW5zaGlmdCIsImNvbnZlcnRUb0h0bWxFbGVtZW50c0FycmF5IiwiY2xpY2siLCJsaW5rcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJ0YWdOYW1lIiwiZm9jdXMiLCJDc3NDbGFzc2VzIiwiYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MiLCJjc3NSdWxlIiwiWm9vbVNlcnZpY2UiLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwibGV2ZWwiLCJtb3VzZVgiLCJtb3VzZVkiLCJwYW5FbmdhZ2VUaW1lb3V0IiwicGFuVXBkYXRlSW50ZXJ2YWwiLCJjYWxsYmFja1RpbWVvdXQiLCJzdXBwb3J0c1RyYW5zZm9ybXMiLCJrZXl1cEV2ZW50Iiwia2V5Q29kZSIsIm91dCIsIm1vdXNlTW92ZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJ0cmFuc2l0aW9uIiwibWFnbmlmeSIsInJlY3QiLCJzY2FsZSIsInNjcm9sbE9mZnNldCIsImdldFNjcm9sbE9mZnNldCIsIngiLCJpbm5lcldpZHRoIiwieSIsImlubmVySGVpZ2h0IiwidHJhbnNmb3JtIiwib3JpZ2luIiwidHJhbnNmb3JtT3JpZ2luIiwibGVmdCIsInRvcCIsInBhbiIsInJhbmdlWCIsInJhbmdlWSIsInNjcm9sbCIsInNjcm9sbFgiLCJwYWdlWE9mZnNldCIsInNjcm9sbFkiLCJwYWdlWU9mZnNldCIsInRvIiwiZWxlbWVudCIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzZXRUaW1lb3V0IiwiY2FsY3VsYXRlUGFuVXBkYXRlSW50ZXJ2YWwiLCJjYWxsYmFjayIsImNsZWFyVGltZW91dCIsIk9wdGlvbnNab29tIiwiWm9vbSIsImVuYWJsZVpvb21PcHRpb25zIiwiem9vbVN0YXR1cyIsImFjdGl2ZV9tZXNzYWdlIiwiZGVhY3RpdmVfbWVzc2FnZSIsInRvb2dsZVpvb20iLCJ6b29tU2VydmljZSIsInRvb2dsZVN0YXR1cyIsImFjdGl2ZVpvb20iLCJzY3JlZW5SZWFkZXJBY3RpdmUiLCJpbml0aWFsQ2xpY2tFdmVudCIsInNob3dCb3hNZXNzYWdlIiwiem9vbV9tZXNzYWdlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkNzc0V5ZWVhc3Npc3RDbGFzc2VzIiwibWFpbk1lc3NhZ2UiLCJkaXYiLCJ6SW5kZXgiLCJtZXNzYWdlQ29udGVudCIsInRleHRBbGlnbiIsImZsZXgiLCJjbG9zZUJ1dHRvbSIsImJ1dHRvbiIsImN1cnNvciIsImFkZEZseU1lbnVTdHlsZSIsImZseV9tZW51Iiwic3ZnQ2xvc2VCdXR0b21NZW51IiwiY3JlYXRlRWxlbWVudE5TIiwic2V0QXR0cmlidXRlIiwicGF0aCIsInN2Z0V5ZWUiLCJwYXRoMSIsImNpcmNsZSIsInBhdGgyIiwic3ZnSHVtYW4iLCJzdmdFbGVtZW50IiwicGF0aEVsZW1lbnQiLCJzdmdDbG9zZUJ1dHRvbSIsImFkZEJ1ZmZlck9wdGlvbnNDbGFzcyIsImJ1ZmZlcl9vcHRpb25zIiwidG9nZ2xlU3dpdGNoQ2xhc3NlcyIsInRvb2dsZVN3aXRjaENsYXNzIiwidG9nZ2xlU3dpdGNoQ2lyY2xlIiwidG9nZ2xlU3dpdGNoQWN0aXZlIiwidG9nZ2xlU3dpdGNoQW5pbWF0aW9uIiwiYWRkT3B0aW9uRnVuY3Rpb25zQ2xhc3MiLCJvdmVybGF5U3R5bGVDbGFzcyIsIm92ZXJsYXlPcHRpb25zU3R5bGVDbGFzcyIsIkNhcmRCdXR0b24iLCJmdW5jdGlvbmFsaXR5SWQiLCJhY3RpdmUiLCJ0b2dnbGVUb29sU3RhdHVzIiwidG9nZ2xlT3Bvc2l2ZUJ1dHRvbiIsInRvZ2dsZVN0YXRlIiwiY2hhbmdlQnV0dG9uU3RhdGUiLCJlbGVtZW50Q3VycmVudCIsIkxFRlQiLCJvcG9zaXZlRWxlbWVudCIsImNyZWF0ZUJ1dHRvbSIsImJ1dHRvbSIsIm1hcmdpblRvcCIsInNwYW4iLCJhc3NpZ25DaGFuZ2VPcG9zaXZlU3RhdGVCdXR0b24iLCJ0b2dnbGVPcG9zaXZlIiwiZ2V0RWxlbWVudCIsIk9wdGlvbkNhcmRTdHlsZXMiLCJ6b29tSWNvblN2ZyIsImZpbHRlckljb25TdmciLCJ2b2ljZUljb25TdmciLCJvcHRpb25DYXJkU3R5bGUiLCJPcHRpb25DYXJkIiwidGl0bGUiLCJzdWJ0aXRsZSIsImljb24iLCJvcHRpb24iLCJ0b2dnbGVPcHRpb25DYXJkIiwiY3JlYXRlT3B0aW9uQ2FyZCIsImNvbnRhaW5lciIsInNwYW5UaXRsZSIsImZvbnRXZWlnaHQiLCJzcGFuU3VidGl0bGUiLCJpY29uQ29udGFpbmVyIiwicmlnaHQiLCJidXR0b21Db250YWluZXIiLCJsZWZ0QnV0dG9uIiwicmlnaHRCdXR0b24iLCJSSUdIVCIsImZpbHRlclN0YXR1cyIsInJlYWRlclN0YXR1cyIsImFuaW1hY2lvbkVuUHJvZ3Jlc28iLCJpbml0TWVzc2FnZUNsb3NlIiwidmlld09wdGlvbnNPbiIsInNob3dPcHRpb25zVmlldyIsImZseV9tZW51X2VsZW1lbnQiLCJidWZmZXJPcHRpb25zIiwiYXBwTmFtZSIsImNyZWF0ZUFwcE5hbWUiLCJkaXZPcHRpb25zRWxlbWVudCIsImNyZWF0ZUNsb3NlQnV0dG9tIiwiZGl2RmlsdGVyTWVudSIsIm9wY2lvbmVzIiwiWm9vbU9iamVjdCIsInRvZ2dsZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiRmlsdGVyT2JqZWN0Iiwib3B0aW9uc0xpc3QiLCJvcHRpb25fY29udGFpbmVyIiwiU2NyZWVuUmVhZGVyT2JqZWN0Iiwib3BjaW9uIiwiY2FyZEVsZW1lbnQiLCJjZXJyYXJNb2RhbCIsIm1lbnNhamUiLCJhbmltYWNpb24iLCJhbmltYXRlIiwib3BhY2l0eSIsImR1cmF0aW9uIiwiZWFzaW5nIiwib25maW5pc2giLCJnZXRJdGVtIiwic2F2ZWRab29tU3RhdHVzIiwicGFyc2UiLCJzYXZlZEZpbHRlclN0YXR1cyIsInNhdmVkUmVhZGVyU3RhdHVzIiwic3RhcnQiLCJzaG93SW5pdE1lc3NhZ2UiLCJzaG93Rmx5TWVudSIsInByZXZlbnREZWZhdWx0IiwiY2xvc2VCdXR0b21Nb2RhbCIsImNsb3NlU3BhbkJ1dHRvbk1vZGFsIiwiZm9udFNpemUiLCJib3R0b20iLCJkaXZFbGVtZW50Q29udGFpbmVyIiwic3BhbkVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwiZmlyc3RDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=