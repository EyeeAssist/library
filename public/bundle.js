(()=>{"use strict";class e{constructor(){this.hasInsertedAccess=!1,this.active_filter=!1,this.colorBlindnessClasses=["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"],this.visionClasses=["vision-loss-moderate","vision-loss-severe","vision-blindness"],this.cssFilter="\n  <style>.protanopia{-webkit-filter:url(#protanopia) grayscale(0)!important;filter:url(#protanopia) grayscale(0)!important}.protanomaly{-webkit-filter:url(#protanomaly) grayscale(0)!important;filter:url(#protanomaly) grayscale(0)!important}.deuteranopia{-webkit-filter:url(#deuteranopia) grayscale(0)!important;filter:url(#deuteranopia) grayscale(0)!important}.deuteranomaly{-webkit-filter:url(#deuteranomaly) grayscale(0)!important;filter:url(#deuteranomaly) grayscale(0)!important}.tritanopia{-webkit-filter:url(#tritanopia) grayscale(0)!important;filter:url(#tritanopia) grayscale(0)!important}.tritanomaly{-webkit-filter:url(#tritanomaly) grayscale(0)!important;filter:url(#tritanomaly) grayscale(0)!important}.achromatopsia{-webkit-filter:url(#achromatopsia) grayscale(0)!important;filter:url(#achromatopsia) grayscale(0)!important}.achromatomaly{-webkit-filter:url(#achromatomaly) grayscale(0)!important;filter:url(#achromatomaly) grayscale(0)!important}.grayscale{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}.vision-loss-moderate body>*{-webkit-filter:blur(1px)!important;filter:blur(1px)!important}.vision-loss-severe body>*{-webkit-filter:blur(10px)!important;filter:blur(10px)!important}.vision-blindness body>*{background-color:#fff!important;-webkit-filter:brightness(0)!important;filter:brightness(0)!important}#access-filter{border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;width:1px;overflow:hidden;position:absolute!important;word-wrap:normal!important}</style>",this.svgFilterTemplate='<svg \n  id="access-filter"\n  aria-hidden="true"\n  xmlns="http://www.w3.org/2000/svg"\n  version="1.1">\n  <defs>\n    <filter id="protanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.567, 0.433, 0,     0, 0\n                0.558, 0.442, 0,     0, 0\n                0,     0.242, 0.758, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="protanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.817, 0.183, 0,     0, 0\n                0.333, 0.667, 0,     0, 0\n                0,     0.125, 0.875, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="deuteranopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.625, 0.375, 0,   0, 0\n                0.7,   0.3,   0,   0, 0\n                0,     0.3,   0.7, 0, 0\n                0,     0,     0,   1, 0"/>\n    </filter>\n    <filter id="deuteranomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.8,   0.2,   0,     0, 0\n                0.258, 0.742, 0,     0, 0\n                0,     0.142, 0.858, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanopia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.95, 0.05,  0,     0, 0\n                0,    0.433, 0.567, 0, 0\n                0,    0.475, 0.525, 0, 0\n                0,    0,     0,     1, 0"/>\n    </filter>\n    <filter id="tritanomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.967, 0.033, 0,     0, 0\n                0,     0.733, 0.267, 0, 0\n                0,     0.183, 0.817, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatopsia">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0.299, 0.587, 0.114, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n    <filter id="achromatomaly">\n      <feColorMatrix\n        in="SourceGraphic"\n        type="matrix"\n        values="0.618, 0.320, 0.062, 0, 0\n                0.163, 0.775, 0.062, 0, 0\n                0.163, 0.320, 0.516, 0, 0\n                0,     0,     0,     1, 0"/>\n    </filter>\n  </defs>\n</svg>'}aplicarFiltro(e){null!=e?(this.active_filter?this.removeTests("colorBlindness"):this.toggleTest("colorBlindness",e),this.active_filter=!this.active_filter):console.error("Error al aplicar los filtros, la opcion no se pintada correctamente")}toggleTest(e,t){this.hasInsertedAccess||(this.insertFiles(this.svgFilterTemplate,this.cssFilter),this.hasInsertedAccess=!0),this.removeTests(e),document.documentElement.classList.add(t)}insertFiles(e,t){document.body.insertAdjacentHTML("beforeend",e),document.body.insertAdjacentHTML("beforeend",t)}removeTests(e){if("vision"==e)for(let e=0;e<this.visionClasses.length;e++)document.documentElement.classList.remove(this.visionClasses[e]);else if("colorBlindness"==e)for(let e=0;e<this.colorBlindnessClasses.length;e++)document.documentElement.classList.remove(this.colorBlindnessClasses[e])}}class t{static addFilterBufferStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter-list-buffer {\n            position: fixed;\n            top: 50%;\n            right: 20px;\n            transform: translateY(-50%);\n            z-index: 9999;\n            background-color: #FFFF00;\n            color: #000000;\n        }\n    ",e.cssRules.length)}static addFilterOptionsStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter-option {\n          padding: 0.5rem;\n        }\n    ",e.cssRules.length)}static addFilterStyleClass(){const e=document.styleSheets[0];e.insertRule("\n        .filter_button {\n          position: fixed;\n          top: 20px;\n          right: 20px;\n          width: 50px;\n          height: 50px;\n          border-radius: 50%;\n          background-color: #243c5a;\n          color: #ffffff;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          z-index: 9999;\n        }\n    ",e.cssRules.length)}}class s{constructor(s=!1){this.enableFilter=s,this.filterViewOn=!1,this.startFilter=e=>{const t=e.target;this.filterService.aplicarFiltro(t.textContent)},this.showFilterOptionsList=()=>{if(this.filterViewOn){var e=document.getElementById("filter_buffer");return null==e?void console.error("No hay instancia del buffer de opciones."):(e.remove(),void(this.filterViewOn=!this.filterViewOn))}var s=document.createElement("div");s.className="filter-list-buffer",s.id="filter_buffer";var i=document.getElementById("filter_button");null!=i?(i.appendChild(s),t.addFilterBufferStyleClass(),["protanopia","protanomaly","deuteranopia","deuteranomaly","tritanopia","tritanomaly","achromatopsia","achromatomaly","grayscale"].forEach((e=>{var t=document.getElementById("filter_buffer");null!=t?t.appendChild(this.buildFilterOption(e)):console.error("No hay instancia del buffer de opciones.")})),t.addFilterOptionsStyleClass(),this.filterViewOn=!this.filterViewOn):console.error("No se creo el boton correctamente.")},this.filterService=new e}status(){return this.enableFilter}toggleStatus(){this.enableFilter=!this.enableFilter}showFilterOptions(){const e=document.createElement("img");e.src="https://github.com/EyeeAssist/docs/blob/develop/src/assets/logo.png?raw=true",e.style.width="50px",e.style.borderRadius="50%";const s=document.createElement("div");s.className="filter_button",s.id="filter_button",s.appendChild(e),s.addEventListener("click",this.showFilterOptionsList),t.addFilterStyleClass(),document.body.appendChild(s)}buildFilterOption(e){var t=document.createElement("div");return t.className="filter-option",t.addEventListener("click",this.startFilter),t.textContent=e,t}}var i=function(e,t,s,i){return new(s||(s=Promise))((function(n,o){function a(e){try{r(i.next(e))}catch(e){o(e)}}function l(e){try{r(i.throw(e))}catch(e){o(e)}}function r(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,l)}r((i=i.apply(e,t||[])).next())}))};class n{constructor(e=!1,t=""){var s;if(this.useScreenReader=e,this.token=t,this.synth=window.speechSynthesis,this.screenReaderStatus=!1,this.selectedArticle=null,this.selectedLink=null,this.articleIndex=-1,this.linkIndex=0,this.controller=new AbortController,this.talk=(e,t=!0)=>{!t||this.synth.cancel(),this.synth.speak(new SpeechSynthesisUtterance(e))},this.cancelTalk=()=>{this.controller&&this.controller.abort(),this.talk("")},!this.useScreenReader)return;let i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";let n=document.getElementsByTagName("script")[0];null===(s=n.parentNode)||void 0===s||s.insertBefore(i,n)}status(){return this.useScreenReader}toggleStatus(){this.useScreenReader=!this.useScreenReader}enable(){return this.screenReaderStatus}sayWelcome(){this.talk("Hola bienvenido a la pagina X, si desea leer las acciones de la pagina presione control y enter")}sayGoodbay(){this.talk("Gracias por utilizar eyeeassist")}keybindsScreenReader(e){this.cancelReader(e),this.reRead(e),this.activeScreenReader(e),this.moveBetweenContent(e),this.moveBetweenLinks(e)}getImage(e){return i(this,void 0,void 0,(function*(){return yield fetch(e)}))}getDescription(e){return i(this,void 0,void 0,(function*(){this.controller=new AbortController;const t=new FormData;t.append("file",e,"imagen.jpg");const s={method:"POST",body:t,headers:{Authorization:"Bearer "+this.token},signal:this.controller.signal},i=yield fetch("http://localhost:8000/caption",s).catch((e=>{"AbortError"===e.name&&console.error(e)}));return null!=i?(yield i.json()).message[0]:""}))}readChilds(e){var t;return i(this,void 0,void 0,(function*(){if("IFRAME"==e.nodeName){var s=new YT.Player(e,{});setTimeout((()=>{s.playVideo()}),5e3)}if("IMG"==e.nodeName){this.talk("Imagen encontrada",!1);let t=e;if(""!=t.alt)this.talk(""),this.talk("Imagen de "+t.alt,!1);else{const e=yield this.getImage(t.src),s=yield e.blob();this.talk("describiendo imagen",!1);const i=yield this.getDescription(s);""!=i?this.talk("Imagen de "+i,!1):this.talk("No se pudo generar una descripcion para la imagen encontrada.",!1)}}e.nodeType==Node.TEXT_NODE&&(null===(t=e.textContent)||void 0===t?void 0:t.trim())&&this.talk(e.textContent,!1);for(const t of Array.from(e.childNodes))yield this.readChilds(t)}))}moveBetweenContent(e){let t=document.getElementsByTagName("article");0!=t.length&&(this.screenReaderStatus&&!0===e.ctrlKey&&"arrowright"===e.key.toLowerCase()&&(this.articleIndex+=1,this.selectedArticle=t[this.articleIndex],this.cancelTalk(),this.readChilds(this.selectedArticle),this.articleIndex===t.length-1&&(this.articleIndex=0)),this.screenReaderStatus&&!0===e.ctrlKey&&"arrowleft"===e.key.toLowerCase()&&(-1===this.articleIndex?this.articleIndex+=1:0==this.articleIndex?this.articleIndex=t.length-1:this.articleIndex-=1,this.selectedArticle=t[this.articleIndex],this.cancelTalk(),this.readChilds(this.selectedArticle)))}activeScreenReader(e){this.useScreenReader&&!0===e.ctrlKey&&" "===e.key.toLowerCase()&&(this.screenReaderStatus?this.sayGoodbay():this.sayWelcome(),this.screenReaderStatus=!this.screenReaderStatus)}moveBetweenLinks(e){if(this.screenReaderStatus&&!1===e.ctrlKey&&"enter"===e.key.toLowerCase()&&null!=this.selectedLink&&(console.log(this.selectedLink),this.selectedLink.click()),this.screenReaderStatus&&!0===e.ctrlKey&&"enter"===e.key.toLowerCase()){let e=document.getElementsByClassName("text_reader_link");console.log(e[this.linkIndex].tagName),this.selectedLink=e[this.linkIndex],this.selectedLink.focus(),"TEXTAREA"==e[this.linkIndex].tagName?(this.selectedLink.addEventListener("input",(()=>{console.log(this.selectedLink)})),this.talk("Seleccionado un text area",!0)):null!==this.selectedLink.textContent&&this.talk(this.selectedLink.textContent,!0),this.linkIndex===e.length-1?this.linkIndex=0:this.linkIndex+=1}}cancelReader(e){this.useScreenReader&&"escape"===e.key.toLowerCase()&&this.talk("")}reRead(e){this.useScreenReader&&!0===e.ctrlKey&&"backspace"===e.key.toLowerCase()&&null!=this.selectedArticle&&null!=this.selectedArticle.textContent&&this.talk(this.selectedArticle.textContent)}}class o{static addZoomMessageTextBoxClass(){const e=document.styleSheets[0];e.insertRule(".zoom-message-txtbox {  \n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: fixed;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 9999;\n          background-color: #FFFF00;\n          color: #000000;\n          font-size: 20rem;\n          text-align: center;\n          width: 80%;\n          height: 80%;\n          font-family: Arial, sans-serif;\n      }",e.cssRules.length)}}class a{constructor(){this.TRANSITION_DURATION=800,this.level=1,this.mouseX=0,this.mouseY=0,this.panEngageTimeout=-1,this.panUpdateInterval=-1,this.callbackTimeout=-1,this.supportsTransforms="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,this.keyupEvent=e=>{1!==this.level&&27===e.keyCode&&this.out(void 0)},this.mouseMoveEvent=e=>{1!==this.level&&(this.mouseX=e.clientX,this.mouseY=e.clientY)},this.supportsTransforms&&(document.body.style.transition="transform "+this.TRANSITION_DURATION+"ms ease"),document.addEventListener("keyup",this.keyupEvent),document.addEventListener("mousemove",this.mouseMoveEvent)}magnify(e,t){var s=this.getScrollOffset();if(e.width=e.width||1,e.height=e.height||1,e.x-=(window.innerWidth-e.width*t)/2,e.y-=(window.innerHeight-e.height*t)/2,this.supportsTransforms)if(1===t)document.body.style.transform="";else{var i=s.x+"px "+s.y+"px",n="translate("+-e.x+"px,"+-e.y+"px) scale("+t+")";document.body.style.transformOrigin=i,document.body.style.transform=n}else 1===t?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height=""):(document.body.style.position="relative",document.body.style.left=-(s.x+e.x)/t+"px",document.body.style.top=-(s.y+e.y)/t+"px",document.body.style.width=100*t+"%",document.body.style.height=100*t+"%");this.level=t}pan(){var e=.12*window.innerWidth,t=.12*window.innerHeight,s=this.getScrollOffset();this.mouseY<t?window.scroll(s.x,s.y-(1-this.mouseY/t)*(14/this.level)):this.mouseY>window.innerHeight-t&&window.scroll(s.x,s.y+(1-(window.innerHeight-this.mouseY)/t)*(14/this.level)),this.mouseX<e?window.scroll(s.x-(1-this.mouseX/e)*(14/this.level),s.y):this.mouseX>window.innerWidth-e&&window.scroll(s.x+(1-(window.innerWidth-this.mouseX)/e)*(14/this.level),s.y)}getScrollOffset(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}to(e){if(1!==this.level)this.out(void 0);else{if(e.x=e.x||0,e.y=e.y||0,e.element){var t="number"==typeof e.padding?e.padding:20,s=e.element.getBoundingClientRect();e.x=s.left-t,e.y=s.top-t,e.width=s.width+2*t,e.height=s.height+2*t}void 0!==e.width&&void 0!==e.height&&(e.scale=Math.max(Math.min(window.innerWidth/e.width,window.innerHeight/e.height),1)),e.scale>1&&(e.x*=e.scale,e.y*=e.scale,e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),this.magnify(e,e.scale),!1!==e.pan&&(this.panEngageTimeout=setTimeout(this.calculatePanUpdateInterval,this.TRANSITION_DURATION)),"function"==typeof e.callback&&(this.callbackTimeout=setTimeout(e.callback,this.TRANSITION_DURATION)))}}calculatePanUpdateInterval(){this.panUpdateInterval=setInterval(this.pan,1e3/60)}out(e){clearTimeout(this.panEngageTimeout),clearInterval(this.panUpdateInterval),clearTimeout(this.callbackTimeout),this.magnify(new l(0,0,1),1),e&&"function"==typeof e.callback&&setTimeout(e.callback,this.TRANSITION_DURATION),this.level=1}}class l{constructor(e,t,s){this.x=0,this.y=0,this.scale=0,this.x=e,this.y=t,this.scale=s}}class r{constructor(e=!1){this.enableZoomOptions=e,this.zoomStatus=!1,this.active_message='<div id="zoom-status" class="zoom-message-txtbox">On</div>',this.deactive_message='<div id="zoom-status" class="zoom-message-txtbox">Off</div>',this.toogleZoom=e=>{this.zoomService.to(new l(e.x,e.y,10))},this.zoomService=new a}status(){return this.enableZoomOptions}toogleStatus(){this.enableZoomOptions=!this.enableZoomOptions}activeZoom(e,t){this.enableZoomOptions&&(e||!0!==t.ctrlKey||"backspace"!==t.key.toLowerCase()||(o.addZoomMessageTextBoxClass(),this.initialClickEvent(document.body)))}initialClickEvent(e){this.zoomStatus?this.showBoxMessage(e,this.deactive_message,!this.zoomStatus):this.showBoxMessage(e,this.active_message,!this.zoomStatus),this.zoomStatus=!this.zoomStatus}showBoxMessage(e,t,s){e.insertAdjacentHTML("beforebegin",t),setTimeout((()=>{const e=document.getElementById("zoom-status");null==e||e.remove()}),2e3),s?e.addEventListener("click",this.toogleZoom):e.removeEventListener("click",this.toogleZoom)}}class c{static mainMessage(e){return e.style.display="flex",e.style.alignItems="center",e.style.alignContent="center",e.style.justifyItems="center",e.style.justifyContent="center",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.backgroundColor="#F5F5DC",e.style.zIndex="999",e.style.color="#006400",e}static messageContent(e){return e.style.textAlign="center",e.style.flex="1",e.style.display="flex",e.style.alignContent="center",e.style.justifyContent="center",e}static closeButtom(e){return e.style.background="none",e.style.border="none",e.style.padding="0",e.style.margin="0",e.style.cursor="pointer",e.style.width="50px",e.style.height="50px",e.style.alignSelf="flex-end",e.style.color="#006400",e}static addFlyMenuStyle(){const e=document.styleSheets[0];e.insertRule("\n        .fly_menu {\n          position: fixed;\n          right: 70px;\n          width: 72px;\n          height: 72px;\n          border-radius: 50%;\n          background-color: #F5F5DC;\n          color: #006400;\n          text-align: center;\n          line-height: 50px;\n          cursor: pointer;\n          display: flex;\n          align-content: center;\n          justify-content: center;\n          z-index: 9999;\n        }\n    ",e.cssRules.length)}static svgHuman(e,t="34",s="38"){const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",t),i.setAttribute("height",s),i.setAttribute("viewBox","0 0 34 38"),i.setAttribute("xmlns","http://www.w3.org/2000/svg");const n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d","M33.5 13.5H22.5V37.3333H18.8333V26.3333H15.1667V37.3333H11.5V13.5H0.5V9.83332H33.5M17 0.666656C17.9725 0.666656 18.9051 1.05296 19.5927 1.7406C20.2804 2.42823 20.6667 3.36086 20.6667 4.33332C20.6667 5.30578 20.2804 6.23841 19.5927 6.92605C18.9051 7.61368 17.9725 7.99999 17 7.99999C16.0275 7.99999 15.0949 7.61368 14.4073 6.92605C13.7196 6.23841 13.3333 5.30578 13.3333 4.33332C13.3333 2.29832 14.965 0.666656 17 0.666656Z"),n.setAttribute("fill",e),i.appendChild(n),i}static svgCloseButtom(e){const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("fill",e),t.setAttribute("viewBox","0 0 32 32");const s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d","M7.004 23.087l7.08-7.081-7.07-7.071L8.929 7.02l7.067 7.069L23.084 7l1.912 1.913-7.089 7.093 7.075 7.077-1.912 1.913-7.074-7.073L8.917 25z"),t.appendChild(s),t}static addBufferOptionsClass(){const e=document.styleSheets[0];e.insertRule("\n        .buffer_options {\n            position: fixed;\n            top: 20%;\n            right: 10%;\n            border-radius: 10px;\n            transform: translateY(-50%);\n            z-index: 9999;\n            background-color: #F5F5DC;\n            color: #006400;\n        }\n    ",e.cssRules.length)}static toggleSwitchClasses(){this.toogleSwitchClass(),this.toggleSwitchCircle(),this.toggleSwitchActive(),this.toggleSwitchAnimation()}static toogleSwitchClass(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch {\n            width: 60px;\n            height: 30px;\n            background-color: #ccc;\n            border-radius: 15px;\n            display: flex;\n            align-items: center;\n            cursor: pointer;\n            transition: background-color 0.3s, transform 0.3s;\n        }\n    ",e.cssRules.length)}static toggleSwitchCircle(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch-circle {\n            width: 30px;\n            height: 30px;\n            background-color: white;\n            border-radius: 50%;\n            transition: transform 0.3s;\n        }",e.cssRules.length)}static toggleSwitchActive(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch.active {\n            background-color: #2ecc71;\n        }",e.cssRules.length)}static toggleSwitchAnimation(){const e=document.styleSheets[0];e.insertRule("\n        .toggle-switch.active .toggle-switch-circle {\n            transform: translateX(30px);\n        }",e.cssRules.length)}static addOptionFunctionsClass(){const e=document.styleSheets[0];e.insertRule("\n        .option_menu_eyeeassist {\n          display: flex;\n          padding: 10px;\n          justify-content: space-between;\n        }",e.cssRules.length)}}new class{constructor(e=!1,t=!1,i=!1,o=""){this.token=o,this.animacionEnProgreso=!1,this.initMessageClose=!1,this.viewOptionsOn=!1,this.buildOption=(e,t)=>{const s=document.createElement("div");s.className="option_menu_eyeeassist";const i=document.createElement("div");i.textContent=e,i.style.paddingRight="20px",s.appendChild(i);const n=document.createElement("div");n.className="toggle-switch",n.id="toggleSwitch"+e;const o=document.createElement("div");return o.className="toggle-switch-circle",n.appendChild(o),t&&n.classList.toggle("active"),n.addEventListener("click",(e=>{switch(n.id){case"toggleSwitchZoom":this.ZoomObject.toogleStatus(),localStorage.setItem("zoomStatus",JSON.stringify(this.ZoomObject.status()));break;case"toggleSwitchColors":this.FilterObject.toggleStatus(),localStorage.setItem("filterStatus",JSON.stringify(this.FilterObject.status()));break;case"toggleSwitchReader":this.ScreenReaderObject.toggleStatus(),localStorage.setItem("readerStatus",JSON.stringify(this.ScreenReaderObject.status()))}n.classList.toggle("active")})),s.appendChild(n),s},this.showOptions=()=>{if(console.log("Mostrando opciones"),this.viewOptionsOn){const e=document.getElementById("buffer_options");return null==e||e.remove(),void(this.viewOptionsOn=!this.viewOptionsOn)}const e=document.createElement("div");e.id="buffer_options",e.className="buffer_options",[{name:"Zoom",status:this.ZoomObject.status()},{name:"Colors",status:this.FilterObject.status()},{name:"Reader",status:this.ScreenReaderObject.status()}].forEach((t=>{e.appendChild(this.buildOption(t.name,t.status))})),document.body.appendChild(e),this.viewOptionsOn=!this.viewOptionsOn},this.cerrarModal=()=>{if(!this.animacionEnProgreso){const e=document.getElementById("eyeeasist-initial-message"),t=document.getElementById("fly_menu");this.animacionEnProgreso=!0;const s=null==e?void 0:e.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-100%)"}],{duration:300,easing:"ease-out"}),i=null==t?void 0:t.animate([{top:"70px"},{top:"30px"}],{duration:1e3,easing:"ease"});s&&i&&(s.onfinish=()=>{e&&(e.style.display="none"),this.animacionEnProgreso=!1,localStorage.setItem("initMessageClose","true")},i.onfinish=()=>{t&&(t.style.top="30px")})}},"true"==localStorage.getItem("initMessageClose")&&(this.initMessageClose=!0),c.toggleSwitchClasses(),c.addBufferOptionsClass(),c.addFlyMenuStyle(),c.addOptionFunctionsClass(),this.zoomStatus=e,this.filterStatus=t,this.readerStatus=i;const a=localStorage.getItem("zoomStatus");a&&(console.log("Hay zoom status guardado",JSON.parse(a)),this.zoomStatus=JSON.parse(a));const l=localStorage.getItem("filterStatus");l&&(console.log("Hay filter status guardado",JSON.parse(l)),this.filterStatus=JSON.parse(l));const d=localStorage.getItem("readerStatus");d&&(console.log("Hay reader status guardado",JSON.parse(d)),this.readerStatus=JSON.parse(d)),this.ZoomObject=new r(this.zoomStatus),this.FilterObject=new s(this.filterStatus),this.ScreenReaderObject=new n(this.readerStatus,this.token)}start(){this.showInitMessage(),this.showFlyMenu(),document.addEventListener("keydown",(e=>{console.log(e.key),this.ZoomObject.activeZoom(this.ScreenReaderObject.enable(),e),this.ScreenReaderObject.keybindsScreenReader(e)}))}showFlyMenu(){const e=document.createElement("div");e.id="fly_menu",e.className="fly_menu",e.style.top=this.initMessageClose?"30px":"70px",e.appendChild(c.svgHuman("#006400")),e.addEventListener("click",this.showOptions),document.body.appendChild(e)}showInitMessage(){let e=document.createElement("div");e=c.mainMessage(e),e.id="eyeeasist-initial-message",this.initMessageClose&&(e.style.display="none");let t=document.createElement("div");t=c.messageContent(t);let s=document.createElement("span");s.textContent="Esta página cuenta con herramientas de accesibilidad. Para activar y/o desactivar estas herramientas presiona cmd + A o haz click en el botón";let i=document.createElement("button");i=c.closeButtom(i),i.addEventListener("click",this.cerrarModal),i.appendChild(c.svgCloseButtom("#006400")),t.appendChild(s),t.appendChild(c.svgHuman("#006400","20","20")),e.appendChild(t),e.appendChild(i),document.body.insertBefore(e,document.body.firstChild)}}(!0,!0,!0).start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJBQXFCNUUsRUFBTSxHQUUzRCxDQUNBLFdBQUFnUixHQUNJLE1BQU12UCxFQUFhaEQsU0FBU2dDLGNBQWMsT0FDMUNnQixFQUFXZCxHQUFLLFdBQ2hCYyxFQUFXZixVQUFZLFdBQ3ZCZSxFQUFXSCxNQUFNMkksSUFBTXhNLEtBQUttUixpQkFBbUIsT0FBUyxPQUN4RG5OLEVBQVdaLFlBQVl5TCxFQUFxQnNCLFNBQVMsWUFDckRuTSxFQUFXQyxpQkFBaUIsUUFBU2pFLEtBQUttUyxhQUMxQ25SLFNBQVNNLEtBQUs4QixZQUFZWSxFQUM5QixDQUNBLGVBQUFzUCxHQUNJLElBQUl0UCxFQUFhaEQsU0FBU2dDLGNBQWMsT0FDeENnQixFQUFhNkssRUFBcUJDLFlBQVk5SyxHQUM5Q0EsRUFBV2QsR0FBSyw0QkFDWmxELEtBQUttUixtQkFDTG5OLEVBQVdILE1BQU1tTCxRQUFVLFFBRS9CLElBQUl3RSxFQUFzQnhTLFNBQVNnQyxjQUFjLE9BQ2pEd1EsRUFBc0IzRSxFQUFxQlcsZUFBZWdFLEdBQzFELElBQUlDLEVBQWN6UyxTQUFTZ0MsY0FBYyxRQUN6Q3lRLEVBQVk5USxZQUFjLGdKQUMxQixJQUFJK1EsRUFBZ0IxUyxTQUFTZ0MsY0FBYyxVQUMzQzBRLEVBQWdCN0UsRUFBcUJjLFlBQVkrRCxHQUNqREEsRUFBY3pQLGlCQUFpQixRQUFTakUsS0FBS3NTLGFBQzdDb0IsRUFBY3RRLFlBQVl5TCxFQUFxQjJCLGVBQWUsWUFDOURnRCxFQUFvQnBRLFlBQVlxUSxHQUNoQ0QsRUFBb0JwUSxZQUFZeUwsRUFBcUJzQixTQUFTLFVBQVcsS0FBTSxPQUMvRW5NLEVBQVdaLFlBQVlvUSxHQUN2QnhQLEVBQVdaLFlBQVlzUSxHQUN2QjFTLFNBQVNNLEtBQUt5RixhQUFhL0MsRUFBWWhELFNBQVNNLEtBQUtxUyxXQUN6RCxJRDVLOEIsR0FBTSxHQUFNLEdBQ25DTixPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL2ZpbHRlci1tb2R1bGUvZmlsdGVyX3NlcnZpY2UudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL3N0eWxlcy9jc3MtZmlsdGVyLWNsYXNzZXMudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvZmlsdGVyL2ZpbHRlci50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9zY3JlZW5fcmVhZGVyL3NjcmVlbl9yZWFkZXIudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvem9vbS9zdHlsZXMvY3NzLXpvb20tY2xhc3Nlcy50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy96b29tL3pvb20tbW9kdWxlL3pvb21fc2VydmljZS50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy96b29tL3pvb20udHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvbWFpbi9zdHlsZXMvY3NzLWV5ZWVhc3Npc3QtY2xhc3Nlcy50cyIsIndlYnBhY2s6Ly9leWVhc3Npc3QtbGlicmFyeS8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vZXllYXNzaXN0LWxpYnJhcnkvLi9zcmMvbWFpbi9leWVlYXNzaXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGaWx0ZXJTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5oYXNJbnNlcnRlZEFjY2VzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZV9maWx0ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb2xvckJsaW5kbmVzc0NsYXNzZXMgPSBbXG4gICAgICAgICAgICBcInByb3Rhbm9waWFcIixcbiAgICAgICAgICAgIFwicHJvdGFub21hbHlcIixcbiAgICAgICAgICAgIFwiZGV1dGVyYW5vcGlhXCIsXG4gICAgICAgICAgICBcImRldXRlcmFub21hbHlcIixcbiAgICAgICAgICAgIFwidHJpdGFub3BpYVwiLFxuICAgICAgICAgICAgXCJ0cml0YW5vbWFseVwiLFxuICAgICAgICAgICAgXCJhY2hyb21hdG9wc2lhXCIsXG4gICAgICAgICAgICBcImFjaHJvbWF0b21hbHlcIixcbiAgICAgICAgICAgIFwiZ3JheXNjYWxlXCJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy52aXNpb25DbGFzc2VzID0gW1xuICAgICAgICAgICAgXCJ2aXNpb24tbG9zcy1tb2RlcmF0ZVwiLFxuICAgICAgICAgICAgXCJ2aXNpb24tbG9zcy1zZXZlcmVcIixcbiAgICAgICAgICAgIFwidmlzaW9uLWJsaW5kbmVzc1wiXG4gICAgICAgIF07XG4gICAgICAgIHRoaXMuY3NzRmlsdGVyID0gYFxyXG4gIDxzdHlsZT4ucHJvdGFub3BpYXstd2Via2l0LWZpbHRlcjp1cmwoI3Byb3Rhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjcHJvdGFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0ucHJvdGFub21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCNwcm90YW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCNwcm90YW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0uZGV1dGVyYW5vcGlhey13ZWJraXQtZmlsdGVyOnVybCgjZGV1dGVyYW5vcGlhKSBncmF5c2NhbGUoMCkhaW1wb3J0YW50O2ZpbHRlcjp1cmwoI2RldXRlcmFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0uZGV1dGVyYW5vbWFseXstd2Via2l0LWZpbHRlcjp1cmwoI2RldXRlcmFub21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjZGV1dGVyYW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0udHJpdGFub3BpYXstd2Via2l0LWZpbHRlcjp1cmwoI3RyaXRhbm9waWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjdHJpdGFub3BpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0udHJpdGFub21hbHl7LXdlYmtpdC1maWx0ZXI6dXJsKCN0cml0YW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudDtmaWx0ZXI6dXJsKCN0cml0YW5vbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0uYWNocm9tYXRvcHNpYXstd2Via2l0LWZpbHRlcjp1cmwoI2FjaHJvbWF0b3BzaWEpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjYWNocm9tYXRvcHNpYSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0uYWNocm9tYXRvbWFseXstd2Via2l0LWZpbHRlcjp1cmwoI2FjaHJvbWF0b21hbHkpIGdyYXlzY2FsZSgwKSFpbXBvcnRhbnQ7ZmlsdGVyOnVybCgjYWNocm9tYXRvbWFseSkgZ3JheXNjYWxlKDApIWltcG9ydGFudH0uZ3JheXNjYWxley13ZWJraXQtZmlsdGVyOmdyYXlzY2FsZSgxMDAlKSFpbXBvcnRhbnQ7ZmlsdGVyOmdyYXlzY2FsZSgxMDAlKSFpbXBvcnRhbnR9LnZpc2lvbi1sb3NzLW1vZGVyYXRlIGJvZHk+Knstd2Via2l0LWZpbHRlcjpibHVyKDFweCkhaW1wb3J0YW50O2ZpbHRlcjpibHVyKDFweCkhaW1wb3J0YW50fS52aXNpb24tbG9zcy1zZXZlcmUgYm9keT4qey13ZWJraXQtZmlsdGVyOmJsdXIoMTBweCkhaW1wb3J0YW50O2ZpbHRlcjpibHVyKDEwcHgpIWltcG9ydGFudH0udmlzaW9uLWJsaW5kbmVzcyBib2R5Pip7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudDstd2Via2l0LWZpbHRlcjpicmlnaHRuZXNzKDApIWltcG9ydGFudDtmaWx0ZXI6YnJpZ2h0bmVzcygwKSFpbXBvcnRhbnR9I2FjY2Vzcy1maWx0ZXJ7Ym9yZGVyOjA7Y2xpcDpyZWN0KDFweCwxcHgsMXB4LDFweCk7LXdlYmtpdC1jbGlwLXBhdGg6aW5zZXQoNTAlKTtjbGlwLXBhdGg6aW5zZXQoNTAlKTtoZWlnaHQ6MXB4O21hcmdpbjotMXB4O3dpZHRoOjFweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3dvcmQtd3JhcDpub3JtYWwhaW1wb3J0YW50fTwvc3R5bGU+YDtcbiAgICAgICAgdGhpcy5zdmdGaWx0ZXJUZW1wbGF0ZSA9IGA8c3ZnIFxyXG4gIGlkPVwiYWNjZXNzLWZpbHRlclwiXHJcbiAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcclxuICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcclxuICB2ZXJzaW9uPVwiMS4xXCI+XHJcbiAgPGRlZnM+XHJcbiAgICA8ZmlsdGVyIGlkPVwicHJvdGFub3BpYVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC41NjcsIDAuNDMzLCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC41NTgsIDAuNDQyLCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMjQyLCAwLjc1OCwgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cInByb3Rhbm9tYWx5XCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjgxNywgMC4xODMsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjMzMywgMC42NjcsIDAsICAgICAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMC4xMjUsIDAuODc1LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgICA8ZmlsdGVyIGlkPVwiZGV1dGVyYW5vcGlhXCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjYyNSwgMC4zNzUsIDAsICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMC43LCAgIDAuMywgICAwLCAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjMsICAgMC43LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cImRldXRlcmFub21hbHlcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuOCwgICAwLjIsICAgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuMjU4LCAwLjc0MiwgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLjE0MiwgMC44NTgsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJ0cml0YW5vcGlhXCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjk1LCAwLjA1LCAgMCwgICAgIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgIDAuNDMzLCAwLjU2NywgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgMC40NzUsIDAuNTI1LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJ0cml0YW5vbWFseVwiPlxyXG4gICAgICA8ZmVDb2xvck1hdHJpeFxyXG4gICAgICAgIGluPVwiU291cmNlR3JhcGhpY1wiXHJcbiAgICAgICAgdHlwZT1cIm1hdHJpeFwiXHJcbiAgICAgICAgdmFsdWVzPVwiMC45NjcsIDAuMDMzLCAwLCAgICAgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuNzMzLCAwLjI2NywgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAuMTgzLCAwLjgxNywgMCwgMFxyXG4gICAgICAgICAgICAgICAgMCwgICAgIDAsICAgICAwLCAgICAgMSwgMFwiLz5cclxuICAgIDwvZmlsdGVyPlxyXG4gICAgPGZpbHRlciBpZD1cImFjaHJvbWF0b3BzaWFcIj5cclxuICAgICAgPGZlQ29sb3JNYXRyaXhcclxuICAgICAgICBpbj1cIlNvdXJjZUdyYXBoaWNcIlxyXG4gICAgICAgIHR5cGU9XCJtYXRyaXhcIlxyXG4gICAgICAgIHZhbHVlcz1cIjAuMjk5LCAwLjU4NywgMC4xMTQsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuMjk5LCAwLjU4NywgMC4xMTQsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAuMjk5LCAwLjU4NywgMC4xMTQsIDAsIDBcclxuICAgICAgICAgICAgICAgIDAsICAgICAwLCAgICAgMCwgICAgIDEsIDBcIi8+XHJcbiAgICA8L2ZpbHRlcj5cclxuICAgIDxmaWx0ZXIgaWQ9XCJhY2hyb21hdG9tYWx5XCI+XHJcbiAgICAgIDxmZUNvbG9yTWF0cml4XHJcbiAgICAgICAgaW49XCJTb3VyY2VHcmFwaGljXCJcclxuICAgICAgICB0eXBlPVwibWF0cml4XCJcclxuICAgICAgICB2YWx1ZXM9XCIwLjYxOCwgMC4zMjAsIDAuMDYyLCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjE2MywgMC43NzUsIDAuMDYyLCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLjE2MywgMC4zMjAsIDAuNTE2LCAwLCAwXHJcbiAgICAgICAgICAgICAgICAwLCAgICAgMCwgICAgIDAsICAgICAxLCAwXCIvPlxyXG4gICAgPC9maWx0ZXI+XHJcbiAgPC9kZWZzPlxyXG48L3N2Zz5gO1xuICAgIH1cbiAgICBhcGxpY2FyRmlsdHJvKGZpbHRybykge1xuICAgICAgICBpZiAoZmlsdHJvID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGFwbGljYXIgbG9zIGZpbHRyb3MsIGxhIG9wY2lvbiBubyBzZSBwaW50YWRhIGNvcnJlY3RhbWVudGUnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlX2ZpbHRlcikge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVUZXN0KFwiY29sb3JCbGluZG5lc3NcIiwgZmlsdHJvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGVzdHMoXCJjb2xvckJsaW5kbmVzc1wiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFjdGl2ZV9maWx0ZXIgPSAhdGhpcy5hY3RpdmVfZmlsdGVyO1xuICAgIH1cbiAgICB0b2dnbGVUZXN0KHRlc3RUeXBlLCB0ZXN0Q2xhc3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0luc2VydGVkQWNjZXNzKSB7XG4gICAgICAgICAgICB0aGlzLmluc2VydEZpbGVzKHRoaXMuc3ZnRmlsdGVyVGVtcGxhdGUsIHRoaXMuY3NzRmlsdGVyKTtcbiAgICAgICAgICAgIHRoaXMuaGFzSW5zZXJ0ZWRBY2Nlc3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlVGVzdHModGVzdFR5cGUpO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0ZXN0Q2xhc3MpO1xuICAgIH1cbiAgICBpbnNlcnRGaWxlcyhzdmcsIGNzcykge1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBzdmcpO1xuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBjc3MpO1xuICAgIH1cbiAgICByZW1vdmVUZXN0cyh0ZXN0VHlwZSkge1xuICAgICAgICBpZiAodGVzdFR5cGUgPT0gXCJ2aXNpb25cIikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZpc2lvbkNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnZpc2lvbkNsYXNzZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRlc3RUeXBlID09IFwiY29sb3JCbGluZG5lc3NcIikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbG9yQmxpbmRuZXNzQ2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29sb3JCbGluZG5lc3NDbGFzc2VzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc3NGaWx0ZXJDbGFzc2VzIHtcbiAgICBzdGF0aWMgYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX2J1ZmZlciA9IGBcclxuICAgICAgICAuZmlsdGVyLWxpc3QtYnVmZmVyIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcclxuICAgICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkYwMDtcclxuICAgICAgICAgICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZpbHRlcl9idWZmZXIsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZpbHRlck9wdGlvbnNTdHlsZUNsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCBmaWx0ZXJfb3B0aW9uID0gYFxyXG4gICAgICAgIC5maWx0ZXItb3B0aW9uIHtcclxuICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcclxuICAgICAgICB9XHJcbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoZmlsdGVyX29wdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkRmlsdGVyU3R5bGVDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmlsdGVyX2J1dHRvbiA9IGBcclxuICAgICAgICAuZmlsdGVyX2J1dHRvbiB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICB0b3A6IDIwcHg7XHJcbiAgICAgICAgICByaWdodDogMjBweDtcclxuICAgICAgICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzI0M2M1YTtcclxuICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShmaWx0ZXJfYnV0dG9uLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyU2VydmljZSB9IGZyb20gXCIuL2ZpbHRlci1tb2R1bGUvZmlsdGVyX3NlcnZpY2VcIjtcbmltcG9ydCB7IENzc0ZpbHRlckNsYXNzZXMgfSBmcm9tIFwiLi9zdHlsZXMvY3NzLWZpbHRlci1jbGFzc2VzXCI7XG5leHBvcnQgY2xhc3MgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbmFibGVGaWx0ZXIgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVuYWJsZUZpbHRlciA9IGVuYWJsZUZpbHRlcjtcbiAgICAgICAgdGhpcy5maWx0ZXJWaWV3T24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydEZpbHRlciA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTZXJ2aWNlLmFwbGljYXJGaWx0cm8oY29tcG9uZW50LnRleHRDb250ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG93RmlsdGVyT3B0aW9uc0xpc3QgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXJWaWV3T24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsdGVyX2J1ZmZlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGhheSBpbnN0YW5jaWEgZGVsIGJ1ZmZlciBkZSBvcGNpb25lcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyVmlld09uID0gIXRoaXMuZmlsdGVyVmlld09uO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpbHRlckxpc3QgPSBbXG4gICAgICAgICAgICAgICAgXCJwcm90YW5vcGlhXCIsXG4gICAgICAgICAgICAgICAgXCJwcm90YW5vbWFseVwiLFxuICAgICAgICAgICAgICAgIFwiZGV1dGVyYW5vcGlhXCIsXG4gICAgICAgICAgICAgICAgXCJkZXV0ZXJhbm9tYWx5XCIsXG4gICAgICAgICAgICAgICAgXCJ0cml0YW5vcGlhXCIsXG4gICAgICAgICAgICAgICAgXCJ0cml0YW5vbWFseVwiLFxuICAgICAgICAgICAgICAgIFwiYWNocm9tYXRvcHNpYVwiLFxuICAgICAgICAgICAgICAgIFwiYWNocm9tYXRvbWFseVwiLFxuICAgICAgICAgICAgICAgIFwiZ3JheXNjYWxlXCIsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgY29sb3JPcHRpb25zID0gW1xuICAgICAgICAgICAgICAgIFwiY29sb3JzXCIsXG4gICAgICAgICAgICAgICAgXCJmaWx0ZXJcIlxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHZhciBidWZmZXJMaXN0RGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnVmZmVyTGlzdERpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZpbHRlci1saXN0LWJ1ZmZlcic7XG4gICAgICAgICAgICBidWZmZXJMaXN0RGl2RWxlbWVudC5pZCA9ICdmaWx0ZXJfYnVmZmVyJztcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWx0ZXJfYnV0dG9uXCIpO1xuICAgICAgICAgICAgaWYgKGZpbHRlcl9idXR0b24gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHNlIGNyZW8gZWwgYm90b24gY29ycmVjdGFtZW50ZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWx0ZXJfYnV0dG9uLmFwcGVuZENoaWxkKGJ1ZmZlckxpc3REaXZFbGVtZW50KTtcbiAgICAgICAgICAgIENzc0ZpbHRlckNsYXNzZXMuYWRkRmlsdGVyQnVmZmVyU3R5bGVDbGFzcygpO1xuICAgICAgICAgICAgLypjb2xvck9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbHRlcl9idWZmZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbHRlcl9idWZmZXJcIik7XG4gICAgICAgICAgICAgIGZpbHRlcl9idWZmZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGJ1aWxkQ29sb3JPcHRpb25zKG9wdGlvbikpO1xuICAgICAgICAgICAgfSkqL1xuICAgICAgICAgICAgZmlsdGVyTGlzdC5mb3JFYWNoKChmaWx0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsdGVyX2J1ZmZlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyX2J1ZmZlcl9pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIGhheSBpbnN0YW5jaWEgZGVsIGJ1ZmZlciBkZSBvcGNpb25lcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWx0ZXJfYnVmZmVyX2luc3RhbmNlLmFwcGVuZENoaWxkKHRoaXMuYnVpbGRGaWx0ZXJPcHRpb24oZmlsdGVyKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIENzc0ZpbHRlckNsYXNzZXMuYWRkRmlsdGVyT3B0aW9uc1N0eWxlQ2xhc3MoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyVmlld09uID0gIXRoaXMuZmlsdGVyVmlld09uO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmZpbHRlclNlcnZpY2UgPSBuZXcgRmlsdGVyU2VydmljZSgpO1xuICAgICAgICAvL3RoaXMuc2hvd0ZpbHRlck9wdGlvbnMoKVxuICAgIH1cbiAgICBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZUZpbHRlcjtcbiAgICB9XG4gICAgdG9nZ2xlU3RhdHVzKCkge1xuICAgICAgICB0aGlzLmVuYWJsZUZpbHRlciA9ICF0aGlzLmVuYWJsZUZpbHRlcjtcbiAgICB9XG4gICAgc2hvd0ZpbHRlck9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgIGltYWdlLnNyYyA9IFwiaHR0cHM6Ly9naXRodWIuY29tL0V5ZWVBc3Npc3QvZG9jcy9ibG9iL2RldmVsb3Avc3JjL2Fzc2V0cy9sb2dvLnBuZz9yYXc9dHJ1ZVwiO1xuICAgICAgICBpbWFnZS5zdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICAgICAgaW1hZ2Uuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzUwJSc7XG4gICAgICAgIGNvbnN0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmlsdGVyX2J1dHRvbic7XG4gICAgICAgIGRpdkVsZW1lbnQuaWQgPSAnZmlsdGVyX2J1dHRvbic7XG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgICBkaXZFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaG93RmlsdGVyT3B0aW9uc0xpc3QpO1xuICAgICAgICBDc3NGaWx0ZXJDbGFzc2VzLmFkZEZpbHRlclN0eWxlQ2xhc3MoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KTtcbiAgICB9XG4gICAgYnVpbGRGaWx0ZXJPcHRpb24oZmlsdGVyT3B0aW9uKSB7XG4gICAgICAgIHZhciBvcHRpb25EaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2ZpbHRlci1vcHRpb24nO1xuICAgICAgICBvcHRpb25EaXZFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFydEZpbHRlcik7XG4gICAgICAgIG9wdGlvbkRpdkVsZW1lbnQudGV4dENvbnRlbnQgPSBmaWx0ZXJPcHRpb247XG4gICAgICAgIHJldHVybiBvcHRpb25EaXZFbGVtZW50O1xuICAgIH1cbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFNjcmVlblJlYWRlciB7XG4gICAgY29uc3RydWN0b3IodXNlU2NyZWVuUmVhZGVyID0gZmFsc2UsIHRva2VuID0gXCJcIikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudXNlU2NyZWVuUmVhZGVyID0gdXNlU2NyZWVuUmVhZGVyO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuc3ludGggPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzO1xuICAgICAgICB0aGlzLnNjcmVlblJlYWRlclN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rID0gbnVsbDtcbiAgICAgICAgdGhpcy5hcnRpY2xlSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5saW5rSW5kZXggPSAwO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyO1xuICAgICAgICB0aGlzLnRhbGsgPSAodGV4dCwgY2FuY2VsID0gdHJ1ZSkgPT4ge1xuICAgICAgICAgICAgY2FuY2VsID8gdGhpcy5zeW50aC5jYW5jZWwoKSA6IFwiIFwiO1xuICAgICAgICAgICAgdGhpcy5zeW50aC5zcGVhayhuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW5jZWxUYWxrID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50YWxrKFwiXCIpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMudXNlU2NyZWVuUmVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICB0YWcuc3JjID0gXCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7XG4gICAgICAgIGxldCBmaXJzdFNjcmlwdFRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTtcbiAgICAgICAgKF9hID0gZmlyc3RTY3JpcHRUYWcucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcbiAgICB9XG4gICAgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VTY3JlZW5SZWFkZXI7XG4gICAgfVxuICAgIHRvZ2dsZVN0YXR1cygpIHtcbiAgICAgICAgdGhpcy51c2VTY3JlZW5SZWFkZXIgPSAhdGhpcy51c2VTY3JlZW5SZWFkZXI7XG4gICAgfVxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzO1xuICAgIH1cbiAgICBzYXlXZWxjb21lKCkge1xuICAgICAgICB0aGlzLnRhbGsoXCJIb2xhIGJpZW52ZW5pZG8gYSBsYSBwYWdpbmEgWCwgc2kgZGVzZWEgbGVlciBsYXMgYWNjaW9uZXMgZGUgbGEgcGFnaW5hIHByZXNpb25lIGNvbnRyb2wgeSBlbnRlclwiKTtcbiAgICB9XG4gICAgc2F5R29vZGJheSgpIHtcbiAgICAgICAgdGhpcy50YWxrKFwiR3JhY2lhcyBwb3IgdXRpbGl6YXIgZXllZWFzc2lzdFwiKTtcbiAgICB9XG4gICAga2V5YmluZHNTY3JlZW5SZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxSZWFkZXIoZXZlbnQpO1xuICAgICAgICB0aGlzLnJlUmVhZChldmVudCk7XG4gICAgICAgIHRoaXMuYWN0aXZlU2NyZWVuUmVhZGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy5tb3ZlQmV0d2VlbkNvbnRlbnQoZXZlbnQpO1xuICAgICAgICB0aGlzLm1vdmVCZXR3ZWVuTGlua3MoZXZlbnQpO1xuICAgIH1cbiAgICBnZXRJbWFnZShzcmMpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goc3JjKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldERlc2NyaXB0aW9uKGJsb2IpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBibG9iLCAnaW1hZ2VuLmpwZycpO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdGhpcy50b2tlblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2NhcHRpb24nLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbi5tZXNzYWdlWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWFkQ2hpbGRzKGFydGljbGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgaWYgKGFydGljbGUubm9kZU5hbWUgPT0gJ0lGUkFNRScpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGxheWVyID0gbmV3IFlULlBsYXllcihhcnRpY2xlLCB7fSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5VmlkZW8oKTtcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcnRpY2xlLm5vZGVOYW1lID09ICdJTUcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50YWxrKCdJbWFnZW4gZW5jb250cmFkYScsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBsZXQgaW1nID0gYXJ0aWNsZTtcbiAgICAgICAgICAgICAgICBpZiAoaW1nLmFsdCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayhcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKCdJbWFnZW4gZGUgJyArIGltZy5hbHQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5nZXRJbWFnZShpbWcuc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYiA9IHlpZWxkIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWxrKCdkZXNjcmliaWVuZG8gaW1hZ2VuJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHlpZWxkIHRoaXMuZ2V0RGVzY3JpcHRpb24oYmxvYik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXNjcmlwdGlvbiAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhbGsoJ0ltYWdlbiBkZSAnICsgZGVzY3JpcHRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFsaygnTm8gc2UgcHVkbyBnZW5lcmFyIHVuYSBkZXNjcmlwY2lvbiBwYXJhIGxhIGltYWdlbiBlbmNvbnRyYWRhLicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhcnRpY2xlLm5vZGVUeXBlID09IE5vZGUuVEVYVF9OT0RFICYmICgoX2EgPSBhcnRpY2xlLnRleHRDb250ZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJpbSgpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudGFsayhhcnRpY2xlLnRleHRDb250ZW50LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIEFycmF5LmZyb20oYXJ0aWNsZS5jaGlsZE5vZGVzKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHRoaXMucmVhZENoaWxkcyhjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtb3ZlQmV0d2VlbkNvbnRlbnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFydGljbGVcIik7XG4gICAgICAgIGlmICh0YWdzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJhcnJvd3JpZ2h0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ICs9IDE7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQXJ0aWNsZSA9IHRhZ3NbdGhpcy5hcnRpY2xlSW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxUYWxrKCk7XG4gICAgICAgICAgICB0aGlzLnJlYWRDaGlsZHModGhpcy5zZWxlY3RlZEFydGljbGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZUluZGV4ID09PSB0YWdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVJbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmXG4gICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJhcnJvd2xlZnRcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXJ0aWNsZUluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcnRpY2xlSW5kZXggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGljbGVJbmRleCA9IHRhZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXJ0aWNsZUluZGV4IC09IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEFydGljbGUgPSB0YWdzW3RoaXMuYXJ0aWNsZUluZGV4XTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsVGFsaygpO1xuICAgICAgICAgICAgdGhpcy5yZWFkQ2hpbGRzKHRoaXMuc2VsZWN0ZWRBcnRpY2xlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhY3RpdmVTY3JlZW5SZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlU2NyZWVuUmVhZGVyICYmIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiIFwiKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zYXlXZWxjb21lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNheUdvb2RiYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzID0gIXRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1vdmVCZXR3ZWVuTGlua3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuUmVhZGVyU3RhdHVzICYmXG4gICAgICAgICAgICBldmVudC5jdHJsS2V5ID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiZW50ZXJcIiAmJlxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZExpbmspO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JlZW5SZWFkZXJTdGF0dXMgJiZcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVudGVyXCIpIHtcbiAgICAgICAgICAgIGxldCBsaW5rcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ0ZXh0X3JlYWRlcl9saW5rXCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cobGlua3NbdGhpcy5saW5rSW5kZXhdLnRhZ05hbWUpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZExpbmsgPSBsaW5rc1t0aGlzLmxpbmtJbmRleF07XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTGluay5mb2N1cygpO1xuICAgICAgICAgICAgaWYgKGxpbmtzW3RoaXMubGlua0luZGV4XS50YWdOYW1lID09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRMaW5rKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhbGsoXCJTZWxlY2Npb25hZG8gdW4gdGV4dCBhcmVhXCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRMaW5rLnRleHRDb250ZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnNlbGVjdGVkTGluay50ZXh0Q29udGVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubGlua0luZGV4ID09PSBsaW5rcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rSW5kZXggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saW5rSW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxSZWFkZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlU2NyZWVuUmVhZGVyICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImVzY2FwZVwiKSB7XG4gICAgICAgICAgICB0aGlzLnRhbGsoXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVSZWFkKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnVzZVNjcmVlblJlYWRlciAmJiBldmVudC5jdHJsS2V5ID09PSB0cnVlICYmIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSBcImJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZEFydGljbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXJ0aWNsZS50ZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFsayh0aGlzLnNlbGVjdGVkQXJ0aWNsZS50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENzc0NsYXNzZXMge1xuICAgIHN0YXRpYyBhZGRab29tTWVzc2FnZVRleHRCb3hDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdO1xuICAgICAgICB2YXIgY3NzUnVsZSA9IGAuem9vbS1tZXNzYWdlLXR4dGJveCB7ICBcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICB0b3A6IDUwJTtcclxuICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gICAgICAgICAgei1pbmRleDogOTk5OTtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkZGMDA7XHJcbiAgICAgICAgICBjb2xvcjogIzAwMDAwMDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMjByZW07XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICB3aWR0aDogODAlO1xyXG4gICAgICAgICAgaGVpZ2h0OiA4MCU7XHJcbiAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoY3NzUnVsZSwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBab29tU2VydmljZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiA9IDgwMDtcbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgICAgIHRoaXMubW91c2VYID0gMDtcbiAgICAgICAgdGhpcy5tb3VzZVkgPSAwO1xuICAgICAgICB0aGlzLnBhbkVuZ2FnZVRpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5wYW5VcGRhdGVJbnRlcnZhbCA9IC0xO1xuICAgICAgICB0aGlzLmNhbGxiYWNrVGltZW91dCA9IC0xO1xuICAgICAgICB0aGlzLnN1cHBvcnRzVHJhbnNmb3JtcyA9ICdXZWJraXRUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdNb3pUcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICdtc1RyYW5zZm9ybScgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSB8fFxuICAgICAgICAgICAgJ09UcmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGUgfHxcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nIGluIGRvY3VtZW50LmJvZHkuc3R5bGU7XG4gICAgICAgIHRoaXMua2V5dXBFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEgJiYgZXZlbnQua2V5Q29kZSA9PT0gMjcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm91dCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1vdXNlTW92ZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5sZXZlbCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW91c2VYID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNlWSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVHJhbnNmb3Jtcykge1xuICAgICAgICAgICAgLy8gVGhlIGVhc2luZyB0aGF0IHdpbGwgYmUgYXBwbGllZCB3aGVuIHdlIHpvb20gaW4vb3V0XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtICcgKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKyAnbXMgZWFzZSc7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuT1RyYW5zaXRpb24gPSAnLW8tdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNpdGlvbiA9ICctbXMtdHJhbnNmb3JtICcrIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTiArJ21zIGVhc2UnO1xuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zaXRpb24gPSAnLW1vei10cmFuc2Zvcm0gJysgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OICsnbXMgZWFzZSc7XG4gICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuV2Via2l0VHJhbnNpdGlvbiA9ICctd2Via2l0LXRyYW5zZm9ybSAnKyB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04gKydtcyBlYXNlJztcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMua2V5dXBFdmVudCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW91c2VNb3ZlRXZlbnQpO1xuICAgIH1cbiAgICBtYWduaWZ5KHJlY3QsIHNjYWxlKSB7XG4gICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSB0aGlzLmdldFNjcm9sbE9mZnNldCgpO1xuICAgICAgICAvLyBFbnN1cmUgYSB3aWR0aC9oZWlnaHQgaXMgc2V0XG4gICAgICAgIHJlY3Qud2lkdGggPSByZWN0LndpZHRoIHx8IDE7XG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gcmVjdC5oZWlnaHQgfHwgMTtcbiAgICAgICAgLy8gQ2VudGVyIHRoZSByZWN0IHdpdGhpbiB0aGUgem9vbWVkIHZpZXdwb3J0XG4gICAgICAgIHJlY3QueCAtPSAod2luZG93LmlubmVyV2lkdGggLSAocmVjdC53aWR0aCAqIHNjYWxlKSkgLyAyO1xuICAgICAgICByZWN0LnkgLT0gKHdpbmRvdy5pbm5lckhlaWdodCAtIChyZWN0LmhlaWdodCAqIHNjYWxlKSkgLyAyO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RyYW5zZm9ybXMpIHtcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk1velRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm0gPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNjYWxlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luID0gc2Nyb2xsT2Zmc2V0LnggKyAncHggJyArIHNjcm9sbE9mZnNldC55ICsgJ3B4JywgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgLXJlY3QueCArICdweCwnICsgLXJlY3QueSArICdweCkgc2NhbGUoJyArIHNjYWxlICsgJyknO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5PVHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5tc1RyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuTW96VHJhbnNmb3JtT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5XZWJraXRUcmFuc2Zvcm1PcmlnaW4gPSBvcmlnaW47XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLk9UcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLm1zVHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIC8vZG9jdW1lbnQuYm9keS5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LnN0eWxlLldlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFJlc2V0XG4gICAgICAgICAgICBpZiAoc2NhbGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2NhbGVcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubGVmdCA9ICgtKHNjcm9sbE9mZnNldC54ICsgcmVjdC54KSAvIHNjYWxlKSArICdweCc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSAoLShzY3JvbGxPZmZzZXQueSArIHJlY3QueSkgLyBzY2FsZSkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAoc2NhbGUgKiAxMDApICsgJyUnO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gKHNjYWxlICogMTAwKSArICclJztcbiAgICAgICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IHNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGV2ZWwgPSBzY2FsZTtcbiAgICB9XG4gICAgcGFuKCkge1xuICAgICAgICB2YXIgcmFuZ2UgPSAwLjEyLCByYW5nZVggPSB3aW5kb3cuaW5uZXJXaWR0aCAqIHJhbmdlLCByYW5nZVkgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiByYW5nZSwgc2Nyb2xsT2Zmc2V0ID0gdGhpcy5nZXRTY3JvbGxPZmZzZXQoKTtcbiAgICAgICAgLy8gVXBcbiAgICAgICAgaWYgKHRoaXMubW91c2VZIDwgcmFuZ2VZKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHNjcm9sbE9mZnNldC54LCBzY3JvbGxPZmZzZXQueSAtICgxIC0gKHRoaXMubW91c2VZIC8gcmFuZ2VZKSkgKiAoMTQgLyB0aGlzLmxldmVsKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG93blxuICAgICAgICBlbHNlIGlmICh0aGlzLm1vdXNlWSA+IHdpbmRvdy5pbm5lckhlaWdodCAtIHJhbmdlWSkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCwgc2Nyb2xsT2Zmc2V0LnkgKyAoMSAtICh3aW5kb3cuaW5uZXJIZWlnaHQgLSB0aGlzLm1vdXNlWSkgLyByYW5nZVkpICogKDE0IC8gdGhpcy5sZXZlbCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIExlZnRcbiAgICAgICAgaWYgKHRoaXMubW91c2VYIDwgcmFuZ2VYKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsKHNjcm9sbE9mZnNldC54IC0gKDEgLSAodGhpcy5tb3VzZVggLyByYW5nZVgpKSAqICgxNCAvIHRoaXMubGV2ZWwpLCBzY3JvbGxPZmZzZXQueSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmlnaHRcbiAgICAgICAgZWxzZSBpZiAodGhpcy5tb3VzZVggPiB3aW5kb3cuaW5uZXJXaWR0aCAtIHJhbmdlWCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbChzY3JvbGxPZmZzZXQueCArICgxIC0gKHdpbmRvdy5pbm5lcldpZHRoIC0gdGhpcy5tb3VzZVgpIC8gcmFuZ2VYKSAqICgxNCAvIHRoaXMubGV2ZWwpLCBzY3JvbGxPZmZzZXQueSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2Nyb2xsT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogd2luZG93LnNjcm9sbFggIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JvbGxYIDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgeTogd2luZG93LnNjcm9sbFkgIT09IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JvbGxZIDogd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgIT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub3V0KHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLnggPSBvcHRpb25zLnggfHwgMDtcbiAgICAgICAgICAgIG9wdGlvbnMueSA9IG9wdGlvbnMueSB8fCAwO1xuICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBpcyBzZXQsIHRoYXQgdGFrZXMgcHJlY2VkZW5jZVxuICAgICAgICAgICAgaWYgKCEhb3B0aW9ucy5lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gU3BhY2UgYXJvdW5kIHRoZSB6b29tZWQgaW4gZWxlbWVudCB0byBsZWF2ZSBvbiBzY3JlZW5cbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHR5cGVvZiBvcHRpb25zLnBhZGRpbmcgPT09ICdudW1iZXInID8gb3B0aW9ucy5wYWRkaW5nIDogMjA7XG4gICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG9wdGlvbnMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnggPSBib3VuZHMubGVmdCAtIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ID0gYm91bmRzLnRvcCAtIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy53aWR0aCA9IGJvdW5kcy53aWR0aCArIChwYWRkaW5nICogMik7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0ICsgKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdpZHRoL2hlaWdodCB2YWx1ZXMgYXJlIHNldCwgY2FsY3VsYXRlIHNjYWxlIGZyb20gdGhvc2UgdmFsdWVzXG4gICAgICAgICAgICBpZiAob3B0aW9ucy53aWR0aCAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjYWxlID0gTWF0aC5tYXgoTWF0aC5taW4od2luZG93LmlubmVyV2lkdGggLyBvcHRpb25zLndpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgLyBvcHRpb25zLmhlaWdodCksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGUgPiAxKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy55ICo9IG9wdGlvbnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy54ID0gTWF0aC5tYXgob3B0aW9ucy54LCAwKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnkgPSBNYXRoLm1heChvcHRpb25zLnksIDApO1xuICAgICAgICAgICAgICAgIHRoaXMubWFnbmlmeShvcHRpb25zLCBvcHRpb25zLnNjYWxlKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wYW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFuRW5nYWdlVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5jYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCwgdGhpcy5UUkFOU0lUSU9OX0RVUkFUSU9OKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dChvcHRpb25zLmNhbGxiYWNrLCB0aGlzLlRSQU5TSVRJT05fRFVSQVRJT04pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCgpIHtcbiAgICAgICAgdGhpcy5wYW5VcGRhdGVJbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMucGFuLCAxMDAwIC8gNjApO1xuICAgIH1cbiAgICBvdXQob3B0aW9ucykge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wYW5FbmdhZ2VUaW1lb3V0KTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnBhblVwZGF0ZUludGVydmFsKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsbGJhY2tUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5tYWduaWZ5KG5ldyBPcHRpb25zWm9vbSgwLCAwLCAxKSwgMSk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KG9wdGlvbnMuY2FsbGJhY2ssIHRoaXMuVFJBTlNJVElPTl9EVVJBVElPTik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZXZlbCA9IDE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIE9wdGlvbnNab29tIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBzY2FsZSkge1xuICAgICAgICB0aGlzLnggPSAwO1xuICAgICAgICB0aGlzLnkgPSAwO1xuICAgICAgICB0aGlzLnNjYWxlID0gMDtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENzc0NsYXNzZXMgfSBmcm9tIFwiLi9zdHlsZXMvY3NzLXpvb20tY2xhc3Nlc1wiO1xuaW1wb3J0IHsgWm9vbVNlcnZpY2UsIE9wdGlvbnNab29tIH0gZnJvbSBcIi4vem9vbS1tb2R1bGUvem9vbV9zZXJ2aWNlXCI7XG5leHBvcnQgY2xhc3MgWm9vbSB7XG4gICAgY29uc3RydWN0b3IoZW5hYmxlWm9vbU9wdGlvbnMgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmVuYWJsZVpvb21PcHRpb25zID0gZW5hYmxlWm9vbU9wdGlvbnM7XG4gICAgICAgIHRoaXMuem9vbVN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZV9tZXNzYWdlID0gYDxkaXYgaWQ9XCJ6b29tLXN0YXR1c1wiIGNsYXNzPVwiem9vbS1tZXNzYWdlLXR4dGJveFwiPk9uPC9kaXY+YDtcbiAgICAgICAgdGhpcy5kZWFjdGl2ZV9tZXNzYWdlID0gYDxkaXYgaWQ9XCJ6b29tLXN0YXR1c1wiIGNsYXNzPVwiem9vbS1tZXNzYWdlLXR4dGJveFwiPk9mZjwvZGl2PmA7XG4gICAgICAgIHRoaXMudG9vZ2xlWm9vbSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy56b29tU2VydmljZS50byhuZXcgT3B0aW9uc1pvb20oZXZlbnQueCwgZXZlbnQueSwgMTApKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy56b29tU2VydmljZSA9IG5ldyBab29tU2VydmljZSgpO1xuICAgIH1cbiAgICBzdGF0dXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZVpvb21PcHRpb25zO1xuICAgIH1cbiAgICB0b29nbGVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlWm9vbU9wdGlvbnMgPSAhdGhpcy5lbmFibGVab29tT3B0aW9ucztcbiAgICB9XG4gICAgYWN0aXZlWm9vbShzY3JlZW5SZWFkZXJBY3RpdmUsIGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5lbmFibGVab29tT3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2NyZWVuUmVhZGVyQWN0aXZlICYmIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiYgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09IFwiYmFja3NwYWNlXCIpIHtcbiAgICAgICAgICAgIENzc0NsYXNzZXMuYWRkWm9vbU1lc3NhZ2VUZXh0Qm94Q2xhc3MoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbENsaWNrRXZlbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbENsaWNrRXZlbnQoYm9keSkge1xuICAgICAgICBpZiAoIXRoaXMuem9vbVN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5zaG93Qm94TWVzc2FnZShib2R5LCB0aGlzLmFjdGl2ZV9tZXNzYWdlLCAhdGhpcy56b29tU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0JveE1lc3NhZ2UoYm9keSwgdGhpcy5kZWFjdGl2ZV9tZXNzYWdlLCAhdGhpcy56b29tU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSAhdGhpcy56b29tU3RhdHVzO1xuICAgIH1cbiAgICBzaG93Qm94TWVzc2FnZShib2R5LCBtZXNzYWdlLCBzdGF0dXMpIHtcbiAgICAgICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBtZXNzYWdlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB6b29tX21lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInpvb20tc3RhdHVzXCIpO1xuICAgICAgICAgICAgem9vbV9tZXNzYWdlID09PSBudWxsIHx8IHpvb21fbWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbV9tZXNzYWdlLnJlbW92ZSgpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgc3RhdHVzID8gYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudG9vZ2xlWm9vbSkgOiBib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvb2dsZVpvb20pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB7XG4gICAgc3RhdGljIG1haW5NZXNzYWdlKGRpdikge1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduSXRlbXMgPSAnY2VudGVyJztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUl0ZW1zID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gJzAnO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGNUY1REMnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gJzk5OSc7XG4gICAgICAgIGRpdi5zdHlsZS5jb2xvciA9ICcjMDA2NDAwJztcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG4gICAgc3RhdGljIG1lc3NhZ2VDb250ZW50KGRpdikge1xuICAgICAgICBkaXYuc3R5bGUudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgIGRpdi5zdHlsZS5mbGV4ID0gJzEnO1xuICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgZGl2LnN0eWxlLmFsaWduQ29udGVudCA9ICdjZW50ZXInO1xuICAgICAgICBkaXYuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSAnY2VudGVyJztcbiAgICAgICAgcmV0dXJuIGRpdjtcbiAgICB9XG4gICAgc3RhdGljIGNsb3NlQnV0dG9tKGJ1dHRvbikge1xuICAgICAgICBidXR0b24uc3R5bGUuYmFja2dyb3VuZCA9ICdub25lJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgICAgICAgYnV0dG9uLnN0eWxlLnBhZGRpbmcgPSAnMCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5tYXJnaW4gPSAnMCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmhlaWdodCA9ICc1MHB4JztcbiAgICAgICAgYnV0dG9uLnN0eWxlLmFsaWduU2VsZiA9ICdmbGV4LWVuZCc7XG4gICAgICAgIGJ1dHRvbi5zdHlsZS5jb2xvciA9ICcjMDA2NDAwJztcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgc3RhdGljIGFkZEZseU1lbnVTdHlsZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgZmx5X21lbnUgPSBgXHJcbiAgICAgICAgLmZseV9tZW51IHtcclxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgIHJpZ2h0OiA3MHB4O1xyXG4gICAgICAgICAgd2lkdGg6IDcycHg7XHJcbiAgICAgICAgICBoZWlnaHQ6IDcycHg7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNURDO1xyXG4gICAgICAgICAgY29sb3I6ICMwMDY0MDA7XHJcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICBsaW5lLWhlaWdodDogNTBweDtcclxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgICAgIHotaW5kZXg6IDk5OTk7XHJcbiAgICAgICAgfVxyXG4gICAgYDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKGZseV9tZW51LCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyBzdmdIdW1hbihjb2xvciwgd2lkdGggPSAnMzQnLCBoZWlnaHQgPSAnMzgnKSB7XG4gICAgICAgIGNvbnN0IHN2Z0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgLy8gRXN0YWJsZWNlIGxvcyBhdHJpYnV0b3MgZGVsIGVsZW1lbnRvIFNWR1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoKTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgICAgICAgc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIFwiMCAwIDM0IDM4XCIpO1xuICAgICAgICBzdmdFbGVtZW50LnNldEF0dHJpYnV0ZShcInhtbG5zXCIsIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIik7XG4gICAgICAgIC8vIENyZWEgdW4gZWxlbWVudG8gZGUgcnV0YSBkZW50cm8gZGVsIFNWR1xuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk0zMy41IDEzLjVIMjIuNVYzNy4zMzMzSDE4LjgzMzNWMjYuMzMzM0gxNS4xNjY3VjM3LjMzMzNIMTEuNVYxMy41SDAuNVY5LjgzMzMySDMzLjVNMTcgMC42NjY2NTZDMTcuOTcyNSAwLjY2NjY1NiAxOC45MDUxIDEuMDUyOTYgMTkuNTkyNyAxLjc0MDZDMjAuMjgwNCAyLjQyODIzIDIwLjY2NjcgMy4zNjA4NiAyMC42NjY3IDQuMzMzMzJDMjAuNjY2NyA1LjMwNTc4IDIwLjI4MDQgNi4yMzg0MSAxOS41OTI3IDYuOTI2MDVDMTguOTA1MSA3LjYxMzY4IDE3Ljk3MjUgNy45OTk5OSAxNyA3Ljk5OTk5QzE2LjAyNzUgNy45OTk5OSAxNS4wOTQ5IDcuNjEzNjggMTQuNDA3MyA2LjkyNjA1QzEzLjcxOTYgNi4yMzg0MSAxMy4zMzMzIDUuMzA1NzggMTMuMzMzMyA0LjMzMzMyQzEzLjMzMzMgMi4yOTgzMiAxNC45NjUgMC42NjY2NTYgMTcgMC42NjY2NTZaXCIpO1xuICAgICAgICBwYXRoRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIGNvbG9yKTtcbiAgICAgICAgLy8gQWdyZWdhIGxhIHJ1dGEgYWwgZWxlbWVudG8gU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIHN2Z0Nsb3NlQnV0dG9tKGNvbG9yKSB7XG4gICAgICAgIC8vIENyZWFyIHVuIGVsZW1lbnRvIFNWR1xuICAgICAgICBjb25zdCBzdmdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBjb2xvcik7XG4gICAgICAgIHN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCBcIjAgMCAzMiAzMlwiKTtcbiAgICAgICAgLy8gQ3JlYXIgdW4gZWxlbWVudG8gcGF0aFxuICAgICAgICBjb25zdCBwYXRoRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicGF0aFwiKTtcbiAgICAgICAgcGF0aEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZFwiLCBcIk03LjAwNCAyMy4wODdsNy4wOC03LjA4MS03LjA3LTcuMDcxTDguOTI5IDcuMDJsNy4wNjcgNy4wNjlMMjMuMDg0IDdsMS45MTIgMS45MTMtNy4wODkgNy4wOTMgNy4wNzUgNy4wNzctMS45MTIgMS45MTMtNy4wNzQtNy4wNzNMOC45MTcgMjV6XCIpO1xuICAgICAgICAvLyBBZ3JlZ2FyIGVsIGVsZW1lbnRvIHBhdGggYWwgU1ZHXG4gICAgICAgIHN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQocGF0aEVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudDtcbiAgICB9XG4gICAgc3RhdGljIGFkZEJ1ZmZlck9wdGlvbnNDbGFzcygpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgYnVmZmVyX29wdGlvbnMgPSBgXHJcbiAgICAgICAgLmJ1ZmZlcl9vcHRpb25zIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICB0b3A6IDIwJTtcclxuICAgICAgICAgICAgcmlnaHQ6IDEwJTtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVGNURDO1xyXG4gICAgICAgICAgICBjb2xvcjogIzAwNjQwMDtcclxuICAgICAgICB9XHJcbiAgICBgO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoYnVmZmVyX29wdGlvbnMsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaENsYXNzZXMoKSB7XG4gICAgICAgIHRoaXMudG9vZ2xlU3dpdGNoQ2xhc3MoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hDaXJjbGUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hBY3RpdmUoKTtcbiAgICAgICAgdGhpcy50b2dnbGVTd2l0Y2hBbmltYXRpb24oKTtcbiAgICB9XG4gICAgc3RhdGljIHRvb2dsZVN3aXRjaENsYXNzKCkge1xuICAgICAgICBjb25zdCBzdHlsZVNoZWV0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHNbMF07IC8vIEFzZWfDunJhdGUgZGUgc2VsZWNjaW9uYXIgZWwgc3R5bGVzaGVldCBhZGVjdWFkb1xuICAgICAgICBjb25zdCB0b2dnbGVfc3dpdGNoID0gYFxyXG4gICAgICAgIC50b2dnbGUtc3dpdGNoIHtcclxuICAgICAgICAgICAgd2lkdGg6IDYwcHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogMzBweDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweDtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MsIHRyYW5zZm9ybSAwLjNzO1xyXG4gICAgICAgIH1cclxuICAgIGA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyB0b2dnbGVTd2l0Y2hDaXJjbGUoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2hfY2lyY2xlID0gYFxyXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLWNpcmNsZSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzO1xyXG4gICAgICAgIH1gO1xuICAgICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUodG9nZ2xlX3N3aXRjaF9jaXJjbGUsIHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIHRvZ2dsZVN3aXRjaEFjdGl2ZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvLyBBc2Vnw7pyYXRlIGRlIHNlbGVjY2lvbmFyIGVsIHN0eWxlc2hlZXQgYWRlY3VhZG9cbiAgICAgICAgY29uc3QgdG9nZ2xlX3N3aXRjaF9hcnRpdmUgPSBgXHJcbiAgICAgICAgLnRvZ2dsZS1zd2l0Y2guYWN0aXZlIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJlY2M3MTtcclxuICAgICAgICB9YDtcbiAgICAgICAgc3R5bGVTaGVldC5pbnNlcnRSdWxlKHRvZ2dsZV9zd2l0Y2hfYXJ0aXZlLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIHN0YXRpYyB0b2dnbGVTd2l0Y2hBbmltYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IHRvZ2dsZV9zd2l0Y2hfYW5pbWF0aW9uID0gYFxyXG4gICAgICAgIC50b2dnbGUtc3dpdGNoLmFjdGl2ZSAudG9nZ2xlLXN3aXRjaC1jaXJjbGUge1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMzBweCk7XHJcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZSh0b2dnbGVfc3dpdGNoX2FuaW1hdGlvbiwgc3R5bGVTaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBzdGF0aWMgYWRkT3B0aW9uRnVuY3Rpb25zQ2xhc3MoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlU2hlZXQgPSBkb2N1bWVudC5zdHlsZVNoZWV0c1swXTsgLy8gQXNlZ8O6cmF0ZSBkZSBzZWxlY2Npb25hciBlbCBzdHlsZXNoZWV0IGFkZWN1YWRvXG4gICAgICAgIGNvbnN0IG9wdGlvbl9mdW5jdGlvbnMgPSBgXHJcbiAgICAgICAgLm9wdGlvbl9tZW51X2V5ZWVhc3Npc3Qge1xyXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgICAgfWA7XG4gICAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShvcHRpb25fZnVuY3Rpb25zLCBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXllZWFzc2lzdCB9IGZyb20gXCIuL21haW4vZXllZWFzc2lzdFwiO1xuY29uc3QgZXllZWFzc2lzdCA9IG5ldyBFeWVlYXNzaXN0KHRydWUsIHRydWUsIHRydWUpO1xuZXllZWFzc2lzdC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSBcIi4uL2ZpbHRlci9maWx0ZXJcIjtcbmltcG9ydCB7IFNjcmVlblJlYWRlciB9IGZyb20gXCIuLi9zY3JlZW5fcmVhZGVyL3NjcmVlbl9yZWFkZXJcIjtcbmltcG9ydCB7IFpvb20gfSBmcm9tIFwiLi4vem9vbS96b29tXCI7XG5pbXBvcnQgeyBDc3NFeWVlYXNzaXN0Q2xhc3NlcyB9IGZyb20gXCIuL3N0eWxlcy9jc3MtZXllZWFzc2lzdC1jbGFzc2VzXCI7XG5leHBvcnQgY2xhc3MgRXllZWFzc2lzdCB7XG4gICAgY29uc3RydWN0b3Ioem9vbVN0YXR1cyA9IGZhbHNlLCBmaWx0ZXJTdGF0dXMgPSBmYWxzZSwgcmVhZGVyU3RhdHVzID0gZmFsc2UsIHRva2VuID0gJycpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB0aGlzLmFuaW1hY2lvbkVuUHJvZ3Jlc28gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pbml0TWVzc2FnZUNsb3NlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlld09wdGlvbnNPbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJ1aWxkT3B0aW9uID0gKG9wdGlvbk5hbWUsIHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBvcHRpb24uY2xhc3NOYW1lID0gJ29wdGlvbl9tZW51X2V5ZWVhc3Npc3QnO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9uTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG9wdGlvbk5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uTmFtZTtcbiAgICAgICAgICAgIG9wdGlvbk5hbWVFbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9ICcyMHB4JztcbiAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChvcHRpb25OYW1lRWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVTd2l0Y2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaC5jbGFzc05hbWUgPSAndG9nZ2xlLXN3aXRjaCc7XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guaWQgPSAndG9nZ2xlU3dpdGNoJyArIG9wdGlvbk5hbWU7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVTd2l0Y2hDaXJjbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRvZ2dsZVN3aXRjaENpcmNsZS5jbGFzc05hbWUgPSBcInRvZ2dsZS1zd2l0Y2gtY2lyY2xlXCI7XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guYXBwZW5kQ2hpbGQodG9nZ2xlU3dpdGNoQ2lyY2xlKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICB0b2dnbGVTd2l0Y2guY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2dnbGVTd2l0Y2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRvZ2dsZVN3aXRjaC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b2dnbGVTd2l0Y2hab29tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuWm9vbU9iamVjdC50b29nbGVTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd6b29tU3RhdHVzJywgSlNPTi5zdHJpbmdpZnkodGhpcy5ab29tT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9nZ2xlU3dpdGNoQ29sb3JzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0LnRvZ2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2ZpbHRlclN0YXR1cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuRmlsdGVyT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9nZ2xlU3dpdGNoUmVhZGVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LnRvZ2dsZVN0YXR1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JlYWRlclN0YXR1cycsIEpTT04uc3RyaW5naWZ5KHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LnN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9nZ2xlU3dpdGNoLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQodG9nZ2xlU3dpdGNoKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2hvd09wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTW9zdHJhbmRvIG9wY2lvbmVzJyk7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3T3B0aW9uc09uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyTGlzdE9wdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVmZmVyX29wdGlvbnMnKTtcbiAgICAgICAgICAgICAgICBidWZmZXJMaXN0T3B0aW9ucyA9PT0gbnVsbCB8fCBidWZmZXJMaXN0T3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnVmZmVyTGlzdE9wdGlvbnMucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3T3B0aW9uc09uID0gIXRoaXMudmlld09wdGlvbnNPbjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWZmZXJMaXN0T3B0aW9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuaWQgPSAnYnVmZmVyX29wdGlvbnMnO1xuICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuY2xhc3NOYW1lID0gJ2J1ZmZlcl9vcHRpb25zJztcbiAgICAgICAgICAgIC8vQ3JlYXIgb3BjaW9uZXNcbiAgICAgICAgICAgIGNvbnN0IG9wY2lvbmVzID0gW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1pvb20nLCBzdGF0dXM6IHRoaXMuWm9vbU9iamVjdC5zdGF0dXMoKSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NvbG9ycycsIHN0YXR1czogdGhpcy5GaWx0ZXJPYmplY3Quc3RhdHVzKCkgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdSZWFkZXInLCBzdGF0dXM6IHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LnN0YXR1cygpIH0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgb3BjaW9uZXMuZm9yRWFjaCgob3BjaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnVmZmVyTGlzdE9wdGlvbnMuYXBwZW5kQ2hpbGQodGhpcy5idWlsZE9wdGlvbihvcGNpb24ubmFtZSwgb3BjaW9uLnN0YXR1cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJ1ZmZlckxpc3RPcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMudmlld09wdGlvbnNPbiA9ICF0aGlzLnZpZXdPcHRpb25zT247XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2VycmFyTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5pbWFjaW9uRW5Qcm9ncmVzbykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lbnNhamUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXllZWFzaXN0LWluaXRpYWwtbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZseU1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmx5X21lbnUnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hY2lvbkVuUHJvZ3Jlc28gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIENyZWEgdW5hIGFuaW1hY2nDs24gdXNhbmRvIGxhIEFQSSBkZSBhbmltYWNpw7NuIGRlIENTU1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuaW1hY2lvbiA9IG1lbnNhamUgPT09IG51bGwgfHwgbWVuc2FqZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVuc2FqZS5hbmltYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJyB9LFxuICAgICAgICAgICAgICAgICAgICB7IG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoLTEwMCUpJyB9XG4gICAgICAgICAgICAgICAgXSwge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlLW91dCcgLy8gVGlwbyBkZSBpbnRlcnBvbGFjacOzblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZseUFuaW1hdGlvbiA9IGZseU1lbnUgPT09IG51bGwgfHwgZmx5TWVudSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmx5TWVudS5hbmltYXRlKFtcbiAgICAgICAgICAgICAgICAgICAgeyB0b3A6ICc3MHB4JyB9LFxuICAgICAgICAgICAgICAgICAgICB7IHRvcDogJzMwcHgnIH0sIC8vIEVzdGFkbyBmaW5hbFxuICAgICAgICAgICAgICAgIF0sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDAsXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogJ2Vhc2UnLCAvLyBGdW5jacOzbiBkZSB0ZW1wb3JpemFjacOzbiAocHVlZGVzIGNhbWJpYXJsYSBzZWfDum4gdHVzIG5lY2VzaWRhZGVzKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChhbmltYWNpb24gJiYgZmx5QW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hY2lvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW5zYWplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVuc2FqZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYWNpb25FblByb2dyZXNvID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaW5pdE1lc3NhZ2VDbG9zZScsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGZseUFuaW1hdGlvbi5vbmZpbmlzaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbHlNZW51KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmx5TWVudS5zdHlsZS50b3AgPSAnMzBweCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbml0TWVzc2FnZVN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpbml0TWVzc2FnZUNsb3NlJyk7XG4gICAgICAgIGlmIChpbml0TWVzc2FnZVN0YXR1cyA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMudG9nZ2xlU3dpdGNoQ2xhc3NlcygpO1xuICAgICAgICBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5hZGRCdWZmZXJPcHRpb25zQ2xhc3MoKTtcbiAgICAgICAgQ3NzRXllZWFzc2lzdENsYXNzZXMuYWRkRmx5TWVudVN0eWxlKCk7XG4gICAgICAgIENzc0V5ZWVhc3Npc3RDbGFzc2VzLmFkZE9wdGlvbkZ1bmN0aW9uc0NsYXNzKCk7XG4gICAgICAgIHRoaXMuem9vbVN0YXR1cyA9IHpvb21TdGF0dXM7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhdHVzID0gZmlsdGVyU3RhdHVzO1xuICAgICAgICB0aGlzLnJlYWRlclN0YXR1cyA9IHJlYWRlclN0YXR1cztcbiAgICAgICAgY29uc3Qgc2F2ZWRab29tU3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3pvb21TdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkWm9vbVN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSB6b29tIHN0YXR1cyBndWFyZGFkbycsIEpTT04ucGFyc2Uoc2F2ZWRab29tU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnpvb21TdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkWm9vbVN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2F2ZWRGaWx0ZXJTdGF0dXMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZmlsdGVyU3RhdHVzJyk7XG4gICAgICAgIGlmIChzYXZlZEZpbHRlclN0YXR1cykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0hheSBmaWx0ZXIgc3RhdHVzIGd1YXJkYWRvJywgSlNPTi5wYXJzZShzYXZlZEZpbHRlclN0YXR1cykpO1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGF0dXMgPSBKU09OLnBhcnNlKHNhdmVkRmlsdGVyU3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzYXZlZFJlYWRlclN0YXR1cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZWFkZXJTdGF0dXMnKTtcbiAgICAgICAgaWYgKHNhdmVkUmVhZGVyU3RhdHVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSGF5IHJlYWRlciBzdGF0dXMgZ3VhcmRhZG8nLCBKU09OLnBhcnNlKHNhdmVkUmVhZGVyU3RhdHVzKSk7XG4gICAgICAgICAgICB0aGlzLnJlYWRlclN0YXR1cyA9IEpTT04ucGFyc2Uoc2F2ZWRSZWFkZXJTdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuWm9vbU9iamVjdCA9IG5ldyBab29tKHRoaXMuem9vbVN0YXR1cyk7XG4gICAgICAgIHRoaXMuRmlsdGVyT2JqZWN0ID0gbmV3IEZpbHRlcih0aGlzLmZpbHRlclN0YXR1cyk7XG4gICAgICAgIHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0ID0gbmV3IFNjcmVlblJlYWRlcih0aGlzLnJlYWRlclN0YXR1cywgdGhpcy50b2tlbik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLnNob3dJbml0TWVzc2FnZSgpO1xuICAgICAgICB0aGlzLnNob3dGbHlNZW51KCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQua2V5KTtcbiAgICAgICAgICAgIHRoaXMuWm9vbU9iamVjdC5hY3RpdmVab29tKHRoaXMuU2NyZWVuUmVhZGVyT2JqZWN0LmVuYWJsZSgpLCBldmVudCk7XG4gICAgICAgICAgICB0aGlzLlNjcmVlblJlYWRlck9iamVjdC5rZXliaW5kc1NjcmVlblJlYWRlcihldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaG93Rmx5TWVudSgpIHtcbiAgICAgICAgY29uc3QgZGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXZFbGVtZW50LmlkID0gJ2ZseV9tZW51JztcbiAgICAgICAgZGl2RWxlbWVudC5jbGFzc05hbWUgPSAnZmx5X21lbnUnO1xuICAgICAgICBkaXZFbGVtZW50LnN0eWxlLnRvcCA9IHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSA/ICczMHB4JyA6ICc3MHB4JztcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdIdW1hbignIzAwNjQwMCcpKTtcbiAgICAgICAgZGl2RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2hvd09wdGlvbnMpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgIH1cbiAgICBzaG93SW5pdE1lc3NhZ2UoKSB7XG4gICAgICAgIGxldCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdkVsZW1lbnQgPSBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5tYWluTWVzc2FnZShkaXZFbGVtZW50KTtcbiAgICAgICAgZGl2RWxlbWVudC5pZCA9ICdleWVlYXNpc3QtaW5pdGlhbC1tZXNzYWdlJztcbiAgICAgICAgaWYgKHRoaXMuaW5pdE1lc3NhZ2VDbG9zZSkge1xuICAgICAgICAgICAgZGl2RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkaXZFbGVtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGRpdkVsZW1lbnRDb250YWluZXIgPSBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5tZXNzYWdlQ29udGVudChkaXZFbGVtZW50Q29udGFpbmVyKTtcbiAgICAgICAgbGV0IHNwYW5FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBzcGFuRWxlbWVudC50ZXh0Q29udGVudCA9ICdFc3RhIHDDoWdpbmEgY3VlbnRhIGNvbiBoZXJyYW1pZW50YXMgZGUgYWNjZXNpYmlsaWRhZC4gUGFyYSBhY3RpdmFyIHkvbyBkZXNhY3RpdmFyIGVzdGFzIGhlcnJhbWllbnRhcyBwcmVzaW9uYSBjbWQgKyBBIG8gaGF6IGNsaWNrIGVuIGVsIGJvdMOzbic7XG4gICAgICAgIGxldCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGJ1dHRvbkVsZW1lbnQgPSBDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5jbG9zZUJ1dHRvbShidXR0b25FbGVtZW50KTtcbiAgICAgICAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2VycmFyTW9kYWwpO1xuICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZENoaWxkKENzc0V5ZWVhc3Npc3RDbGFzc2VzLnN2Z0Nsb3NlQnV0dG9tKCcjMDA2NDAwJykpO1xuICAgICAgICBkaXZFbGVtZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHNwYW5FbGVtZW50KTtcbiAgICAgICAgZGl2RWxlbWVudENvbnRhaW5lci5hcHBlbmRDaGlsZChDc3NFeWVlYXNzaXN0Q2xhc3Nlcy5zdmdIdW1hbignIzAwNjQwMCcsICcyMCcsICcyMCcpKTtcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChkaXZFbGVtZW50Q29udGFpbmVyKTtcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChidXR0b25FbGVtZW50KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZGl2RWxlbWVudCwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiRmlsdGVyU2VydmljZSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImhhc0luc2VydGVkQWNjZXNzIiwiYWN0aXZlX2ZpbHRlciIsImNvbG9yQmxpbmRuZXNzQ2xhc3NlcyIsInZpc2lvbkNsYXNzZXMiLCJjc3NGaWx0ZXIiLCJzdmdGaWx0ZXJUZW1wbGF0ZSIsImFwbGljYXJGaWx0cm8iLCJmaWx0cm8iLCJyZW1vdmVUZXN0cyIsInRvZ2dsZVRlc3QiLCJjb25zb2xlIiwiZXJyb3IiLCJ0ZXN0VHlwZSIsInRlc3RDbGFzcyIsImluc2VydEZpbGVzIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzdmciLCJjc3MiLCJib2R5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaSIsImxlbmd0aCIsInJlbW92ZSIsIkNzc0ZpbHRlckNsYXNzZXMiLCJhZGRGaWx0ZXJCdWZmZXJTdHlsZUNsYXNzIiwic3R5bGVTaGVldCIsInN0eWxlU2hlZXRzIiwiaW5zZXJ0UnVsZSIsImNzc1J1bGVzIiwiYWRkRmlsdGVyT3B0aW9uc1N0eWxlQ2xhc3MiLCJhZGRGaWx0ZXJTdHlsZUNsYXNzIiwiRmlsdGVyIiwiZW5hYmxlRmlsdGVyIiwiZmlsdGVyVmlld09uIiwic3RhcnRGaWx0ZXIiLCJldmVudCIsImNvbXBvbmVudCIsInRhcmdldCIsImZpbHRlclNlcnZpY2UiLCJ0ZXh0Q29udGVudCIsInNob3dGaWx0ZXJPcHRpb25zTGlzdCIsImZpbHRlcl9idWZmZXJfaW5zdGFuY2UiLCJnZXRFbGVtZW50QnlJZCIsImJ1ZmZlckxpc3REaXZFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImlkIiwiZmlsdGVyX2J1dHRvbiIsImFwcGVuZENoaWxkIiwiZm9yRWFjaCIsImZpbHRlciIsImJ1aWxkRmlsdGVyT3B0aW9uIiwic3RhdHVzIiwidG9nZ2xlU3RhdHVzIiwic2hvd0ZpbHRlck9wdGlvbnMiLCJpbWFnZSIsInNyYyIsInN0eWxlIiwid2lkdGgiLCJib3JkZXJSYWRpdXMiLCJkaXZFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZpbHRlck9wdGlvbiIsIm9wdGlvbkRpdkVsZW1lbnQiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiU2NyZWVuUmVhZGVyIiwidXNlU2NyZWVuUmVhZGVyIiwidG9rZW4iLCJfYSIsInN5bnRoIiwid2luZG93Iiwic3BlZWNoU3ludGhlc2lzIiwic2NyZWVuUmVhZGVyU3RhdHVzIiwic2VsZWN0ZWRBcnRpY2xlIiwic2VsZWN0ZWRMaW5rIiwiYXJ0aWNsZUluZGV4IiwibGlua0luZGV4IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRhbGsiLCJ0ZXh0IiwiY2FuY2VsIiwic3BlYWsiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJjYW5jZWxUYWxrIiwiYWJvcnQiLCJ0YWciLCJmaXJzdFNjcmlwdFRhZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImVuYWJsZSIsInNheVdlbGNvbWUiLCJzYXlHb29kYmF5Iiwia2V5YmluZHNTY3JlZW5SZWFkZXIiLCJjYW5jZWxSZWFkZXIiLCJyZVJlYWQiLCJhY3RpdmVTY3JlZW5SZWFkZXIiLCJtb3ZlQmV0d2VlbkNvbnRlbnQiLCJtb3ZlQmV0d2VlbkxpbmtzIiwiZ2V0SW1hZ2UiLCJmZXRjaCIsImdldERlc2NyaXB0aW9uIiwiYmxvYiIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJvcHRpb25zIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsInJlc3BvbnNlIiwiY2F0Y2giLCJuYW1lIiwidW5kZWZpbmVkIiwianNvbiIsIm1lc3NhZ2UiLCJyZWFkQ2hpbGRzIiwiYXJ0aWNsZSIsIm5vZGVOYW1lIiwicGxheWVyIiwiWVQiLCJQbGF5ZXIiLCJzZXRUaW1lb3V0IiwicGxheVZpZGVvIiwiaW1nIiwiYWx0IiwiZGVzY3JpcHRpb24iLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJ0cmltIiwiY2hpbGQiLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwidGFncyIsImN0cmxLZXkiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImxvZyIsImNsaWNrIiwibGlua3MiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwidGFnTmFtZSIsImZvY3VzIiwiQ3NzQ2xhc3NlcyIsImFkZFpvb21NZXNzYWdlVGV4dEJveENsYXNzIiwiWm9vbVNlcnZpY2UiLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwibGV2ZWwiLCJtb3VzZVgiLCJtb3VzZVkiLCJwYW5FbmdhZ2VUaW1lb3V0IiwicGFuVXBkYXRlSW50ZXJ2YWwiLCJjYWxsYmFja1RpbWVvdXQiLCJzdXBwb3J0c1RyYW5zZm9ybXMiLCJrZXl1cEV2ZW50Iiwia2V5Q29kZSIsIm91dCIsIm1vdXNlTW92ZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJ0cmFuc2l0aW9uIiwibWFnbmlmeSIsInJlY3QiLCJzY2FsZSIsInNjcm9sbE9mZnNldCIsImdldFNjcm9sbE9mZnNldCIsImhlaWdodCIsIngiLCJpbm5lcldpZHRoIiwieSIsImlubmVySGVpZ2h0IiwidHJhbnNmb3JtIiwib3JpZ2luIiwidHJhbnNmb3JtT3JpZ2luIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwicGFuIiwicmFuZ2VYIiwicmFuZ2VZIiwic2Nyb2xsIiwic2Nyb2xsWCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsWSIsInBhZ2VZT2Zmc2V0IiwidG8iLCJlbGVtZW50IiwicGFkZGluZyIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJjYWxjdWxhdGVQYW5VcGRhdGVJbnRlcnZhbCIsImNhbGxiYWNrIiwic2V0SW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJjbGVhckludGVydmFsIiwiT3B0aW9uc1pvb20iLCJab29tIiwiZW5hYmxlWm9vbU9wdGlvbnMiLCJ6b29tU3RhdHVzIiwiYWN0aXZlX21lc3NhZ2UiLCJkZWFjdGl2ZV9tZXNzYWdlIiwidG9vZ2xlWm9vbSIsInpvb21TZXJ2aWNlIiwidG9vZ2xlU3RhdHVzIiwiYWN0aXZlWm9vbSIsInNjcmVlblJlYWRlckFjdGl2ZSIsImluaXRpYWxDbGlja0V2ZW50Iiwic2hvd0JveE1lc3NhZ2UiLCJ6b29tX21lc3NhZ2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiQ3NzRXllZWFzc2lzdENsYXNzZXMiLCJtYWluTWVzc2FnZSIsImRpdiIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiYWxpZ25Db250ZW50IiwianVzdGlmeUl0ZW1zIiwianVzdGlmeUNvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6SW5kZXgiLCJjb2xvciIsIm1lc3NhZ2VDb250ZW50IiwidGV4dEFsaWduIiwiZmxleCIsImNsb3NlQnV0dG9tIiwiYnV0dG9uIiwiYmFja2dyb3VuZCIsImJvcmRlciIsIm1hcmdpbiIsImN1cnNvciIsImFsaWduU2VsZiIsImFkZEZseU1lbnVTdHlsZSIsInN2Z0h1bWFuIiwic3ZnRWxlbWVudCIsImNyZWF0ZUVsZW1lbnROUyIsInNldEF0dHJpYnV0ZSIsInBhdGhFbGVtZW50Iiwic3ZnQ2xvc2VCdXR0b20iLCJhZGRCdWZmZXJPcHRpb25zQ2xhc3MiLCJ0b2dnbGVTd2l0Y2hDbGFzc2VzIiwidG9vZ2xlU3dpdGNoQ2xhc3MiLCJ0b2dnbGVTd2l0Y2hDaXJjbGUiLCJ0b2dnbGVTd2l0Y2hBY3RpdmUiLCJ0b2dnbGVTd2l0Y2hBbmltYXRpb24iLCJhZGRPcHRpb25GdW5jdGlvbnNDbGFzcyIsImZpbHRlclN0YXR1cyIsInJlYWRlclN0YXR1cyIsImFuaW1hY2lvbkVuUHJvZ3Jlc28iLCJpbml0TWVzc2FnZUNsb3NlIiwidmlld09wdGlvbnNPbiIsImJ1aWxkT3B0aW9uIiwib3B0aW9uTmFtZSIsIm9wdGlvbiIsIm9wdGlvbk5hbWVFbGVtZW50IiwicGFkZGluZ1JpZ2h0IiwidG9nZ2xlU3dpdGNoIiwidG9nZ2xlIiwiWm9vbU9iamVjdCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiRmlsdGVyT2JqZWN0IiwiU2NyZWVuUmVhZGVyT2JqZWN0Iiwic2hvd09wdGlvbnMiLCJidWZmZXJMaXN0T3B0aW9ucyIsIm9wY2lvbiIsImNlcnJhck1vZGFsIiwibWVuc2FqZSIsImZseU1lbnUiLCJhbmltYWNpb24iLCJhbmltYXRlIiwib3BhY2l0eSIsImR1cmF0aW9uIiwiZWFzaW5nIiwiZmx5QW5pbWF0aW9uIiwib25maW5pc2giLCJnZXRJdGVtIiwic2F2ZWRab29tU3RhdHVzIiwicGFyc2UiLCJzYXZlZEZpbHRlclN0YXR1cyIsInNhdmVkUmVhZGVyU3RhdHVzIiwic3RhcnQiLCJzaG93SW5pdE1lc3NhZ2UiLCJzaG93Rmx5TWVudSIsImRpdkVsZW1lbnRDb250YWluZXIiLCJzcGFuRWxlbWVudCIsImJ1dHRvbkVsZW1lbnQiLCJmaXJzdENoaWxkIl0sInNvdXJjZVJvb3QiOiIifQ==